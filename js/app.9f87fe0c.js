(function(){"use strict";var e={537:function(e,t,a){var n=a(5130),o=a(6768),i=a(144),l=a(4232),r=a.p+"img/github-mark-white.fd5c0afd.svg",s=a.p+"img/world-map-coordinates-correct.be5765fb.png",u=a.p+"img/sundialicon.4d548112.svg",d=a.p+"img/pointshadowtraceicon.a0286b3e.svg",c=a(9691),h=a(7383),p=a(3911),v=a.n(p),m=(0,o.pM)({__name:"SunObject",props:{position:{required:!0,type:Object}},setup(e){const t=e,a=(0,o.EW)((()=>[t.position.x,t.position.y,t.position.z]));return(e,t)=>{const n=(0,o.g2)("TresSphereGeometry"),i=(0,o.g2)("TresMeshBasicMaterial"),l=(0,o.g2)("TresMesh"),r=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.Wv)(r,{position:a.value},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{args:[.5,20,16]}),(0,o.bF)(i,{color:"#ffffff"})])),_:1})])),_:1},8,["position"])}}});const g=m;var f=g,b=a(9428),w=a(7760),y=a(8776);a(4114);function k(e){return e*Math.PI/180}function R(e,t,a,n){const o=n*Math.PI/180,i=a*Math.PI/180,l=8400.5+e+t/1440,r=l+37/86400,s=r+32.184/86400,u=(k(280.46)+k(.9856474)*s)%(2*Math.PI),d=(k(357.528)+k(.9856003)*s)%(2*Math.PI),c=u+k(1.915)*Math.sin(d)+k(.02)*Math.sin(2*d),h=k(23.4393)-k(4e-7)*s,p=Math.atan2(Math.cos(h)*Math.sin(c),Math.cos(c)),v=Math.asin(Math.sin(h)*Math.sin(c)),m=Math.trunc(l+.5)-.5,g=24*(l-m),f=s/36525,b=(6.697375+.065707485828*m+1.0027379*g+.0854103*f+258e-7*Math.pow(f,2))*Math.PI/12,w=k(125.04)-k(.052954)*s,y=(-319e-6*Math.sin(w)-24e-6*Math.sin(2*u))*Math.PI/12,R=y*Math.cos(h),M=b+R,L=M+o,x=L-p,E=-Math.atan2(Math.cos(v)*Math.sin(x),-Math.sin(i)*Math.cos(v)*Math.cos(x)+Math.cos(i)*Math.sin(v)),_=Math.asin(Math.sin(i)*Math.sin(v)+Math.cos(i)*Math.cos(v)*Math.cos(x));return{azimuth:E,altitude:_}}function M(e,t,a=15){return{x:a*Math.sin(e)*Math.cos(t),y:a*Math.sin(t),z:a*-Math.cos(e)*Math.cos(t)}}function L(e,t){return new y.Vector3(Math.sin(e),-Math.cos(e)*Math.cos(t),-Math.cos(e)*Math.sin(t))}function x(e,t,a){const n=L(e,t),o=new y.Vector3(0,Math.sin(t),-Math.cos(t)),i=n.clone().cross(o),l=i.clone().cross(a);return l}function E(e){const t=Math.floor((e/60%24+24)%24).toString().padStart(2,"0"),a=Math.floor((e%60+60)%60).toString().padStart(2,"0");return`${t}:${a}`}function _(e){const t=e.match(/^\s*([0-9]+)(?::([0-9]*))?\s*$/);if(!t)return NaN;const a=Number.parseInt(t[1]);if(a<0||a>23)return NaN;let n=0;return t[2]&&""!=t[2]&&(n=Number.parseInt(t[2]),n<0||n>59)?NaN:60*a+n}function S(e){const t=new Date(Date.parse("2001")+24*e*60*60*1e3);return t.toLocaleDateString(void 0,{month:"long",day:"numeric"})}function P(e){const t=e>0?"+":e<0?"-":"Â±",a=Math.abs(Math.trunc(e/60)),n=Math.abs(e%60);let o=t+a.toString();return 0!=n&&(o+=":"+n.toString()),o}function W(e,t,a){const n=new y.Ray(t,a);let o=n.intersectPlane(e,new y.Vector3);if(o)return{dir:1,point:o};const i=new y.Ray(t,a.clone().multiplyScalar(-1));return o=i.intersectPlane(e,new y.Vector3),o?{dir:-1,point:o}:null}function F(e,t,a,n){const o=e.distanceToSquared(a)-Math.pow(t,2),i=-2*e.clone().sub(a).multiply(n).dot(new y.Vector3(1,1,1)),l=Math.pow(n.length(),2),r=Math.pow(i,2)-4*l*o;return r<0?[]:[(-i-Math.sqrt(r))/(2*l),(-i+Math.sqrt(r))/(2*l)]}function V(e){return 60*Math.round(e/360*24)}function T(e,t,a){const n=e.normal,o=t.normal,i=a.normal,l=e.coplanarPoint(new y.Vector3),r=t.coplanarPoint(new y.Vector3),s=a.coplanarPoint(new y.Vector3),u=(new y.Vector3).crossVectors(o,i).multiplyScalar(l.dot(n)),d=(new y.Vector3).crossVectors(i,n).multiplyScalar(r.dot(o)),c=(new y.Vector3).crossVectors(n,o).multiplyScalar(s.dot(i)),h=(new y.Matrix3).set(n.x,n.y,n.z,o.x,o.y,o.z,i.x,i.y,i.z).determinant();if(0==h)return null;const p=(new y.Vector3).add(u).add(d).add(c),v=new y.Vector3(p.x/h,p.y/h,p.z/h);return v}function C(e){if(0==e.filter((e=>null!=e)).length)return[];const t=[],a=e.indexOf(null);if(-1==a)return[...e];for(let n=a;n<a+e.length;n++){const a=e[n%e.length];if(a)t.push(a);else if(0!=t.length)break}return t}function z(e,t){const a=t-e.length,n=e[e.length-1];for(let o=0;o<a;o++)e.push(n)}var $=a(6702),A=(0,o.pM)({__name:"SundialLetter",props:{text:{required:!0,type:String},position:{required:!0,type:Object},castShadow:{required:!1,default:!1,type:Boolean},receiveShadow:{required:!1,default:!1,type:Boolean},size:{required:!1,default:.2,type:Number}},setup(e){const t=e,a=(0,o.EW)((()=>""!=t.text)),n=(0,o.EW)((()=>.03*t.size/.2)),r=[-Math.PI/2,0,0];return(t,s)=>{const u=(0,o.g2)("TresMeshPhongMaterial"),d=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.Wv)(d,{position:e.position,rotation:r,visible:a.value},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)(o.tY,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,i.R1)($.xg),{font:"./fonts/PTSerif_Regular_Only_Numerals.json",size:e.size,"bevel-enabled":!1,height:n.value,"cast-shadow":e.castShadow,"receive-shadow":e.receiveShadow,"need-updates":"",center:""},{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(e.text)+" ",1),(0,o.bF)(u,{color:"#737373"})])),_:1},8,["size","height","cast-shadow","receive-shadow"])])),_:1}))])),_:1},8,["position","visible"])}}});const O=A;var I=O,q=(0,o.pM)({__name:"DialAndGnomonSundial",props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number},numeralDistanceFromSundialOrigin:{required:!0,type:Number}},setup(e){const t=e,a=(0,i.KR)({...t});(0,o.wB)(t,(e=>{e.show&&(a.value={...e})}),{immediate:!0});const n=(0,o.EW)((()=>(90-a.value.latitude)*Math.PI/180)),l=(0,o.EW)((()=>{const e=(new y.Matrix4).makeRotationFromEuler(a.value.rotation).invert().multiply((new y.Matrix4).makeRotationFromEuler(new y.Euler(-n.value,0,0)));return(new y.Euler).setFromRotationMatrix(e)}));let r=(0,o.EW)((()=>new y.Vector3(0,1,0).applyEuler(a.value.rotation))),s=(0,o.EW)((()=>new y.Vector3(...a.value.gnomonPosition).applyEuler(a.value.rotation).add(new y.Vector3(...a.value.origin)))),u=(0,o.EW)((()=>{const e=new y.Plane(r.value,0).translate(new y.Vector3(...a.value.origin)),t=new y.Vector3(0,-Math.sin(a.value.latitude*Math.PI/180),Math.cos(a.value.latitude*Math.PI/180));return W(e,s.value,t)})),d=(0,o.EW)((()=>u.value?.point??null)),c=(0,o.EW)((()=>u.value?.dir??null));const h=[...Array(24).keys()],p=(0,o.EW)((()=>h.map((e=>{let t;return t="standard"==a.value.hourLineStyle?e-a.value.timeZone/60+24*a.value.longitude/360:e,(60*t%1440+1440)%1440*Math.PI*2/1440})))),v=(0,o.EW)((()=>p.value.map((e=>x(e,a.value.latitude*Math.PI/180,new y.Vector3(...r.value)).multiplyScalar(c.value??1))))),m=(0,o.EW)((()=>d.value&&d.value.distanceTo(a.value.origin)<1e3?"stylePlateIntersection":"otherIntersection")),g=(0,o.EW)((()=>{switch(m.value){case"stylePlateIntersection":return h.map((()=>d.value));case"otherIntersection":{const e=a.value.latitude*Math.PI/180,t=s.value,n=new y.Vector3(0,Math.sin(e),-Math.cos(e)),o=n.clone().add(t),i=n.clone().projectOnPlane(r.value).normalize().multiplyScalar((a.value.radius+1)*-(c.value??1)).add(a.value.origin),l=(new y.Plane).setFromNormalAndCoplanarPoint(r.value,a.value.origin),u=(new y.Plane).setFromNormalAndCoplanarPoint(n,i);return p.value.map((a=>{const n=L(a,e),r=(new y.Plane).setFromCoplanarPoints(n.clone().add(t),t,o),s=T(r,l,u)??i;return s}))}default:return[]}}));let f=(0,o.EW)((()=>h.map(((e,t)=>{const n=g.value[t],o=v.value[t],i=F(new y.Vector3(...a.value.origin),a.value.radius,n,o);return 0==i.length||i[0]<0&&i[1]<0?[]:(i[0]<0&&(i[0]=0),i)})))),b=(0,o.EW)((()=>r.value.clone().normalize().multiplyScalar(.007))),w=(0,o.EW)((()=>h.map(((e,t)=>{const n=g.value[t],o=v.value[t],i=f.value[t],l=(()=>{const e=F(new y.Vector3(...a.value.origin),a.value.numeralDistanceFromSundialOrigin,n,o);if(0==e.length)return null;if(e[1]<0)return null;const t=o.clone().multiplyScalar(e[1]).add(n);return"stylePlateIntersection"==m.value&&n.distanceTo(t)<3?null:(t.sub(a.value.origin).applyMatrix4((new y.Matrix4).makeRotationFromEuler(a.value.rotation).invert()),t.toArray())})();return{hour:e,label:l?e.toString():"",points:0==i.length?[new y.Vector3(0,0,0),new y.Vector3(0,0,0)]:[o.clone().multiplyScalar(i[0]).add(n).add(b.value),o.clone().multiplyScalar(i[1]).add(n).add(b.value)],labelPoint:l??[0,0,0]}}))));const k=(0,o.EW)((()=>a.value.rotation.clone())),R=(0,o.EW)((()=>[a.value.radius,a.value.radius,.1]));return(t,n)=>{const r=(0,o.g2)("TresObject3D"),s=(0,o.g2)("TresCylinderGeometry"),u=(0,o.g2)("TresMeshPhongMaterial"),d=(0,o.g2)("TresMesh");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r,{visible:e.show},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,i.R1)(w),(({points:e,hour:t})=>((0,o.uX)(),(0,o.Wv)((0,i.R1)($.Xk),{key:t,"line-width":1,points:e,color:"#FFFFFF"},null,8,["points"])))),128))])),_:1},8,["visible"]),(0,o.bF)(r,{visible:e.show,position:a.value.origin,rotation:k.value},{default:(0,o.k6)((()=>[(0,o.bF)(d,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(s,{args:R.value},null,8,["args"]),(0,o.bF)(u,{color:"#f9ecec"})])),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,i.R1)(w),(e=>((0,o.uX)(),(0,o.Wv)(I,{key:e.hour,text:e.label,position:e.labelPoint,"receive-shadow":""},null,8,["text","position"])))),128)),(0,o.bF)(d,{position:a.value.gnomonPosition,rotation:l.value,"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(s,{args:[.05,.05,2]}),(0,o.bF)(u,{color:"#b7b7b7"})])),_:1},8,["position","rotation"])])),_:1},8,["visible","position","rotation"])],64)}}});const j=q;var N=j,U=a(4239),K=(0,o.pM)({__name:"CameraHelper",props:{xOffset:{required:!0,type:Number},zoomPerSecond:{required:!1,default:1,type:Number}},emits:["cameraPosChange"],setup(e,{emit:t}){(0,c.X$)({OrbitControls:U.N});const{camera:a,sizes:n,renderer:l,invalidate:r}=(0,c.lG)(),s=e,u=t;(0,o.wB)((()=>[n.width.value,n.height.value,s.xOffset]),(()=>{const e=(n.width.value+2*Math.abs(s.xOffset))/n.width.value;a.value?.isPerspectiveCamera&&a.value.setViewOffset(n.width.value*e,n.height.value*e,s.xOffset>0?2*s.xOffset:0,n.height.value*(e-1)/2,n.width.value,n.height.value)}),{immediate:!0});const{onBeforeRender:d,pause:h,resume:p}=(0,c._N)();return(0,o.wB)((()=>s.zoomPerSecond),(e=>{1==e?h():p()}),{immediate:!0}),d((({delta:e})=>{if(a.value){const t=Math.pow(s.zoomPerSecond,e);a.value.position.x*=t,a.value.position.y*=t,a.value.position.z*=t}})),(0,o.wB)((()=>[a.value?.position.x,a.value?.position.y,a.value?.position.z]),(()=>{a.value&&(r(),u("cameraPosChange",a.value.position.clone()))}),{immediate:!0}),(e,t)=>{const n=(0,o.g2)("TresOrbitControls");return(0,i.R1)(l)?((0,o.uX)(),(0,o.Wv)(n,{key:0,args:[(0,i.R1)(a),(0,i.R1)(l)?.domElement],"enable-damping":!1,"rotate-speed":.5,"enable-pan":!1,target:[0,0,0]},null,8,["args"])):(0,o.Q3)("",!0)}}});const X=K;var B=X,Z=(0,o.pM)({__name:"RendererHelper",setup(e){const{renderer:t}=(0,c.lG)();return t.value.setPixelRatio(window.devicePixelRatio),t.value.localClippingEnabled=!0,()=>{}}});const G=Z;var H=G,D=a.p+"img/Equation_of_time.fb12789b.svg";function J(e,t){return t[0]||(t[0]=(0,o.Fv)('<p style="margin-top:0;" data-v-53974f78><b data-v-53974f78>Apparent solar time</b> is the time based on the observed local position of the sun. 12 noon is the exact time at which the sun is highest in the sky.</p><p data-v-53974f78>However, if you measure the length of time between two consecutive solar noons, the measurement could differ from 24 hours by -21 to +30 seconds. (see the <a href="https://en.wikipedia.org/wiki/Solar_time" target="_blank" data-v-53974f78>Wikipedia article on Solar Time</a> for an explanation).</p><p data-v-53974f78>Instead, in <b data-v-53974f78>Mean solar time</b>, every day is exactly<b data-v-53974f78>*</b> 24 hours long. This is more useful, but due to those small deviations in the length of the solar day adding up, the mean solar time can differ from the apparent solar time by up to 16 minutes. The relationship between the apparent and mean solar time can be seen in the <b data-v-53974f78>Equation of Time</b>.</p><div style="text-align:center;" data-v-53974f78><img src="'+D+'" alt="Equation of time graph" style="max-height:200px;background-color:white;" data-v-53974f78><br data-v-53974f78></div><i data-v-53974f78>Attribution: By <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-53974f78>Equation of time.png</a>: <a href="//commons.wikimedia.org/wiki/User:Drini" title="User:Drini" target="_blank" data-v-53974f78>User:Drini</a> derivative work: <a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-53974f78>Zazou</a> (<a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-53974f78><span class="signature-talk" data-v-53974f78>talk</span></a>) - <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-53974f78>Equation of time.png</a>, <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-Share Alike 3.0" target="_blank" data-v-53974f78>CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=6961998" target="_blank" data-v-53974f78>Link</a></i><p data-v-53974f78>In order to standardize time for different longitudes, <b data-v-53974f78>Coordinated Universal Time (UTC)</b> is used, which represents the mean solar time at 0 degrees longitude (or, within 1 second of it). <b data-v-53974f78>Local standard time</b> is UTC adjusted by the time zone.</p><p data-v-53974f78><i data-v-53974f78><b data-v-53974f78>*</b>Well, almost exactly. The length of the mean solar day actually varies a tiny bit each year compared to International Atomic Time. This sometimes requires a <b data-v-53974f78>leap second</b> be added to or subtracted from UTC.</i></p>',7))}var Y=a(1241);const Q={},ee=(0,Y.A)(Q,[["render",J],["__scopeId","data-v-53974f78"]]);var te=ee;const ae=[{target:"#app",content:"Click and drag on the sundial to look around, and use the mouse wheel to adjust the zoom.\nZoom out to see the sun's position!",params:{placement:"bottom",enableScrolling:!1}},{target:'[data-v-walkthrough="status"]',content:"Use the sliders to change the <b>Time</b> and <b>Date</b>.\nYou can also click on the digital clock to set the time manually.",params:{placement:"auto",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="map"]',content:"Sundials work differently depending on the location on Earth.\nSet the location by clicking on the map, or by typing the <b>Latitude</b> and <b>Longitude</b>.",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="time-zone"]',content:"The <b>Time Zone</b> is set automatically based on the longitude. Instead, to manually input the time zone, uncheck <b>Automatically set time zone</b> and type in the <b>Time Zone</b> box.\n",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="sundial-type"]',content:"Choose between 2 types of sundial. <b>Traditional sundial</b> uses a <i>gnomon</i> to cast a shadow, and <b>Point shadow trace</b> uses a <i>nodus</i>, showing where the shadow of a single point falls throughout the day and year.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="slant-and-rotation"]',content:"The <b>Slant</b> and <b>Rotation</b> of the sundial can be changed. \nE.g. to simulate a wall-mounted sundial, set the <b>Slant</b> to 90Â° and the <b>Rotation</b> to the direction the wall is facing.<br>\nAdditionally, the <b>Gnomon height</b> (or Nodus height in Point shadow trace mode) adjusts the distance from the center of the shadow-casting object to the plate. The unit is arbitrary, because it's only the scale that matters.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="hour-lines"]',content:'Sundials often measure <b>Solar time</b>, where solar noon is the time at which the sun is highest in the sky.\nHowever, you may want the sundial to measure an approximation of standard time, taking the longitude and time zone into account. To do this, select <b>Adjusted for time zone and longitude</b>. Note that depending on the time of year the reading can be inaccurate by up to 16 min 33 s due to the varying length of the solar day (see <a href="https://en.wikipedia.org/wiki/Equation_of_time" target="_blank">https://en.wikipedia.org/wiki/Equation_of_time</a>).',params:{placement:"right",highlight:!0}}];var ne=a(6778),oe=a(9438),ie=a(1950),le=a(3667),re=(0,o.pM)({__name:"Line2FromCientosPackageAndItsTheSameButYouCanAlsoUseClippingPlanesSoItsNot",props:{points:{},vertexColors:{default:null},color:{default:"white"},lineWidth:{default:1},worldUnits:{type:Boolean,default:!1},alphaToCoverage:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},dashSize:{default:1},gapSize:{default:1},dashScale:{default:1},dashOffset:{default:0},clippingPlanes:{default:null}},setup(e,{expose:t}){const a=e;function n(e,t){if(!e||0===e.length)return Array.from({length:t}).fill((0,c.$2)(a.color));if(1===e.length)return Array.from({length:t}).fill((0,c.$2)(e[0]));if(e.length===t)return e.map(c.$2);const n=t-1,o=e.map(c.$2);closed&&o.push(o[0].clone());const i=[o[0]],l=n/(o.length-1);for(let a=1;a<n;a++){const e=a%l/l,t=Math.floor(a/l);i.push(o[t].clone().lerp(o[t+1],e))}return i.push(o[o.length-1]),i}const l=new le.G,r=new ie.v,s=new oe.X(r,l),{sizes:u,invalidate:d}=(0,c.lG)(),h=(0,o.EW)((()=>Array.isArray(a.vertexColors)));function p(e,t){e.color=(0,c.$2)(t.color),e.linewidth=t.lineWidth,e.alphaToCoverage=t.alphaToCoverage,e.worldUnits=t.worldUnits,e.vertexColors=Array.isArray(t.vertexColors),e.dashed=t.dashed,e.dashScale=t.dashScale,e.dashSize=t.dashSize,e.dashOffset=t.dashOffset,e.gapSize=t.gapSize,e.needsUpdate=!0,e.clippingPlanes=t.clippingPlanes}function v(e,t,a){const o=t.map((e=>e instanceof y.Vector3?[e.x,e.y,e.z]:e instanceof y.Vector2?[e.x,e.y,0]:Array.isArray(e)&&2===e.length?[e[0],e[1],0]:e)).flat();e.setPositions(o.flat());const i=n(a,t.length).map((e=>e.toArray())).flat();e.setColors(i),s.computeLineDistances()}p(l,a),v(r,a.points,a.vertexColors),s.computeLineDistances(),(0,o.wB)((()=>[a.color,a.lineWidth,a.alphaToCoverage,a.worldUnits,h,a.dashed,a.dashScale,a.dashSize,a.dashOffset,a.clippingPlanes]),(()=>{p(l,a),d()})),(0,o.wB)((()=>[a.points,a.vertexColors]),(()=>{v(r,a.points,a.vertexColors),d()})),(0,o.wB)((()=>[u.height,u.width]),(()=>{l.resolution=new y.Vector2(u.width.value,u.height.value),d()})),(0,o.hi)((()=>{r.dispose(),l.dispose()}));const m=(0,i.IJ)();return t({instance:m}),(e,t)=>{const a=(0,o.g2)("primitive");return(0,o.uX)(),(0,o.Wv)(a,{ref:m.value,object:(0,i.R1)(s)},null,8,["object"])}}});const se=re;var ue=se;const de=.15;var ce=(0,o.pM)({__name:"PointSundial",props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number}},setup(e){const t=e,a=(0,i.KR)({...t});(0,o.wB)(t,(e=>{e.show&&(a.value={...e})}),{immediate:!0});const n=(0,o.EW)((()=>new y.Vector3(...a.value.gnomonPosition).applyEuler(a.value.rotation).add(new y.Vector3(...a.value.origin))));let l=(0,o.EW)((()=>new y.Vector3(0,1,0).applyEuler(a.value.rotation)));const r=(0,o.EW)((()=>new y.Plane(l.value,0).translate(new y.Vector3(...a.value.origin)))),s=(0,o.EW)((()=>l.value.clone().normalize().multiplyScalar(.007)));function u(e,t){const o=(()=>{switch(a.value.hourLineStyle){case"solar":return 0;case"standard":return a.value.longitude}})(),{azimuth:i,altitude:l}=R(t,60*e,a.value.latitude,o),u=M(i,l),d=new y.Ray(n.value,new y.Vector3(-u.x,-u.y,-u.z)),c=d.intersectPlane(r.value,new y.Vector3);return c?.add(s.value)??null}const d=[...Array(24).keys()],c=[...Array(37).keys()].map((e=>10*e)),h=(0,o.EW)((()=>d.map((e=>c.map((t=>u(e,t))))))),p=(0,o.EW)((()=>{let e=[];for(const[t,a]of h.value.entries()){let n=C(a);0==n.length?n.push(new y.Vector3(0,0,0)):n.length==c.length&&n.push(n[0]),z(n,c.length+1),e.push({hour:d[t],line:n})}return e})),v=[171,354],m=[...Array(48).keys()].map((e=>e/2)),g=(0,o.EW)((()=>v.map((e=>m.map((t=>u(t,e))))))),f=(0,o.EW)((()=>[...g.value.entries()].map((([e,t])=>{let a=C(t);return 0==a.length?a.push(new y.Vector3(0,0,0)):a.length==m.length&&a.push(a[0]),z(a,m.length+1),{date:v[e],line:a}})))),b=(0,o.EW)((()=>[{normal:new y.Vector3(1,0,0),coplanarPoint:new y.Vector3(-a.value.radius,0,0).add(a.value.origin)},{normal:new y.Vector3(-1,0,0),coplanarPoint:new y.Vector3(a.value.radius,0,0).add(a.value.origin)},{normal:new y.Vector3(0,0,1),coplanarPoint:new y.Vector3(0,0,-a.value.radius).add(a.value.origin)},{normal:new y.Vector3(0,0,-1),coplanarPoint:new y.Vector3(0,0,a.value.radius).add(a.value.origin)}])),w=(0,o.EW)((()=>{const e=[];for(let{normal:t,coplanarPoint:n}of b.value)e.push((new y.Plane).setFromNormalAndCoplanarPoint(t.clone().applyEuler(a.value.rotation),n.clone().add(a.value.origin.clone().multiplyScalar(-1)).applyEuler(a.value.rotation).add(a.value.origin)));return e})),L=(0,o.EW)((()=>d.map((e=>{let t;return t="standard"==a.value.hourLineStyle?e-a.value.timeZone/60+24*a.value.longitude/360:e,(60*t%1440+1440)%1440*Math.PI*2/1440})))),E=(0,o.EW)((()=>{const e=new y.Ray(n.value,new y.Vector3(0,Math.cos(k(90-a.value.latitude)),-Math.sin(k(90-a.value.latitude)))),t=e.intersectsPlane(r.value);return t?"winter":"summer"})),_=(0,o.EW)((()=>L.value.map((e=>x(e,a.value.latitude*Math.PI/180,l.value).normalize().multiplyScalar(.2*("winter"==E.value?1:-1)))))),S=(0,o.EW)((()=>{const e=(()=>{switch(E.value){case"winter":return 354;case"summer":return 171}})();return d.map(((t,n)=>{let o;if(o="standard"==a.value.hourLineStyle?u(((d[n]-a.value.timeZone/60)%24+24)%24,e)?.add(_.value[n]):u(12*L.value[n]/Math.PI,e)?.add(_.value[n]),!o)return null;for(let e of w.value){const t=e.clone();if(t.constant-=de,t.distanceToPoint(o)<0)return null}return o}))})),P=(0,o.EW)((()=>d.map(((e,t)=>({hour:e,label:S.value[t]?e.toString():"",pos:S.value[t]?.sub(a.value.origin).applyMatrix4((new y.Matrix4).makeRotationFromEuler(a.value.rotation).invert())??new y.Vector3(0,0,0)}))))),W=(0,o.EW)((()=>{if(!a.value.show)return.12;const e=new y.Vector3(0,0,0).distanceTo(a.value.gnomonPosition);return e<1?.055:.12})),F=(0,o.EW)((()=>[2*a.value.radius,.1,2*a.value.radius])),V=(0,o.EW)((()=>a.value.rotation.clone())),T=(0,o.EW)((()=>[[0,0,0],a.value.gnomonPosition.toArray()])),A=(0,o.EW)((()=>a.value.gnomonPosition.clone()));return(e,n)=>{const l=(0,o.g2)("TresObject3D"),r=(0,o.g2)("TresBoxGeometry"),s=(0,o.g2)("TresMeshPhongMaterial"),u=(0,o.g2)("TresMesh"),d=(0,o.g2)("TresSphereGeometry");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(l,{visible:t.show},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(p.value,(e=>((0,o.uX)(),(0,o.Wv)(ue,{key:e.hour,"line-width":1,points:e.line,color:"#ffffff","clipping-planes":w.value},null,8,["points","clipping-planes"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.value,(e=>((0,o.uX)(),(0,o.Wv)(ue,{key:e.date,"line-width":1,points:e.line,color:"#ffffff","clipping-planes":w.value},null,8,["points","clipping-planes"])))),128))])),_:1},8,["visible"]),(0,o.bF)(l,{visible:t.show,position:a.value.origin,rotation:V.value},{default:(0,o.k6)((()=>[(0,o.bF)(u,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(r,{args:F.value},null,8,["args"]),(0,o.bF)(s,{color:"#f9ecec"})])),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(P.value,(e=>((0,o.uX)(),(0,o.Wv)(I,{key:e.hour,"receive-shadow":"",position:e.pos,text:e.label,size:W.value},null,8,["position","text","size"])))),128)),(0,o.bF)(u,{position:A.value,"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(d,{args:[.08,20,16]}),(0,o.bF)(s,{color:"#b7b7b7"})])),_:1},8,["position"]),(0,o.bF)((0,i.R1)($.Xk),{"line-width":2,points:T.value,color:"#ffffff"},null,8,["points"])])),_:1},8,["visible","position","rotation"])],64)}}});const he=ce;var pe=he,ve=(0,o.pM)({__name:"CompassObject",props:{rotation:{required:!0,type:Object}},setup(e){const t=e,a=(0,o.EW)((()=>t.rotation.clone())),n=[0,Math.PI,0];return(e,t)=>{const l=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.Wv)(l,{rotation:a.value},{default:(0,o.k6)((()=>[(0,o.bF)(l,{rotation:n},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)(o.tY,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,i.R1)($.FW),{path:"./objects3d/compass.glb"})])),_:1}))])),_:1})])),_:1},8,["rotation"])}}});const me=ve;var ge=me;const fe={style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},be={id:"overlay"},we={id:"sidebarContent"},ye={"data-v-walkthrough":"map"},ke={class:"horizontal_settings"},Re={class:"setting"},Me={key:0,class:"error"},Le={class:"setting"},xe={key:0,class:"error"},Ee={class:"setting"},_e={key:0,class:"error"},Se={style:{display:"grid","grid-template-columns":"min-content auto","grid-template-rows":"min-content auto"}},Pe={style:{position:"relative","aspect-ratio":"2 / 1"}},We={class:"setting","data-v-walkthrough":"time-zone"},Fe={class:"setting","data-v-walkthrough":"sundial-type"},Ve={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},Te={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},Ce={"data-v-walkthrough":"slant-and-rotation"},ze={class:"setting"},$e={key:0,class:"error"},Ae={class:"setting"},Oe={key:0,class:"error"},Ie={class:"setting"},qe={class:"fieldTitle"},je={key:0,class:"error"},Ne={class:"setting","data-v-walkthrough":"hour-lines"},Ue={class:"checkboxSetting"},Ke={class:"checkboxSetting"},Xe={class:"checkboxSetting"},Be={id:"topRightControls"},Ze={id:"compassContainer",title:"North"},Ge={id:"status","data-v-walkthrough":"status"},He={style:{display:"flex","flex-direction":"row","align-items":"center"}},De={style:{display:"flex","margin-left":"10px","justify-content":"end","flex-direction":"column","align-items":"stretch","padding-block":"9px"}},Je={class:"subtitle"},Ye={class:"subtitle"},Qe={class:"subtitle"},et={class:"popper_content"},tt={style:{"text-align":"left"}},at={class:"subtitle",style:{"margin-top":"13px"}},nt=5,ot=4,it=4,lt=3;var rt=(0,o.pM)({__name:"App",setup(e){(0,n.$9)((e=>({"2627baca":ht.value})));const t=new y.Vector3(0,-.5,0);let a=(0,i.KR)(720),p=(0,i.KR)(162),m=(0,i.KR)(0),g=(0,i.KR)(0),k=(0,i.KR)(!0),L=(0,i.KR)(0),x=(0,i.KR)(!1),W=(0,i.KR)("standard"),F=(0,i.KR)("dialAndGnomon"),T=(0,i.KR)(1),C=(0,i.KR)(new y.Euler(0,0,0,"YXZ")),z=(0,i.KR)(1),$=(0,i.KR)(),A=(0,i.KR)(!1),O=(0,i.KR)("");const I=(0,i.KR)(null);function q(){0==A.value&&(A.value=!0,O.value=E(a.value),(0,o.dY)((()=>I.value?.focus())))}function j(){if(!I.value)return;const e=_(I.value.value);isNaN(e)||(a.value=e)}function U(){1==A.value&&(A.value=!1,j())}(0,h.X2F)(I,U),(0,o.sV)((()=>{document.addEventListener("keydown",(e=>{"Escape"==e.key&&oe(!1)}))}));const K={latitude:"45.00",longitude:"0.00",timeZone:"+0:00",slant:"0",rotation:"0",gnomonHeight:"1"},X=/^\s*([+-Â±]?)\s*((?:0?[0-9])|1[0-9])(?::((?:0[0-9])|[1-5][0-9]))?\s*$/;let Z=(0,i.Kh)(K);const G=(0,o.EW)((()=>({latitude:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-90),maxValue:(0,b.cG)(90)},longitude:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-180),maxValue:(0,b.cG)(180)},timeZone:{isATimeZone:b._$.withMessage("Your time zone should look like +/-HH(:MM)",b._$.regex(X))},slant:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(0),maxValue:(0,b.cG)(180)},rotation:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-180),maxValue:(0,b.cG)(180)},gnomonHeight:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(.5),maxValue:(0,b.cG)(3)}}))),D=(0,w.Ay)(G,Z);(0,o.wB)((()=>Z.longitude),(e=>{D.value.longitude.$invalid||(m.value=Number.parseFloat(e),k.value&&(Z.timeZone=P(V(m.value))))}),{immediate:!0}),(0,o.wB)((()=>Z.latitude),(e=>{D.value.latitude.$invalid||(g.value=Number.parseFloat(e))}),{immediate:!0}),(0,o.wB)((()=>Z.timeZone),(e=>{const t=e.match(X);if(t){const e=("-"==t[1]?-1:1)*(60*Number.parseInt(t[2])+Number.parseInt(t[3]??0));a.value=((a.value+e-L.value)%1440+1440)%1440,L.value=e}}),{immediate:!0}),(0,o.wB)((()=>Z.slant),(e=>{D.value.slant.$invalid||(C.value.x=Number.parseFloat(e)*Math.PI/180)}),{immediate:!0}),(0,o.wB)((()=>Z.rotation),(e=>{D.value.rotation.$invalid||(C.value.y=-Number.parseFloat(e)*Math.PI/180)}),{immediate:!0}),(0,o.wB)((()=>Z.gnomonHeight),(e=>{D.value.gnomonHeight.$invalid||(z.value=Number.parseFloat(e))}),{immediate:!0});const J=(0,o.nI)();let Y=(0,i.KR)(!1);function Q(){const e=J?.appContext.config.globalProperties.$tours["walkthrough"];e&&(e.isRunning.value?e.stop():(ee(),e.start()))}function ee(){J?.appContext.config.globalProperties.$tours["walkthrough"].finish(),Y.value=!1}function oe(e){e&&ee(),Y.value=e}let ie=(0,i.KR)(),le=(0,i.KR)(!1);function re(e){if(ie.value){const t=e.offsetX/ie.value.width*360-180,a=90-e.offsetY/ie.value.height*180;Z.longitude=t.toFixed(1),Z.latitude=a.toFixed(1)}}function se(e){le.value&&re(e)}function ue(){le.value=!0}function de(e){re(e)}(0,o.sV)((()=>{window.addEventListener("mouseup",(()=>{le.value=!1}))}));let ce=(0,i.KR)({clientWidth:0,clientHeight:0});const he=(0,i.KR)(),ve=new ResizeObserver((()=>{const e=he.value?.clientWidth??0,t=he.value?.clientHeight??0;ce.value={clientWidth:e,clientHeight:t}}));(0,o.sV)((()=>{ve.observe(he.value)})),(0,o.wB)((()=>k.value),(e=>{e&&(Z.timeZone=P(V(m.value)))}));const me=(0,o.EW)((()=>new y.Vector3(0,z.value,0))),rt=(0,o.EW)((()=>new y.Vector3(0,z.value,0))),st=(0,o.EW)((()=>((a.value-L.value)%1440+1440)%1440)),ut=(0,o.EW)((()=>R(p.value,st.value,g.value,m.value))),dt=(0,o.EW)((()=>M(ut.value.azimuth,ut.value.altitude))),ct=(0,o.EW)((()=>ut.value.altitude>=0)),ht=(0,o.EW)((()=>ct.value?"black":"white")),pt=(0,o.EW)((()=>E(a.value))),vt=(0,o.EW)((()=>S(p.value))),mt=(0,o.EW)((()=>st.value+m.value/360*24*60)),gt=(0,o.EW)((()=>E(mt.value))),ft=(0,o.EW)((()=>{const e=g.value*Math.PI/180,t=12*Math.atan2(dt.value.y*Math.cos(e)+dt.value.z*Math.sin(e),dt.value.x)/Math.PI+6,a=(t%24+24)%24*60;return a})),bt=(0,o.EW)((()=>E(ft.value))),wt=(0,o.EW)((()=>P(L.value))),yt=(0,o.EW)((()=>ut.value.altitude>.1?1:ut.value.altitude>-.1?(ut.value.altitude+.1)/.2:0)),kt=(0,o.EW)((()=>v()(["#02407a","#87CEEB"])(yt.value))),Rt=(0,o.EW)((()=>{if(!$.value)return new y.Euler;const e=$.value.distanceTo(new y.Vector3(0,0,0)),t=Math.asin($.value.y/e),a=Math.atan2($.value.z,$.value.x);return new y.Euler(t-Math.PI/2,a-Math.PI/2,0,"XYZ")})),Mt=(0,o.EW)((()=>"dialAndGnomon"===F.value)),Lt=(0,o.EW)((()=>"pointSundial"===F.value)),xt=(0,o.EW)((()=>[dt.value.x,dt.value.y,dt.value.z])),Et=(0,o.EW)((()=>x.value?1:yt.value)),_t=(0,o.EW)((()=>-ce.value.clientWidth/2));return(e,h)=>{const v=(0,o.g2)("v-tour"),b=(0,o.g2)("TresPerspectiveCamera"),w=(0,o.g2)("TresDirectionalLight"),R=(0,o.g2)("TresAmbientLight"),M=(0,o.g2)("TresGridHelper"),E=(0,o.g2)("TresOrthographicCamera");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(v,{name:"walkthrough",steps:(0,i.R1)(ae),options:{labels:{buttonSkip:"Close",buttonPrevious:"Previous",buttonNext:"Next",buttonStop:"Finish"}}},null,8,["steps"]),(0,o.Lk)("div",fe,[(0,o.bF)((0,i.R1)(c.rs),{"clear-color":kt.value,shadows:"",shadowMapType:(0,i.R1)(y.BasicShadowMap),"render-mode":"on-demand"},{default:(0,o.k6)((()=>[(0,o.bF)(b),(0,o.bF)(N,{show:Mt.value,latitude:(0,i.R1)(g),longitude:(0,i.R1)(m),origin:(0,i.R1)(t),rotation:(0,i.R1)(C),"gnomon-position":me.value,radius:nt,hourLineStyle:(0,i.R1)(W),"time-zone":(0,i.R1)(L),numeralDistanceFromSundialOrigin:it},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone"]),(0,o.bF)(pe,{show:Lt.value,latitude:(0,i.R1)(g),longitude:(0,i.R1)(m),origin:(0,i.R1)(t),rotation:(0,i.R1)(C),"gnomon-position":rt.value,radius:ot,hourLineStyle:(0,i.R1)(W),"time-zone":(0,i.R1)(L)},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone"]),(0,o.bF)(f,{position:dt.value},null,8,["position"]),(0,o.bF)(w,{position:xt.value,intensity:Et.value,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"cast-shadow":""},null,8,["position","intensity"]),(0,o.bF)(R,{color:"#AAAAAA"}),(0,o.bF)(M,{args:[50,50,"#AAAAAA","#AAAAAA"],position:[0,-8,0]}),(0,o.bF)(B,{"x-offset":_t.value,"zoom-per-second":(0,i.R1)(T),onCameraPosChange:h[0]||(h[0]=e=>(0,i.i9)($)?$.value=e:$=e)},null,8,["x-offset","zoom-per-second"]),(0,o.bF)(H)])),_:1},8,["clear-color","shadowMapType"])]),(0,o.Lk)("div",be,[(0,o.Lk)("div",{id:"sidebar",ref_key:"sidebar",ref:he},[(0,o.Lk)("div",we,[(0,o.Lk)("a",{class:"sidebar_link",onClick:h[1]||(h[1]=e=>{e.preventDefault(),Q()}),href:"javascript:void(0)"},"walkthrough"),h[52]||(h[52]=(0,o.eW)(" Â· ")),h[53]||(h[53]=(0,o.Lk)("a",{class:"sidebar_link",href:"https://github.com/tpeach90/sundials/",style:{"text-decoration":"none"},target:"_blank",title:"Source code on github.com"},[(0,o.Lk)("span",{style:{"text-decoration":"underline"}},"code"),(0,o.Lk)("img",{src:r,style:{height:"1em","margin-left":"0.2em"},alt:"GitHub logo"})],-1)),h[54]||(h[54]=(0,o.Lk)("h2",null,"Coordinates",-1)),(0,o.Lk)("div",ye,[(0,o.Lk)("div",ke,[(0,o.Lk)("div",Re,[h[38]||(h[38]=(0,o.Lk)("label",{class:"fieldTitle"},"Latitude/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[2]||(h[2]=e=>(0,i.R1)(D).latitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).latitude.$model]]),(0,i.R1)(D).latitude.$dirty&&(0,i.R1)(D).latitude.$invalid?((0,o.uX)(),(0,o.CE)("div",Me,(0,l.v_)((0,i.R1)(D).latitude.$errors[0].$message),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Le,[h[39]||(h[39]=(0,o.Lk)("label",{class:"fieldTitle"},"Longitude/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[3]||(h[3]=e=>(0,i.R1)(D).longitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).longitude.$model]]),(0,i.R1)(D).longitude.$dirty&&(0,i.R1)(D).longitude.$invalid?((0,o.uX)(),(0,o.CE)("div",xe,(0,l.v_)((0,i.R1)(D).longitude.$errors[0].$message),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ee,[h[40]||(h[40]=(0,o.Lk)("label",{class:"fieldTitle"},"Time Zone/Â±UTC",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[4]||(h[4]=e=>(0,i.R1)(D).timeZone.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).timeZone.$model]]),(0,i.R1)(D).timeZone.$dirty&&(0,i.R1)(D).timeZone.$invalid?((0,o.uX)(),(0,o.CE)("div",_e,(0,l.v_)((0,i.R1)(D).timeZone.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Se,[(0,o.bo)((0,o.Lk)("input",{style:{"grid-row":"1","grid-column":"1","margin-right":"10px",height:"100%","margin-top":"0px","margin-bottom":"0px"},type:"range",min:"-90",max:"90",step:"-0.1",class:"slider",orient:"vertical","onUpdate:modelValue":h[5]||(h[5]=e=>(0,i.R1)(D).latitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).latitude.$model]]),(0,o.Lk)("div",Pe,[(0,o.Lk)("img",{src:s,id:"mapImage",alt:"An outline world map, on which the user can click to set the latitude and longitude.",style:{"grid-row":"1","grid-column":"2","object-fit":"contain",display:"block",margin:"0px"},draggable:"false",onMousemove:se,onMousedown:ue,onClick:de,ref_key:"mapImage",ref:ie},null,544),(0,o.Lk)("div",{id:"markerPoint",style:(0,l.Tr)(`top:${100*(90-(0,i.R1)(g))/180}%; left:${100*((0,i.R1)(m)+180)/360}%`)},null,4)]),(0,o.bo)((0,o.Lk)("input",{style:{"grid-row":"2","grid-column":"2","margin-top":"10px","margin-left":"0px","margin-right":"0px"},type:"range",min:"-180",max:"180",step:"1",class:"slider","onUpdate:modelValue":h[6]||(h[6]=e=>(0,i.R1)(D).longitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).longitude.$model]])])]),(0,o.Lk)("div",We,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"autoSelectTimeZone","onUpdate:modelValue":h[7]||(h[7]=e=>(0,i.i9)(k)?k.value=e:k=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,i.R1)(k)]]),h[41]||(h[41]=(0,o.Lk)("label",{for:"autoSelectTimeZone",class:"fieldOption"},"Automatically set time zone",-1))]),h[55]||(h[55]=(0,o.Lk)("br",null,null,-1)),h[56]||(h[56]=(0,o.Lk)("h2",null,"Sundial Settings",-1)),(0,o.Lk)("div",Fe,[(0,o.Lk)("div",Ve,[h[43]||(h[43]=(0,o.Lk)("label",{for:"dialAndGnomon",style:{"margin-right":"10px"}},[(0,o.Lk)("img",{src:u,style:{"max-width":"50px"},alt:"Traditional sundial icon"})],-1)),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"dialAndGnomon",value:"dialAndGnomon","onUpdate:modelValue":h[8]||(h[8]=e=>(0,i.i9)(F)?F.value=e:F=e)},null,512),[[n.XL,(0,i.R1)(F)]]),h[42]||(h[42]=(0,o.Lk)("label",{for:"dialAndGnomon",class:"fieldOption"}," Traditional sundial ",-1))])]),(0,o.Lk)("div",Te,[h[45]||(h[45]=(0,o.Lk)("label",{for:"pointSundial",style:{"margin-right":"10px"}},[(0,o.Lk)("img",{src:d,style:{"max-width":"50px"},alt:"Point shadow trace icon"})],-1)),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"pointSundial",value:"pointSundial","onUpdate:modelValue":h[9]||(h[9]=e=>(0,i.i9)(F)?F.value=e:F=e)},null,512),[[n.XL,(0,i.R1)(F)]]),h[44]||(h[44]=(0,o.Lk)("label",{for:"pointSundial",class:"fieldOption"}," Point shadow trace ",-1))])])]),h[57]||(h[57]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("div",Ce,[(0,o.Lk)("div",ze,[h[46]||(h[46]=(0,o.Lk)("label",{class:"fieldTitle"},"Slant/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[10]||(h[10]=e=>(0,i.R1)(D).slant.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).slant.$model]]),(0,i.R1)(D).slant.$dirty&&(0,i.R1)(D).slant.$invalid?((0,o.uX)(),(0,o.CE)("div",$e,(0,l.v_)((0,i.R1)(D).slant.$errors[0].$message),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"range",min:0,max:180,step:"1",class:"slider","onUpdate:modelValue":h[11]||(h[11]=e=>(0,i.R1)(D).slant.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).slant.$model]])]),(0,o.Lk)("div",Ae,[h[47]||(h[47]=(0,o.Lk)("label",{class:"fieldTitle"},"Rotation/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[12]||(h[12]=e=>(0,i.R1)(D).rotation.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).rotation.$model]]),(0,i.R1)(D).rotation.$dirty&&(0,i.R1)(D).rotation.$invalid?((0,o.uX)(),(0,o.CE)("div",Oe,(0,l.v_)((0,i.R1)(D).rotation.$errors[0].$message),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"range",min:-180,max:180,step:"1",class:"slider","onUpdate:modelValue":h[13]||(h[13]=e=>(0,i.R1)(D).rotation.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).rotation.$model]])]),(0,o.Lk)("div",Ie,[(0,o.Lk)("label",qe,(0,l.v_)("dialAndGnomon"==(0,i.R1)(F)?"Gnomon":"Nodus")+" height",1),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[14]||(h[14]=e=>(0,i.R1)(D).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).gnomonHeight.$model]]),(0,i.R1)(D).gnomonHeight.$dirty&&(0,i.R1)(D).gnomonHeight.$invalid?((0,o.uX)(),(0,o.CE)("div",je,(0,l.v_)((0,i.R1)(D).gnomonHeight.$errors[0].$message),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"range",min:.5,max:3,step:"0.05",class:"slider","onUpdate:modelValue":h[15]||(h[15]=e=>(0,i.R1)(D).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,i.R1)(D).gnomonHeight.$model]])])]),(0,o.Lk)("div",Ne,[h[50]||(h[50]=(0,o.Lk)("label",{class:"fieldTitle"},"Hour lines",-1)),(0,o.Lk)("div",Ue,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"standardLines",value:"standard","onUpdate:modelValue":h[16]||(h[16]=e=>(0,i.i9)(W)?W.value=e:W=e)},null,512),[[n.XL,(0,i.R1)(W)]]),h[48]||(h[48]=(0,o.Lk)("label",{for:"standardLines",class:"fieldOption"},"Adjusted for time zone and longitude",-1))]),(0,o.Lk)("div",Ke,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"solarLines",value:"solar","onUpdate:modelValue":h[17]||(h[17]=e=>(0,i.i9)(W)?W.value=e:W=e)},null,512),[[n.XL,(0,i.R1)(W)]]),h[49]||(h[49]=(0,o.Lk)("label",{for:"solarLines",class:"fieldOption"},"Solar time",-1))])]),h[58]||(h[58]=(0,o.Lk)("br",null,null,-1)),h[59]||(h[59]=(0,o.Lk)("h2",null,"Misc",-1)),(0,o.Lk)("div",Xe,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"sunRaysPassThroughEarth","onUpdate:modelValue":h[18]||(h[18]=e=>(0,i.i9)(x)?x.value=e:x=e)},null,512),[[n.lH,(0,i.R1)(x)]]),h[51]||(h[51]=(0,o.Lk)("label",{for:"sunRaysPassThroughEarth",class:"fieldOption"},"Sundial remains illuminated at night",-1))]),h[60]||(h[60]=(0,o.Lk)("br",null,null,-1))])],512),(0,o.Lk)("div",Be,[(0,o.Lk)("div",Ze,[(0,o.bF)((0,i.R1)(c.rs),{"render-mode":"on-demand"},{default:(0,o.k6)((()=>[(0,o.bF)(R,{color:"#FFFFFF",intensity:2}),(0,o.bF)(E,{position:[0,10,0],lookAt:[0,0,0],zoom:15}),(0,o.bF)(ge,{rotation:Rt.value},null,8,["rotation"])])),_:1}),h[61]||(h[61]=(0,o.Lk)("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0"},title:"North"},null,-1))]),(0,o.Lk)("button",{class:"zoomControl",onKeydown:h[19]||(h[19]=(0,n.jR)((()=>{(0,i.i9)(T)?T.value=1/lt:T=1/lt}),["enter"])),onKeyup:h[20]||(h[20]=(0,n.jR)((()=>{(0,i.i9)(T)?T.value=1:T=1}),["enter"])),onMousedown:h[21]||(h[21]=()=>{(0,i.i9)(T)?T.value=1/lt:T=1/lt}),onMouseup:h[22]||(h[22]=()=>{(0,i.i9)(T)?T.value=1:T=1}),onPointerleave:h[23]||(h[23]=()=>{(0,i.i9)(T)?T.value=1:T=1}),onTouchstart:h[24]||(h[24]=()=>{(0,i.i9)(T)?T.value=1/lt:T=1/lt}),onTouchend:h[25]||(h[25]=()=>{(0,i.i9)(T)?T.value=1:T=1})}," + ",32),(0,o.Lk)("button",{class:"zoomControl",onKeydown:h[26]||(h[26]=(0,n.jR)((()=>{(0,i.i9)(T)?T.value=lt:T=lt}),["enter"])),onKeyup:h[27]||(h[27]=(0,n.jR)((()=>{(0,i.i9)(T)?T.value=1:T=1}),["enter"])),onMousedown:h[28]||(h[28]=()=>{(0,i.i9)(T)?T.value=lt:T=lt}),onMouseup:h[29]||(h[29]=()=>{(0,i.i9)(T)?T.value=1:T=1}),onPointerleave:h[30]||(h[30]=()=>{(0,i.i9)(T)?T.value=1:T=1}),onTouchstart:h[31]||(h[31]=()=>{(0,i.i9)(T)?T.value=lt:T=lt}),onTouchend:h[32]||(h[32]=()=>{(0,i.i9)(T)?T.value=1:T=1})}," - ",32)]),(0,o.Lk)("div",Ge,[(0,o.Lk)("div",He,[(0,o.bo)((0,o.Lk)("div",{class:"time_display",onClick:q,onKeydown:(0,n.jR)(q,["space"]),tabindex:"0"},(0,l.v_)(pt.value),545),[[n.aG,!(0,i.R1)(A)]]),(0,o.bo)((0,o.Lk)("input",{ref_key:"timeEntryBox",ref:I,class:"timeEntryBox",onBlur:U,onKeydown:[(0,n.jR)(U,["enter"]),(0,n.jR)(U,["esc"])],onInput:j,"onUpdate:modelValue":h[33]||(h[33]=e=>(0,i.i9)(O)?O.value=e:O=e)},null,544),[[n.aG,(0,i.R1)(A)],[n.Jo,(0,i.R1)(O)]]),(0,o.bo)((0,o.Lk)("div",De,[h[62]||(h[62]=(0,o.Lk)("div",{class:"subtitle"},"local standard time",-1)),(0,o.Lk)("div",Je,"(UTC "+(0,l.v_)(wt.value)+") "+(0,l.v_)(ct.value?"â˜€ï¸":"ðŸŒ™"),1)],512),[[n.aG,!(0,i.R1)(A)]])]),(0,o.Lk)("div",Ye,(0,l.v_)(gt.value)+" mean solar time",1),(0,o.Lk)("div",Qe,(0,l.v_)(bt.value)+" apparent solar time",1),(0,o.bo)((0,o.Lk)("input",{type:"range",min:"0",max:"1440",step:"10",class:"slider",id:"time","onUpdate:modelValue":h[34]||(h[34]=e=>(0,i.i9)(a)?a.value=e:a=e)},null,512),[[n.Jo,(0,i.R1)(a),void 0,{number:!0}]]),(0,o.bF)((0,i.R1)(ne.A),{arrow:"",placement:"left","disable-click-away":"",show:(0,i.R1)(Y)},{content:(0,o.k6)((()=>[(0,o.Lk)("div",et,[(0,o.Lk)("div",tt,[(0,o.bF)(te)]),(0,o.Lk)("button",{class:"v-step__button",onClick:h[35]||(h[35]=()=>oe(!1))},"Close")])])),default:(0,o.k6)((()=>[(0,o.Lk)("a",{class:"overlay_link",href:"javascript:void(0)",onClick:h[36]||(h[36]=()=>oe(!(0,i.R1)(Y)))},"Why are there 3 times?")])),_:1},8,["show"]),h[63]||(h[63]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",at,(0,l.v_)(vt.value),1),(0,o.bo)((0,o.Lk)("input",{type:"range",min:"0",max:"364",step:"1",class:"slider",id:"day","onUpdate:modelValue":h[37]||(h[37]=e=>(0,i.i9)(p)?p.value=e:p=e)},null,512),[[n.Jo,(0,i.R1)(p),void 0,{number:!0}]])])])],64)}}});const st=(0,Y.A)(rt,[["__scopeId","data-v-226ba4d8"]]);var ut=st,dt=a(1852);const ct=(0,n.Ef)(ut);ct.use(dt.A),ct.mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,i){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],i=e[d][2];for(var r=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/sundials/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,l=n[0],r=n[1],s=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var d=s(a)}for(t&&t(n);u<l.length;u++)i=l[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=self["webpackChunksundials"]=self["webpackChunksundials"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(537)}));n=a.O(n)})();
//# sourceMappingURL=app.9f87fe0c.js.map