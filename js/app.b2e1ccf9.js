(function(){"use strict";var e={5093:function(e,t,a){var n=a(5130),l=(a(4114),a(6768)),o=a(144),i=a(4232),r=a.p+"img/github-mark-white.fd5c0afd.svg",s=a.p+"img/world-map-coordinates-correct.be5765fb.png",u=a.p+"img/sundialicon.4d548112.svg",d=a.p+"img/pointshadowtraceicon.a0286b3e.svg",c=a(9691),v=a(1737),p=a(3911),h=a.n(p),m=(0,l.pM)({__name:"SunObject",props:{position:{required:!0,type:Object},transparent:{required:!1,type:Boolean,default:!1}},setup(e){const t=e,a=(0,l.EW)(()=>[t.position.x,t.position.y,t.position.z]);return(e,n)=>{const o=(0,l.g2)("TresSphereGeometry"),i=(0,l.g2)("TresMeshBasicMaterial"),r=(0,l.g2)("TresMesh"),s=(0,l.g2)("TresObject3D");return(0,l.uX)(),(0,l.Wv)(s,{position:a.value},{default:(0,l.k6)(()=>[(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)(o,{args:[.5,20,16]}),t.transparent?((0,l.uX)(),(0,l.Wv)(i,{key:0,color:"#ffffff",transparent:!0,opacity:.3})):((0,l.uX)(),(0,l.Wv)(i,{key:1,color:"#ffffff"}))]),_:1})]),_:1},8,["position"])}}});const g=m;var f=g,b=a(9428),y=a(7760),w=a(8371);a(8111),a(2489);function k(e){return e*Math.PI/180}function L(e,t,a,n){const l=8400.5+e+t/1440,{rightAsc:o,declination:i}=T(l),r=q(l),s=W(r),u=_(r),d=Math.trunc(l+.5)-.5,c=24*(l-d),v=r/36525,p=(6.697375+.065707485828*d+1.0027379*c+.0854103*v+258e-7*Math.pow(v,2))*Math.PI/12,h=k(125.04)-k(.052954)*r,m=(-319e-6*Math.sin(h)-24e-6*Math.sin(2*u))*Math.PI/12,g=m*Math.cos(s),f=p+g,b=n*Math.PI/180,y=a*Math.PI/180,w=f+b,L=w-o;return F(i,L,y)}function P(e,t,a,n){const{declination:l}=T(8400.5+t/1440-n/360+e),o=(t-720)/1440*Math.PI*2;return F(l,o,a*Math.PI/180)}function x(e,t,a,n,l){if(90==Math.abs(a))return null;const o={min:l?.minDeclination,max:l?.maxDeclination},i=J(T(8401.25-n/360+e).declination,o),r=-A(i,a),s=r+t/1440*2*Math.PI,u=J(T(8401-n/360+e+s/(2*Math.PI)).declination,o);return F(u,s,a*Math.PI/180)}function M(e,t,a,n,l){if(90==Math.abs(a))return null;const o={min:l?.minDeclination,max:l?.maxDeclination},i=J(T(8400.75-n/360+e).declination,o),r=A(i,a),s=r-2*Math.PI+t/1440*2*Math.PI,u=J(T(8401-n/360+e+s/(2*Math.PI)).declination,o);return F(u,s,a*Math.PI/180)}function R(e,t,a,n,l){if(90==Math.abs(a))return null;const o={min:l?.minDeclination,max:l?.maxDeclination},i=J(T(8401-n/360+e).declination,o),r=A(i,a),s=-r,u=s+(r-s)*t/720,d=J(T(8401-n/360+e+u/(2*Math.PI)).declination,o);return F(d,u,a*Math.PI/180)}function S(e){return e+37/86400}function E(e){return e+32.184/86400}function q(e){return E(S(e))}function W(e){return k(23.4393)-k(36e-8)*e}function _(e){return(k(280.459)+k(.98564736)*e)%(2*Math.PI)}function F(e,t,a){const n=-Math.atan2(Math.cos(e)*Math.sin(t),-Math.sin(a)*Math.cos(e)*Math.cos(t)+Math.cos(a)*Math.sin(e)),l=Math.asin(Math.sin(a)*Math.sin(e)+Math.cos(a)*Math.cos(e)*Math.cos(t));return{azimuth:n,altitude:l}}function T(e){const t=S(e),a=E(t),n=_(a),l=(k(357.529)+k(.98560028)*a)%(2*Math.PI),o=n+k(1.915)*Math.sin(l)+k(.02)*Math.sin(2*l),i=W(a),r=Math.atan2(Math.cos(i)*Math.sin(o),Math.cos(o)),s=Math.asin(Math.sin(i)*Math.sin(o));return{rightAsc:r,declination:s}}function C(e,t){const a=0,n=Math.sin(a)-Math.sin(t)*Math.sin(e),l=Math.cos(t)*Math.cos(e);return 0==l||Math.abs(n)>Math.abs(l)?null:Math.acos(n/l)}function A(e,t){const a=t/180*Math.PI,n=Math.abs(a+e)>Math.abs(a-e)?Math.PI:0;return C(e,a)??n}function O(e,t,a=15){return{x:a*Math.sin(e)*Math.cos(t),y:a*Math.sin(t),z:a*-Math.cos(e)*Math.cos(t)}}function z(e,t){return new w.Pq0(Math.sin(e),-Math.cos(e)*Math.cos(t),-Math.cos(e)*Math.sin(t))}function I(e,t,a){const n=z(e,t),l=new w.Pq0(0,Math.sin(t),-Math.cos(t)),o=n.clone().cross(l),i=o.clone().cross(a);return i}function $(e){return e>=0?90-e:-90-e}function j(e){const t=Math.floor((e/60%24+24)%24).toString().padStart(2,"0"),a=Math.floor((e%60+60)%60).toString().padStart(2,"0");return`${t}:${a}`}function V(e){const t=e.match(/^\s*([0-9]+)(?::([0-9]*))?\s*$/);if(!t)return NaN;const a=Number.parseInt(t[1]);if(a<0||a>23)return NaN;let n=0;return t[2]&&""!=t[2]&&(n=Number.parseInt(t[2]),n<0||n>59)?NaN:60*a+n}function U(e){const t=new Date(Date.parse("2001")+24*e*60*60*1e3);return t.toLocaleDateString("en",{month:"long",day:"numeric"})}function K(e){const t=e>0?"+":e<0?"-":"±",a=Math.abs(Math.trunc(e/60)),n=Math.abs(e%60);let l=t+a.toString();return 0!=n&&(l+=":"+n.toString()),l}function X(e,t,a){const n=new w.RlV(t,a);let l=n.intersectPlane(e,new w.Pq0);if(l)return{dir:1,point:l};const o=new w.RlV(t,a.clone().multiplyScalar(-1));return l=o.intersectPlane(e,new w.Pq0),l?{dir:-1,point:l}:null}function N(e,t,a,n){const l=e.distanceToSquared(a)-Math.pow(t,2),o=-2*e.clone().sub(a).multiply(n).dot(new w.Pq0(1,1,1)),i=Math.pow(n.length(),2),r=Math.pow(o,2)-4*i*l;return r<0?[]:[(-o-Math.sqrt(r))/(2*i),(-o+Math.sqrt(r))/(2*i)]}function B(e){return 60*Math.round(e/360*24)}function D(e,t,a){const n=e.normal,l=t.normal,o=a.normal,i=e.coplanarPoint(new w.Pq0),r=t.coplanarPoint(new w.Pq0),s=a.coplanarPoint(new w.Pq0),u=(new w.Pq0).crossVectors(l,o).multiplyScalar(i.dot(n)),d=(new w.Pq0).crossVectors(o,n).multiplyScalar(r.dot(l)),c=(new w.Pq0).crossVectors(n,l).multiplyScalar(s.dot(o)),v=(new w.dwI).set(n.x,n.y,n.z,l.x,l.y,l.z,o.x,o.y,o.z).determinant();if(0==v)return null;const p=(new w.Pq0).add(u).add(d).add(c),h=new w.Pq0(p.x/v,p.y/v,p.z/v);return h}function G(e){if(0==e.filter(e=>null!=e).length)return[];const t=[],a=e.indexOf(null);if(-1==a)return[...e];for(let n=a;n<a+e.length;n++){const a=e[n%e.length];if(a)t.push(a);else if(0!=t.length)break}return t}function Z(e,t){const a=t-e.length,n=e[e.length-1];for(let l=0;l<a;l++)e.push(n)}function H(e,t,a,n){const l=G(e);return 0==l.length?l.push(a):l.length==t-1&&(n||l.push(l[0])),Z(l,t),l}function J(e,t){return t.min&&e<t.min&&(e=t.min),t.max&&e>t.max&&(e=t.max),e}function Q(e){throw new Error("Didn't expect to get here")}a(1701),a(1806);var Y=a(6702),ee=(0,l.pM)({__name:"SundialLetter",props:{text:{required:!0,type:String},position:{required:!0,type:Object},castShadow:{required:!1,default:!1,type:Boolean},receiveShadow:{required:!1,default:!1,type:Boolean},size:{required:!1,default:.2,type:Number}},setup(e){const t=e,a=(0,l.EW)(()=>""!=t.text),n=(0,l.EW)(()=>.03*t.size/.2),r=[-Math.PI/2,0,0];return(t,s)=>{const u=(0,l.g2)("TresMeshPhongMaterial"),d=(0,l.g2)("TresObject3D");return(0,l.uX)(),(0,l.Wv)(d,{position:e.position,rotation:r,visible:a.value},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.Wv)(l.tY,null,{default:(0,l.k6)(()=>[(0,l.bF)((0,o.R1)(Y.xg),{font:"./fonts/PTSerif_Regular_Only_Numerals.json",size:e.size,"bevel-enabled":!1,height:n.value,"cast-shadow":e.castShadow,"receive-shadow":e.receiveShadow,"need-updates":"",center:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,i.v_)(e.text)+" ",1),(0,l.bF)(u,{color:"#737373"})]),_:1},8,["size","height","cast-shadow","receive-shadow"])]),_:1}))]),_:1},8,["position","visible"])}}});const te=ee;var ae=te,ne=(0,l.pM)({__name:"SundialFaceGrid",props:{sundialRotation:{required:!0,type:Object},show:{required:!0,type:Boolean},origin:{required:!0,type:Object},radius:{required:!0,type:Number},colorPalette:{required:!0,type:String}},setup(e){const t=e,a=(0,l.EW)(()=>2*t.radius),n=(0,l.EW)(()=>10*a.value),o=(0,l.EW)(()=>a.value),i=(0,l.EW)(()=>[a.value,n.value,new w.Q1f("#909090"),new w.Q1f("#909090")]),r=(0,l.EW)(()=>[a.value,o.value,new w.Q1f("#666666"),new w.Q1f("#666666")]),s=(0,l.EW)(()=>[a.value,n.value,new w.Q1f("#909090"),new w.Q1f("#909090")]),u=(0,l.EW)(()=>[a.value,o.value,new w.Q1f("#ffffff"),new w.Q1f("#ffffff")]),d=(0,l.EW)(()=>"light"==t.colorPalette&&t.show),c=(0,l.EW)(()=>"dark"==t.colorPalette&&t.show);return(e,a)=>{const n=(0,l.g2)("TresGridHelper");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(n,{visible:d.value,args:i.value,position:t.origin,rotation:t.sundialRotation},null,8,["visible","args","position","rotation"]),(0,l.bF)(n,{visible:d.value,args:r.value,position:t.origin,rotation:t.sundialRotation},null,8,["visible","args","position","rotation"]),(0,l.bF)(n,{visible:c.value,args:s.value,position:t.origin,rotation:t.sundialRotation},null,8,["visible","args","position","rotation"]),(0,l.bF)(n,{visible:c.value,args:u.value,position:t.origin,rotation:t.sundialRotation},null,8,["visible","args","position","rotation"])],64)}}});const le=ne;var oe=le,ie=(0,l.pM)({__name:"DialAndGnomonSundial",props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number},numeralDistanceFromSundialOrigin:{required:!0,type:Number},showGrid:{required:!0,type:Boolean},gridColorPalette:{required:!0,type:String}},setup(e){const t=e,a=(0,o.KR)({...t});(0,l.wB)(t,e=>{e.show&&(a.value={...e})},{immediate:!0});const n=(0,l.EW)(()=>(90-a.value.latitude)*Math.PI/180),i=(0,l.EW)(()=>{const e=(new w.kn4).makeRotationFromEuler(a.value.rotation).invert().multiply((new w.kn4).makeRotationFromEuler(new w.O9p(-n.value,0,0)));return(new w.O9p).setFromRotationMatrix(e)});let r=(0,l.EW)(()=>new w.Pq0(0,1,0).applyEuler(a.value.rotation)),s=(0,l.EW)(()=>new w.Pq0(...a.value.gnomonPosition).applyEuler(a.value.rotation).add(new w.Pq0(...a.value.origin))),u=(0,l.EW)(()=>{const e=new w.Zcv(r.value,0).translate(new w.Pq0(...a.value.origin)),t=new w.Pq0(0,-Math.sin(a.value.latitude*Math.PI/180),Math.cos(a.value.latitude*Math.PI/180));return X(e,s.value,t)}),d=(0,l.EW)(()=>u.value?.point??null),c=(0,l.EW)(()=>u.value?.dir??null);const v=[...Array(24).keys()],p=(0,l.EW)(()=>v.map(e=>{let t;return t="standard"==a.value.hourLineStyle?e-a.value.timeZone/60+24*a.value.longitude/360:e,(60*t%1440+1440)%1440*Math.PI*2/1440})),h=(0,l.EW)(()=>p.value.map(e=>I(e,a.value.latitude*Math.PI/180,new w.Pq0(...r.value)).multiplyScalar(c.value??1))),m=(0,l.EW)(()=>d.value&&d.value.distanceTo(a.value.origin)<1e3?"stylePlateIntersection":"otherIntersection"),g=(0,l.EW)(()=>{switch(m.value){case"stylePlateIntersection":return v.map(()=>d.value);case"otherIntersection":{const e=a.value.latitude*Math.PI/180,t=s.value,n=new w.Pq0(0,Math.sin(e),-Math.cos(e)),l=n.clone().add(t),o=n.clone().projectOnPlane(r.value).normalize().multiplyScalar((a.value.radius+1)*-(c.value??1)).add(a.value.origin),i=(new w.Zcv).setFromNormalAndCoplanarPoint(r.value,a.value.origin),u=(new w.Zcv).setFromNormalAndCoplanarPoint(n,o);return p.value.map(a=>{const n=z(a,e),r=(new w.Zcv).setFromCoplanarPoints(n.clone().add(t),t,l),s=D(r,i,u)??o;return s})}}return Q(m.value),[]});let f=(0,l.EW)(()=>v.map((e,t)=>{const n=g.value[t],l=h.value[t],o=N(new w.Pq0(...a.value.origin),a.value.radius,n,l);return 0==o.length||o[0]<0&&o[1]<0?[]:(o[0]<0&&(o[0]=0),o)})),b=(0,l.EW)(()=>r.value.clone().normalize().multiplyScalar(.007)),y=(0,l.EW)(()=>v.map((e,t)=>{const n=g.value[t],l=h.value[t],o=f.value[t],i=(()=>{const e=N(new w.Pq0(...a.value.origin),a.value.numeralDistanceFromSundialOrigin,n,l);if(0==e.length)return null;if(e[1]<0)return null;const t=l.clone().multiplyScalar(e[1]).add(n);return"stylePlateIntersection"==m.value&&n.distanceTo(t)<2.5?null:(t.sub(a.value.origin).applyMatrix4((new w.kn4).makeRotationFromEuler(a.value.rotation).invert()),t.toArray())})();return{hour:e,label:i?e.toString():"",points:0==o.length?[new w.Pq0(0,0,0),new w.Pq0(0,0,0)]:[l.clone().multiplyScalar(o[0]).add(n).add(b.value),l.clone().multiplyScalar(o[1]).add(n).add(b.value)],labelPoint:i??[0,0,0]}}));const k=(0,l.EW)(()=>a.value.rotation.clone()),L=(0,l.EW)(()=>[a.value.radius,a.value.radius,.1]),P=(0,l.EW)(()=>a.value.origin.clone().add(b.value));return(t,n)=>{const r=(0,l.g2)("TresObject3D"),s=(0,l.g2)("TresCylinderGeometry"),u=(0,l.g2)("TresMeshPhongMaterial"),d=(0,l.g2)("TresMesh");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(r,{visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(oe,{sundialRotation:a.value.rotation,show:a.value.showGrid,origin:P.value,radius:a.value.radius,colorPalette:a.value.gridColorPalette},null,8,["sundialRotation","show","origin","radius","colorPalette"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(y),({points:e,hour:t})=>((0,l.uX)(),(0,l.Wv)((0,o.R1)(Y.Xk),{key:t,"line-width":1,points:e,color:"#FFFFFF"},null,8,["points"]))),128))]),_:1},8,["visible"]),(0,l.bF)(r,{visible:e.show,position:a.value.origin,rotation:k.value},{default:(0,l.k6)(()=>[(0,l.bF)(d,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{args:L.value},null,8,["args"]),(0,l.bF)(u,{color:"#f9ecec"})]),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(y),e=>((0,l.uX)(),(0,l.Wv)(ae,{key:e.hour,text:e.label,position:e.labelPoint,"receive-shadow":""},null,8,["text","position"]))),128)),(0,l.bF)(d,{position:a.value.gnomonPosition,rotation:i.value,"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{args:[.05,.05,2]}),(0,l.bF)(u,{color:"#b7b7b7"})]),_:1},8,["position","rotation"])]),_:1},8,["visible","position","rotation"])],64)}}});const re=ie;var se=re,ue=a(2493),de=(0,l.pM)({__name:"CameraHelper",props:{xOffset:{required:!0,type:Number},zoomPerSecond:{required:!1,default:1,type:Number},timeAdvanceSpeed:{required:!0,type:Number},target:{required:!0,type:Object}},emits:["cameraPosChange","onAdvanceTime"],setup(e,{emit:t}){const{camera:a,sizes:n,renderer:i,invalidate:r}=(0,c.lG)(),s=e,u=t;(0,l.wB)(()=>[n.width.value,n.height.value,s.xOffset],()=>{const e=(n.width.value+2*Math.abs(s.xOffset))/n.width.value;a.value?.isPerspectiveCamera&&a.value.setViewOffset(n.width.value*e,n.height.value*e,s.xOffset>0?2*s.xOffset:0,n.height.value*(e-1)/2,n.width.value,n.height.value)},{immediate:!0});const{onBeforeRender:d,onAfterRender:v,pause:p,resume:h}=(0,c._N)();(0,l.wB)(()=>[s.zoomPerSecond,s.timeAdvanceSpeed],()=>{1!=s.zoomPerSecond||0!=s.timeAdvanceSpeed?h():p()},{immediate:!0}),d(({delta:e})=>{if(a.value&&1!=s.zoomPerSecond){const t=Math.pow(s.zoomPerSecond,e);a.value.position.x*=t,a.value.position.y*=t,a.value.position.z*=t}});let m,g=(0,o.KR)(0);return v(({delta:e})=>{const t=e*s.timeAdvanceSpeed/70*1e3+g.value,a=Math.floor(t);g.value=t%1,a>0&&u("onAdvanceTime",a)}),(0,l.wB)(()=>[a.value?.position.x,a.value?.position.y,a.value?.position.z],()=>{a.value&&(r(),u("cameraPosChange",a.value.position.clone()))},{immediate:!0}),(0,l.wB)(()=>[i.value,a.value],()=>{!m&&i.value&&a.value&&(a.value?.position.set(7,7,7),m=new ue.N(a.value,i.value.domElement),m.target=s.target,m.enableDamping=!1,m.rotateSpeed=.5,m.enablePan=!1,m.update())},{immediate:!0}),()=>{}}});const ce=de;var ve=ce,pe=(0,l.pM)({__name:"RendererHelper",setup(e){const{renderer:t}=(0,c.lG)();return t.value.setPixelRatio(window.devicePixelRatio),t.value.localClippingEnabled=!0,()=>{}}});const he=pe;var me=he,ge=a.p+"img/Equation_of_time.fb12789b.svg";function fe(e,t){return t[0]||(t[0]=(0,l.Fv)('<p style="margin-top:0;" data-v-35ba8230><strong data-v-35ba8230>Apparent solar time</strong> is the time based on the observed local position of the sun. 12 noon is the exact time at which the sun is highest in the sky.</p><p data-v-35ba8230>However, if you measure the length of time between two consecutive solar noons, the measurement could differ from 24 hours by -21 to +30 seconds. (see the <a href="https://en.wikipedia.org/wiki/Solar_time" target="_blank" data-v-35ba8230>Wikipedia article on Solar Time</a> for an explanation).</p><p data-v-35ba8230>Instead, in <strong data-v-35ba8230>Mean solar time</strong>, every day is exactly<strong data-v-35ba8230>*</strong> 24 hours long. This is more useful, but due to those small deviations in the length of the solar day adding up, the mean solar time can differ from the apparent solar time by up to 16 minutes. The relationship between the apparent and mean solar time can be seen in the <strong data-v-35ba8230>Equation of Time</strong>.</p><div style="text-align:center;" data-v-35ba8230><img src="'+ge+'" alt="Equation of time graph" style="max-height:200px;background-color:white;" data-v-35ba8230><br data-v-35ba8230></div><i data-v-35ba8230>Attribution: By <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-35ba8230>Equation of time.png</a>: <a href="//commons.wikimedia.org/wiki/User:Drini" title="User:Drini" target="_blank" data-v-35ba8230>User:Drini</a> derivative work: <a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-35ba8230>Zazou</a> (<a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-35ba8230><span class="signature-talk" data-v-35ba8230>talk</span></a>) - <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-35ba8230>Equation of time.png</a>, <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-Share Alike 3.0" target="_blank" data-v-35ba8230>CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=6961998" target="_blank" data-v-35ba8230>Link</a></i><p data-v-35ba8230>In order to standardize time for different longitudes, <strong data-v-35ba8230>Coordinated Universal Time (UTC)</strong> is used, which represents the mean solar time at 0 degrees longitude (or, within 1 second of it). <strong data-v-35ba8230>Local standard time</strong> is UTC adjusted by the time zone.</p><p data-v-35ba8230><i data-v-35ba8230><strong data-v-35ba8230>*</strong>Well, almost exactly. The length of the mean solar day actually varies a tiny bit each year compared to International Atomic Time. This sometimes requires a <strong data-v-35ba8230>leap second</strong> be added to or subtracted from UTC.</i></p>',7))}var be=a(1241);const ye={},we=(0,be.A)(ye,[["render",fe],["__scopeId","data-v-35ba8230"]]);var ke=we;const Le=[{target:"#app",content:"Click and drag on the sundial to look around, and use the mouse wheel to adjust the zoom.\nZoom out to see the sun's position!",params:{placement:"bottom",enableScrolling:!1}},{target:'[data-v-walkthrough="status"]',content:"Use the sliders to change the <strong>Time</strong> and <strong>Date</strong>.\nYou can also click on the digital clock to set the time manually.",params:{placement:"auto",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="map"]',content:"Sundials work differently depending on the location on Earth.\nSet the location by clicking on the map, or by typing the <strong>Latitude</strong> and <strong>Longitude</strong>.",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="time-zone"]',content:"The <strong>Time Zone</strong> is set automatically based on the longitude. Instead, to manually input the time zone, uncheck <strong>Automatically set time zone</strong> and type in the <strong>Time Zone</strong> box.\n",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="sundial-type"]',content:"Choose between 2 types of sundial. <strong>Traditional sundial</strong> uses a <i>gnomon</i> to cast a shadow, and <strong>Point shadow trace</strong> uses a <i>nodus</i>, showing where the shadow of a single point falls throughout the day and year.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="slant-and-rotation"]',content:"The <strong>Slant</strong> and <strong>Rotation</strong> of the sundial can be changed. \nE.g. to simulate a wall-mounted sundial, set the <strong>Slant</strong> to 90° and the <strong>Rotation</strong> to the direction the wall is facing.<br>\nAdditionally, the <strong>Gnomon height</strong> (or Nodus height in Point shadow trace mode) adjusts the distance from the center of the shadow-casting object to the plate. The unit is arbitrary, because it's only the scale that matters.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="hour-lines"]',content:'Sundials often measure <strong>Apparent solar time</strong>, where solar noon is the time at which the sun is highest in the sky.\nHowever, you may want the sundial to measure an approximation of standard time, taking the longitude and time zone into account. To do this, select <strong>Adjusted for time zone and longitude</strong>. Note that depending on the time of year the reading can be inaccurate by up to 16 min 33 s due to the varying length of the solar day (see <a href="https://en.wikipedia.org/wiki/Equation_of_time" target="_blank">https://en.wikipedia.org/wiki/Equation_of_time</a>).',params:{placement:"right",highlight:!0}}];var Pe=a(6778),xe=a(9438),Me=a(1950),Re=a(3667),Se=(0,l.pM)({__name:"Line2FromCientosPackageAndItsTheSameButYouCanAlsoUseClippingPlanesSoItsNot",props:{points:{},vertexColors:{default:null},color:{default:"white"},lineWidth:{default:1},worldUnits:{type:Boolean,default:!1},alphaToCoverage:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},dashSize:{default:1},gapSize:{default:1},dashScale:{default:1},dashOffset:{default:0},clippingPlanes:{default:null}},setup(e,{expose:t}){const a=e;function n(e,t){if(!e||0===e.length)return Array.from({length:t}).fill((0,c.$2)(a.color));if(1===e.length)return Array.from({length:t}).fill((0,c.$2)(e[0]));if(e.length===t)return e.map(c.$2);const n=t-1,l=e.map(c.$2);closed&&l.push(l[0].clone());const o=[l[0]],i=n/(l.length-1);for(let a=1;a<n;a++){const e=a%i/i,t=Math.floor(a/i);o.push(l[t].clone().lerp(l[t+1],e))}return o.push(l[l.length-1]),o}const i=new Re.G,r=new Me.v,s=new xe.X(r,i),{sizes:u,invalidate:d}=(0,c.lG)(),v=(0,l.EW)(()=>Array.isArray(a.vertexColors));function p(e,t){e.color=(0,c.$2)(t.color),e.linewidth=t.lineWidth,e.alphaToCoverage=t.alphaToCoverage,e.worldUnits=t.worldUnits,e.vertexColors=Array.isArray(t.vertexColors),e.dashed=t.dashed,e.dashScale=t.dashScale,e.dashSize=t.dashSize,e.dashOffset=t.dashOffset,e.gapSize=t.gapSize,e.needsUpdate=!0,e.clippingPlanes=t.clippingPlanes}function h(e,t,a){const l=t.map(e=>e instanceof w.Pq0?[e.x,e.y,e.z]:e instanceof w.I9Y?[e.x,e.y,0]:Array.isArray(e)&&2===e.length?[e[0],e[1],0]:e).flat();e.setPositions(l.flat());const o=n(a,t.length).map(e=>e.toArray()).flat();e.setColors(o),s.computeLineDistances()}p(i,a),h(r,a.points,a.vertexColors),s.computeLineDistances(),(0,l.wB)(()=>[a.color,a.lineWidth,a.alphaToCoverage,a.worldUnits,v,a.dashed,a.dashScale,a.dashSize,a.dashOffset,a.clippingPlanes],()=>{p(i,a),d()}),(0,l.wB)(()=>[a.points,a.vertexColors],()=>{h(r,a.points,a.vertexColors),d()}),(0,l.wB)(()=>[u.height,u.width],()=>{i.resolution=new w.I9Y(u.width.value,u.height.value),d()}),(0,l.hi)(()=>{r.dispose(),i.dispose()});const m=(0,o.IJ)();return t({instance:m}),(e,t)=>{const a=(0,l.g2)("primitive");return(0,l.uX)(),(0,l.Wv)(a,{ref:m.value,object:(0,o.R1)(s)},null,8,["object"])}}});const Ee=Se;var qe=Ee;const We=.2,_e=.15,Fe=.1;var Te=(0,l.pM)({__name:"PointSundial",props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number},declinationPlots:{required:!0,type:Array},localTime:{required:!0,type:Number},day:{required:!0,type:Number},showGrid:{required:!0,type:Boolean},gridColorPalette:{required:!0,type:String}},setup(e){const t=e,a=(0,o.KR)({...t});(0,l.wB)(t,e=>{e.show&&(a.value={...e})},{immediate:!0});const n=(0,l.EW)(()=>new w.Pq0(...a.value.gnomonPosition).applyEuler(a.value.rotation).add(new w.Pq0(...a.value.origin)));let i=(0,l.EW)(()=>new w.Pq0(0,1,0).applyEuler(a.value.rotation));const r=(0,l.EW)(()=>new w.Zcv(i.value,0).translate(new w.Pq0(...a.value.origin))),s=(0,l.EW)(()=>i.value.clone().normalize().multiplyScalar(.007));function u(e,t,l){let o;switch(l){case"modern-local":o=L(t,60*e-a.value.timeZone,a.value.latitude,a.value.longitude);break;case"modern-mean-solar":o=L(t,60*e,a.value.latitude,0);break;case"modern-apparent-solar":o=P(t,60*e,a.value.latitude,a.value.longitude);break;case"babylonian":{const n=x(t,60*e,a.value.latitude,a.value.longitude,{maxDeclination:Math.max(b.value,y.value),minDeclination:Math.min(b.value,y.value)});if(!n)return null;o=n;break}case"italian":{const n=M(t,60*e,a.value.latitude,a.value.longitude,{maxDeclination:Math.max(b.value,y.value),minDeclination:Math.min(b.value,y.value)});if(!n)return null;o=n;break}case"seasonal":{const n=R(t,60*e,a.value.latitude,a.value.longitude,{maxDeclination:Math.max(b.value,y.value),minDeclination:Math.min(b.value,y.value)});if(!n)return null;o=n;break}}const i=O(o.azimuth,o.altitude),u=new w.RlV(n.value,new w.Pq0(-i.x,-i.y,-i.z)),d=u.intersectPlane(r.value,new w.Pq0);return d?.add(s.value)??null}const d=(0,l.EW)(()=>["modern-local","modern-mean-solar"].includes(a.value.hourLineStyle)?"full-year":"half-year"),c=[...Array(24).keys()],v=(0,l.EW)(()=>"full-year"==d.value?[...Array(37).keys()].map(e=>10*e):[...Array(37).keys()].map(e=>171+Math.round(e/36*183))),p=(0,l.EW)(()=>c.map(e=>v.value.map(t=>u(e,t,a.value.hourLineStyle)))),h=(0,l.EW)(()=>[...p.value.entries()].map(([e,t])=>({hour:c[e],line:(()=>{const e=H(t,v.value.length+1,new w.Pq0(0,0,0),"half-year"==d.value);return e})(),show:!("seasonal"==a.value.hourLineStyle&&e>12)}))),m=[...Array(48).keys()].map(e=>e/2),g=W(8532.5),f=(0,l.EW)(()=>Math.abs(a.value.latitude)>90-180*g/Math.PI),b=(0,l.EW)(()=>k($(a.value.latitude))),y=(0,l.EW)(()=>-b.value),S=(0,l.EW)(()=>[{label:"december-solstice",declination:-g,color:"#ffffff",show:a.value.declinationPlots.includes("december-solstice")},{label:"june-solstice",declination:g,color:"#ffffff",show:a.value.declinationPlots.includes("june-solstice")},{label:"equinox",declination:0,color:"#ffffff",show:a.value.declinationPlots.includes("equinox")},{label:"polar-day",declination:b.value,color:"#EE442F",show:f.value&&a.value.declinationPlots.includes("polar-day")},{label:"polar-night",declination:y.value,color:"#601A4A",show:f.value&&a.value.declinationPlots.includes("polar-night")}]),E=(0,l.EW)(()=>S.value.map(e=>{const t=m.map(t=>{const l=(t-12)/24*Math.PI*2,{azimuth:o,altitude:i}=F(e.declination,l,a.value.latitude*Math.PI/180),{x:u,y:d,z:c}=O(o,i),v=new w.RlV(n.value,new w.Pq0(-u,-d,-c)).intersectPlane(r.value,new w.Pq0);return v?.add(s.value)??null}),l=H(t,m.length+1,new w.Pq0(0,0,0));return{...e,line:l}})),q=(0,l.EW)(()=>[{normal:new w.Pq0(1,0,0),coplanarPoint:new w.Pq0(-a.value.radius,0,0).add(a.value.origin)},{normal:new w.Pq0(-1,0,0),coplanarPoint:new w.Pq0(a.value.radius,0,0).add(a.value.origin)},{normal:new w.Pq0(0,0,1),coplanarPoint:new w.Pq0(0,0,-a.value.radius).add(a.value.origin)},{normal:new w.Pq0(0,0,-1),coplanarPoint:new w.Pq0(0,0,a.value.radius).add(a.value.origin)}]),_=(0,l.EW)(()=>{const e=[];for(let{normal:t,coplanarPoint:n}of q.value)e.push((new w.Zcv).setFromNormalAndCoplanarPoint(t.clone().applyEuler(a.value.rotation),n.clone().add(a.value.origin.clone().multiplyScalar(-1)).applyEuler(a.value.rotation).add(a.value.origin)));return e}),T=(0,l.EW)(()=>{const e=new w.RlV(n.value,new w.Pq0(0,Math.cos(k(90-a.value.latitude)),-Math.sin(k(90-a.value.latitude)))),t=e.intersectsPlane(r.value);switch(a.value.hourLineStyle){case"modern-local":case"modern-mean-solar":case"modern-apparent-solar":return t?"december-solstice":"june-solstice";case"babylonian":case"italian":return f.value?t!=a.value.latitude<0?"polar-night":"polar-day":t?"december-solstice":"june-solstice";case"seasonal":return f.value?"polar-day":t?"december-solstice":"june-solstice";default:return Q(a.value.hourLineStyle)}}),C=(0,l.EW)(()=>{switch(a.value.hourLineStyle){case"modern-local":case"modern-mean-solar":case"modern-apparent-solar":{const e=c.map(e=>{let t;return t="modern-local"==a.value.hourLineStyle?e+24*a.value.longitude/360:e,(60*t%1440+1440)%1440*Math.PI*2/1440});return e.map(e=>I(e-("modern-local"==a.value.hourLineStyle?a.value.timeZone/1440*Math.PI*2:0),a.value.latitude*Math.PI/180,i.value).normalize().multiplyScalar("december-solstice"==T.value?1:-1))}case"babylonian":case"italian":case"seasonal":{const e=(()=>{switch(T.value){case"december-solstice":return-1;case"june-solstice":case"equinox":return 1;case"polar-day":return a.value.latitude>0?1:-1;case"polar-night":return a.value.latitude>0?-1:1}})();return h.value.map(({line:t})=>(new w.Pq0).subVectors(t[t.length-1],t[0]).normalize().multiplyScalar(e))}default:return Q(a.value.hourLineStyle)}}),A=(0,l.EW)(()=>{switch(T.value){case"december-solstice":return 354;case"june-solstice":return 171;case"polar-day":return a.value.latitude>0?171:354;case"polar-night":return a.value.latitude>0?354:171;case"equinox":return 78;default:return Q(T.value)}}),z=(0,l.EW)(()=>c.map((e,t)=>{const n=u(e,A.value,a.value.hourLineStyle)?.add(C.value[t].clone().multiplyScalar(We));if(!n)return null;for(let a of _.value){const e=a.clone();if(e.constant-=_e,e.distanceToPoint(n)<0)return null}return n})),j=(0,l.EW)(()=>{switch(a.value.hourLineStyle){case"modern-local":case"modern-mean-solar":case"modern-apparent-solar":case"italian":case"seasonal":case"babylonian":return 0;default:return Q(a.value.hourLineStyle)}}),V=(0,l.EW)(()=>c.map((e,t)=>({hour:e,label:z.value[t]?(e+j.value).toString():"",pos:z.value[t]?.sub(a.value.origin).applyMatrix4((new w.kn4).makeRotationFromEuler(a.value.rotation).invert())??new w.Pq0(0,0,0),show:!("seasonal"==a.value.hourLineStyle&&t>12)}))),U=(0,l.EW)(()=>{if(!a.value.show)return.12;const e=new w.Pq0(0,0,0).distanceTo(a.value.gnomonPosition);return e<1?.055:.12}),K=(0,l.EW)(()=>u(a.value.localTime/60,a.value.day,"modern-local")),X=(0,l.EW)(()=>[2*a.value.radius,.1,2*a.value.radius]),N=(0,l.EW)(()=>a.value.rotation.clone()),B=(0,l.EW)(()=>[[0,0,0],a.value.gnomonPosition.toArray()]),D=(0,l.EW)(()=>a.value.gnomonPosition.clone()),G=(0,l.EW)(()=>K.value??new w.Pq0(0,0,0)),Z=(0,l.EW)(()=>!!K.value),J=[new w.Pq0(-Fe/2,0,0),new w.Pq0(Fe/2,0,0)],ee=[new w.Pq0(0,0,-Fe/2),new w.Pq0(0,0,Fe/2)],te=(0,l.EW)(()=>a.value.origin.clone().add(s.value));return(e,n)=>{const i=(0,l.g2)("TresObject3D"),r=(0,l.g2)("TresBoxGeometry"),s=(0,l.g2)("TresMeshPhongMaterial"),u=(0,l.g2)("TresMesh"),d=(0,l.g2)("TresSphereGeometry");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(i,{visible:t.show},{default:(0,l.k6)(()=>[(0,l.bF)(oe,{sundialRotation:a.value.rotation,show:t.showGrid,origin:te.value,radius:a.value.radius,colorPalette:a.value.gridColorPalette},null,8,["sundialRotation","show","origin","radius","colorPalette"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.value,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.hour,visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(qe,{"line-width":1,points:e.line,color:"#ffffff","clipping-planes":_.value},null,8,["points","clipping-planes"])]),_:2},1032,["visible"]))),128)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(E.value,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.label,visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(qe,{"line-width":1,points:e.line,color:e.color,"clipping-planes":_.value},null,8,["points","color","clipping-planes"])]),_:2},1032,["visible"]))),128)),(0,l.bF)(i,{position:G.value,visible:Z.value,rotation:N.value},{default:(0,l.k6)(()=>[(0,l.bF)(qe,{"line-width":1,points:J,color:"#000000","clipping-planes":_.value},null,8,["clipping-planes"]),(0,l.bF)(qe,{"line-width":1,points:ee,color:"#000000","clipping-planes":_.value},null,8,["clipping-planes"])]),_:1},8,["position","visible","rotation"])]),_:1},8,["visible"]),(0,l.bF)(i,{visible:t.show,position:a.value.origin,rotation:N.value},{default:(0,l.k6)(()=>[(0,l.bF)(u,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(r,{args:X.value},null,8,["args"]),(0,l.bF)(s,{color:"#f9ecec"})]),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(V.value,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.hour,visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(ae,{"receive-shadow":"",position:e.pos,text:e.label,size:U.value},null,8,["position","text","size"])]),_:2},1032,["visible"]))),128)),(0,l.bF)(u,{position:D.value,"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{args:[.08,20,16]}),(0,l.bF)(s,{color:"#b7b7b7"})]),_:1},8,["position"]),(0,l.bF)((0,o.R1)(Y.Xk),{"line-width":2,points:B.value,color:"#ffffff"},null,8,["points"])]),_:1},8,["visible","position","rotation"])],64)}}});const Ce=Te;var Ae=Ce,Oe=(0,l.pM)({__name:"CompassObject",props:{rotation:{required:!0,type:Object}},setup(e){const t=e,a=(0,l.EW)(()=>t.rotation.clone()),n=[0,Math.PI,0];return(e,t)=>{const i=(0,l.g2)("TresObject3D");return(0,l.uX)(),(0,l.Wv)(i,{rotation:a.value},{default:(0,l.k6)(()=>[(0,l.bF)(i,{rotation:n},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.Wv)(l.tY,null,{default:(0,l.k6)(()=>[(0,l.bF)((0,o.R1)(Y.FW),{path:"./objects3d/compass.glb"})]),_:1}))]),_:1})]),_:1},8,["rotation"])}}});const ze=Oe;var Ie=ze;const $e={style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},je={id:"overlay"},Ve={id:"sidebarContent"},Ue={"data-v-walkthrough":"map"},Ke={class:"horizontal_settings"},Xe={class:"setting"},Ne={key:0,class:"error"},Be={class:"setting"},De={key:0,class:"error"},Ge={class:"setting"},Ze={key:0,class:"error"},He={style:{display:"grid","grid-template-columns":"min-content auto","grid-template-rows":"min-content auto"}},Je={style:{position:"relative","aspect-ratio":"2 / 1"}},Qe={class:"setting","data-v-walkthrough":"time-zone"},Ye={class:"setting","data-v-walkthrough":"sundial-type"},et={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},tt={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},at={"data-v-walkthrough":"slant-and-rotation"},nt={class:"setting"},lt={key:0,class:"error"},ot={class:"setting"},it={key:0,class:"error"},rt={class:"setting"},st={class:"fieldTitle"},ut={key:0,class:"error"},dt={class:"setting","data-v-walkthrough":"hour-lines"},ct={key:0},vt={class:"checkboxSetting"},pt={class:"checkboxSetting"},ht={key:1,style:{"margin-left":"10px"}},mt={class:"checkboxSetting"},gt={class:"checkboxSetting"},ft={class:"checkboxSetting"},bt={class:"checkboxSetting"},yt={class:"checkboxSetting"},wt={class:"checkboxSetting"},kt={key:0},Lt={class:"setting"},Pt={class:"checkboxSetting"},xt={class:"checkboxSetting"},Mt={class:"checkboxSetting"},Rt={class:"checkboxSetting"},St={for:"showPolarDayLine",class:"fieldOption"},Et={class:"variable-readout"},qt={class:"checkboxSetting"},Wt={for:"showPolarNightLine",class:"fieldOption"},_t={class:"variable-readout"},Ft={class:"checkboxSetting"},Tt={class:"checkboxSetting"},Ct={class:"checkboxSetting"},At={id:"topRightControls"},Ot={id:"compassContainer",title:"Compass"},zt={id:"status","data-v-walkthrough":"status"},It={style:{display:"flex","flex-direction":"row","align-items":"center"}},$t={style:{display:"flex","margin-left":"10px","justify-content":"end","flex-direction":"column","align-items":"stretch","padding-block":"9px"}},jt={class:"subtitle"},Vt={class:"subtitle"},Ut={class:"subtitle"},Kt={style:{display:"flex","flex-direction":"row"}},Xt={class:"popper_content"},Nt={style:{"text-align":"left"}},Bt={class:"subtitle",style:{"margin-top":"13px"}},Dt=5,Gt=4,Zt=4,Ht=3;var Jt=(0,l.pM)({__name:"App",setup(e){(0,n.$9)(e=>({"2cd0fbeb":ea.value}));const t=new w.Pq0(0,-.5,0),a=t.clone();let p=(0,o.KR)(720),m=(0,o.KR)(162),g=(0,o.KR)(0),k=(0,o.KR)(0),P=(0,o.KR)(!0),x=(0,o.KR)(0),M=(0,o.KR)(!1),R=(0,o.KR)("standard"),S=(0,o.KR)("modern-local"),E=(0,o.KR)("dialAndGnomon"),q=(0,o.KR)(0),_=(0,o.KR)(0),F=(0,o.KR)(1),T=(0,o.KR)(1),C=(0,o.KR)(!1),A=(0,o.KR)(!0),z=(0,o.KR)(!0),I=(0,o.KR)(!0),X=(0,o.KR)(!0),N=(0,o.KR)(0),D=(0,o.KR)(!1),G=(0,o.KR)(!1),Z=(0,o.KR)(),H=(0,o.KR)(!1),Q=(0,o.KR)("");const Y=(0,o.KR)(null);function ee(){0==H.value&&(H.value=!0,Q.value=j(p.value),(0,l.dY)(()=>Y.value?.focus()))}function te(){if(!Y.value)return;const e=V(Y.value.value);isNaN(e)||(p.value=e)}function ae(){1==H.value&&(H.value=!1,te())}(0,v.X2F)(Y,ae),(0,l.sV)(()=>{document.addEventListener("keydown",e=>{"Escape"==e.key&&ge(!1)})});const ne={latitude:"45.00",longitude:"0.00",timeZone:"+0:00",slant:"0",rotation:"0",gnomonHeight:"1"},le=/^\s*([+-±]?)\s*((?:0?[0-9])|1[0-9])(?::((?:0[0-9])|[1-5][0-9]))?\s*$/;let oe=(0,o.Kh)(ne);const ie=(0,l.EW)(()=>({latitude:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-90),maxValue:(0,b.cG)(90)},longitude:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-180),maxValue:(0,b.cG)(180)},timeZone:{isATimeZone:b._$.withMessage("Your time zone should look like +/-HH(:MM)",b._$.regex(le))},slant:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-180),maxValue:(0,b.cG)(180)},rotation:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(-180),maxValue:(0,b.cG)(180)},gnomonHeight:{required:b.mw,decimal:b._,minValue:(0,b.Ww)(.5),maxValue:(0,b.cG)(3)}})),re=(0,y.Ay)(ie,oe);(0,l.wB)(()=>oe.longitude,e=>{re.value.longitude.$invalid||(g.value=Number.parseFloat(e),P.value&&(oe.timeZone=K(B(g.value))))},{immediate:!0}),(0,l.wB)(()=>oe.latitude,e=>{re.value.latitude.$invalid||(k.value=Number.parseFloat(e))},{immediate:!0}),(0,l.wB)(()=>oe.timeZone,e=>{const t=e.match(le);if(t){const e=("-"==t[1]?-1:1)*(60*Number.parseInt(t[2])+Number.parseInt(t[3]??0));p.value=((p.value+e-x.value)%1440+1440)%1440,x.value=e}},{immediate:!0}),(0,l.wB)(()=>oe.slant,e=>{re.value.slant.$invalid||(q.value=Number.parseFloat(e)*Math.PI/180)},{immediate:!0}),(0,l.wB)(()=>oe.rotation,e=>{re.value.rotation.$invalid||(_.value=-Number.parseFloat(e)*Math.PI/180)},{immediate:!0}),(0,l.wB)(()=>oe.gnomonHeight,e=>{re.value.gnomonHeight.$invalid||(T.value=Number.parseFloat(e))},{immediate:!0});const ue=(0,l.EW)(()=>{const e=[];return C.value&&e.push("equinox"),z.value&&e.push("december-solstice"),A.value&&e.push("june-solstice"),I.value&&e.push("polar-day"),X.value&&e.push("polar-night"),e}),de=(0,l.nI)();let ce=(0,o.KR)(!1);function pe(){const e=de?.appContext.config.globalProperties.$tours["walkthrough"];e&&(e.isRunning.value?e.stop():(he(),e.start()))}function he(){de?.appContext.config.globalProperties.$tours["walkthrough"].finish(),ce.value=!1}function ge(e){e&&he(),ce.value=e}const fe=(0,o.KR)();(0,v.X2F)(fe,()=>ge(!1));let be=(0,o.KR)(),ye=(0,o.KR)(!1);function we(e,t){if(be.value){const a=J(e/be.value.width*360-180,{min:-180,max:180}),n=J(90-t/be.value.height*180,{min:-90,max:90});oe.longitude=a.toFixed(1),oe.latitude=n.toFixed(1)}}function xe(e){ye.value&&we(e.offsetX,e.offsetY)}function Me(e){const t=be.value?.getBoundingClientRect();if(!t)return;const a=e.touches[0];we(a.clientX-t.left,a.clientY-t.top)}function Re(){ye.value=!0}function Se(e){we(e.offsetX,e.offsetY)}(0,l.sV)(()=>{window.addEventListener("mouseup",()=>{ye.value=!1})});let Ee=(0,o.KR)({clientWidth:0,clientHeight:0});const qe=(0,o.KR)(),We=new ResizeObserver(()=>{const e=qe.value?.clientWidth??0,t=qe.value?.clientHeight??0;Ee.value={clientWidth:e,clientHeight:t}});function _e(){0==N.value?N.value=1:(N.value*=4,N.value>16&&(N.value=0))}function Fe(e){p.value+=e,p.value>=1440&&(p.value%=1440,m.value=(m.value+1)%365)}(0,l.sV)(()=>{We.observe(qe.value)}),(0,l.wB)(()=>P.value,e=>{e&&(oe.timeZone=K(B(g.value)))});const Te=(0,l.EW)(()=>new w.O9p(Math.abs(q.value),_.value+(q.value<0?Math.PI:0),0,"YXZ")),Ce=(0,l.EW)(()=>new w.Pq0(0,T.value,0)),Oe=(0,l.EW)(()=>new w.Pq0(0,T.value,0)),ze=(0,l.EW)(()=>((p.value-x.value)%1440+1440)%1440),Jt=(0,l.EW)(()=>L(m.value,ze.value,k.value,g.value)),Qt=(0,l.EW)(()=>O(Jt.value.azimuth,Jt.value.altitude)),Yt=(0,l.EW)(()=>Jt.value.altitude>=0),ea=(0,l.EW)(()=>Yt.value||D.value?"black":"white"),ta=(0,l.EW)(()=>j(p.value)),aa=(0,l.EW)(()=>U(m.value)),na=(0,l.EW)(()=>ze.value+g.value/360*24*60),la=(0,l.EW)(()=>j(na.value)),oa=(0,l.EW)(()=>{const e=k.value*Math.PI/180,t=12*Math.atan2(Qt.value.y*Math.cos(e)+Qt.value.z*Math.sin(e),Qt.value.x)/Math.PI+6,a=(t%24+24)%24*60;return a}),ia=(0,l.EW)(()=>j(oa.value)),ra=(0,l.EW)(()=>K(x.value)),sa=(0,l.EW)(()=>Jt.value.altitude>.1?1:Jt.value.altitude>0?Jt.value.altitude/.1:0),ua=(0,l.EW)(()=>{if(D.value)return"#87CEEB";let e=0;return Jt.value.altitude>.1?e=1:Jt.value.altitude>-.1&&(e=(Jt.value.altitude+.1)/.2),h()(["#02407a","#87CEEB"])(e)}),da=(0,l.EW)(()=>{const e=new w.Pq0(0,1,0).applyEuler(Te.value),t=new w.Pq0(Qt.value.x,Qt.value.y,Qt.value.z),a=e.dot(t)/(e.length()*t.length());return a<=0?0:a*sa.value}),ca=(0,l.EW)(()=>da.value>=.5?"light":"dark"),va=(0,l.EW)(()=>{if(!Z.value)return new w.O9p;const e=Z.value.distanceTo(new w.Pq0(0,0,0)),t=Math.asin(Z.value.y/e),a=Math.atan2(Z.value.z,Z.value.x);return new w.O9p(t-Math.PI/2,a-Math.PI/2,0,"XYZ")}),pa=(0,l.EW)(()=>0==N.value?"▶":N.value+"x"),ha=(0,l.EW)(()=>{const e=$(k.value);return Math.abs(e)*Math.PI/180>W(8532.5)?null:e}),ma=(0,l.EW)(()=>ha.value?ha.value.toFixed(1)+"°":"n/a"),ga=(0,l.EW)(()=>ha.value?(-ha.value).toFixed(1)+"°":"n/a"),fa=(0,l.EW)(()=>"dialAndGnomon"===E.value),ba=(0,l.EW)(()=>"pointSundial"===E.value),ya=(0,l.EW)(()=>[Qt.value.x,Qt.value.y,Qt.value.z]),wa=(0,l.EW)(()=>M.value?1:sa.value),ka=(0,l.EW)(()=>-Ee.value.clientWidth/2),La=[50,50,"#AAAAAA","#AAAAAA"],Pa=[0,-8,0],xa=[0,10,0],Ma=[0,0,0];return(e,v)=>{const h=(0,l.g2)("v-tour"),b=(0,l.g2)("TresPerspectiveCamera"),y=(0,l.g2)("TresDirectionalLight"),L=(0,l.g2)("TresAmbientLight"),q=(0,l.g2)("TresGridHelper"),W=(0,l.g2)("TresOrthographicCamera");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(h,{name:"walkthrough",steps:(0,o.R1)(Le),options:{labels:{buttonSkip:"Close",buttonPrevious:"Previous",buttonNext:"Next",buttonStop:"Finish"}}},null,8,["steps"]),(0,l.Lk)("div",$e,[(0,l.bF)((0,o.R1)(c.rs),{"clear-color":ua.value,shadows:"",shadowMapType:(0,o.R1)(w.bTm),"render-mode":"on-demand"},{default:(0,l.k6)(()=>[(0,l.bF)(b),(0,l.bF)(se,{show:fa.value,latitude:(0,o.R1)(k),longitude:(0,o.R1)(g),origin:(0,o.R1)(t),rotation:Te.value,"gnomon-position":Ce.value,radius:Dt,hourLineStyle:(0,o.R1)(R),"time-zone":(0,o.R1)(x),numeralDistanceFromSundialOrigin:Zt,showGrid:(0,o.R1)(G),gridColorPalette:ca.value},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone","showGrid","gridColorPalette"]),(0,l.bF)(Ae,{show:ba.value,latitude:(0,o.R1)(k),longitude:(0,o.R1)(g),origin:(0,o.R1)(t),rotation:Te.value,"gnomon-position":Oe.value,radius:Gt,hourLineStyle:(0,o.R1)(S),"time-zone":(0,o.R1)(x),"show-equinox-line":(0,o.R1)(C),declinationPlots:ue.value,localTime:(0,o.R1)(p),day:(0,o.R1)(m),showGrid:(0,o.R1)(G),gridColorPalette:ca.value},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone","show-equinox-line","declinationPlots","localTime","day","showGrid","gridColorPalette"]),(0,l.bF)(f,{position:Qt.value},null,8,["position"]),(0,l.bF)(y,{position:ya.value,intensity:wa.value,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"cast-shadow":""},null,8,["position","intensity"]),(0,l.bF)(L,{color:"#AAAAAA"}),(0,l.bF)(q,{args:La,position:Pa}),(0,l.bF)(ve,{"x-offset":ka.value,"zoom-per-second":(0,o.R1)(F),onCameraPosChange:v[0]||(v[0]=e=>(0,o.i9)(Z)?Z.value=e:Z=e),onOnAdvanceTime:Fe,"time-advance-speed":(0,o.R1)(N),target:(0,o.R1)(a)},null,8,["x-offset","zoom-per-second","time-advance-speed","target"]),(0,l.bF)(me)]),_:1},8,["clear-color","shadowMapType"])]),(0,l.Lk)("div",je,[(0,l.Lk)("div",{id:"sidebar",ref_key:"sidebar",ref:qe},[(0,l.Lk)("div",Ve,[(0,l.Lk)("a",{class:"sidebar_link",onClick:v[1]||(v[1]=e=>{e.preventDefault(),pe()}),href:"javascript:void(0)"},"walkthrough"),v[84]||(v[84]=(0,l.eW)(" · ",-1)),v[85]||(v[85]=(0,l.Lk)("a",{class:"sidebar_link",href:"https://github.com/tpeach90/sundials/",style:{"text-decoration":"none"},target:"_blank",title:"Source code on github.com"},[(0,l.Lk)("span",{style:{"text-decoration":"underline"}},"code"),(0,l.Lk)("img",{src:r,style:{height:"1em","margin-left":"0.2em"},alt:"GitHub logo"})],-1)),v[86]||(v[86]=(0,l.Lk)("h2",null,"Coordinates",-1)),(0,l.Lk)("div",Ue,[(0,l.Lk)("div",Ke,[(0,l.Lk)("div",Xe,[v[51]||(v[51]=(0,l.Lk)("label",{class:"fieldTitle"},"Latitude/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":v[2]||(v[2]=e=>(0,o.R1)(re).latitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).latitude.$model]]),(0,o.R1)(re).latitude.$dirty&&(0,o.R1)(re).latitude.$invalid?((0,l.uX)(),(0,l.CE)("div",Ne,(0,i.v_)((0,o.R1)(re).latitude.$errors[0].$message),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Be,[v[52]||(v[52]=(0,l.Lk)("label",{class:"fieldTitle"},"Longitude/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":v[3]||(v[3]=e=>(0,o.R1)(re).longitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).longitude.$model]]),(0,o.R1)(re).longitude.$dirty&&(0,o.R1)(re).longitude.$invalid?((0,l.uX)(),(0,l.CE)("div",De,(0,i.v_)((0,o.R1)(re).longitude.$errors[0].$message),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ge,[v[53]||(v[53]=(0,l.Lk)("label",{class:"fieldTitle"},"Time Zone/±UTC",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":v[4]||(v[4]=e=>(0,o.R1)(re).timeZone.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).timeZone.$model]]),(0,o.R1)(re).timeZone.$dirty&&(0,o.R1)(re).timeZone.$invalid?((0,l.uX)(),(0,l.CE)("div",Ze,(0,i.v_)((0,o.R1)(re).timeZone.$errors[0].$message),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",He,[(0,l.bo)((0,l.Lk)("input",{style:{"grid-row":"1","grid-column":"1","margin-right":"10px",height:"100%","margin-top":"0px","margin-bottom":"0px","touch-action":"none"},type:"range",min:"-90",max:"90",step:"-0.1",class:"slider",orient:"vertical","onUpdate:modelValue":v[5]||(v[5]=e=>(0,o.R1)(re).latitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).latitude.$model]]),(0,l.Lk)("div",Je,[(0,l.Lk)("img",{src:s,id:"mapImage",alt:"An outline world map, on which the user can click to set the latitude and longitude.",style:{"grid-row":"1","grid-column":"2","object-fit":"contain",display:"block",margin:"0px","touch-action":"none"},draggable:"false",onMousemove:xe,onMousedown:Re,onTouchstart:Re,onTouchmove:Me,onClick:Se,ref_key:"mapImage",ref:be},null,544),(0,l.Lk)("div",{id:"markerPoint",style:(0,i.Tr)(`top:${100*(90-(0,o.R1)(k))/180}%; left:${100*((0,o.R1)(g)+180)/360}%`)},null,4)]),(0,l.bo)((0,l.Lk)("input",{style:{"grid-row":"2","grid-column":"2","margin-top":"10px","margin-left":"0px","margin-right":"0px"},type:"range",min:"-180",max:"180",step:"1",class:"slider","onUpdate:modelValue":v[6]||(v[6]=e=>(0,o.R1)(re).longitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).longitude.$model]])])]),(0,l.Lk)("div",Qe,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"autoSelectTimeZone","onUpdate:modelValue":v[7]||(v[7]=e=>(0,o.i9)(P)?P.value=e:P=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(P)]]),v[54]||(v[54]=(0,l.Lk)("label",{for:"autoSelectTimeZone",class:"fieldOption"},"Automatically set time zone",-1))]),v[87]||(v[87]=(0,l.Lk)("br",null,null,-1)),v[88]||(v[88]=(0,l.Lk)("h2",null,"Sundial Settings",-1)),(0,l.Lk)("div",Ye,[(0,l.Lk)("div",et,[v[56]||(v[56]=(0,l.Lk)("label",{for:"dialAndGnomon",style:{"margin-right":"10px"}},[(0,l.Lk)("img",{src:u,style:{"max-width":"50px"},alt:"Traditional sundial icon"})],-1)),(0,l.Lk)("div",null,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"dialAndGnomon",value:"dialAndGnomon","onUpdate:modelValue":v[8]||(v[8]=e=>(0,o.i9)(E)?E.value=e:E=e)},null,512),[[n.XL,(0,o.R1)(E)]]),v[55]||(v[55]=(0,l.Lk)("label",{for:"dialAndGnomon",class:"fieldOption"}," Traditional sundial ",-1))])]),(0,l.Lk)("div",tt,[v[58]||(v[58]=(0,l.Lk)("label",{for:"pointSundial",style:{"margin-right":"10px"}},[(0,l.Lk)("img",{src:d,style:{"max-width":"50px"},alt:"Point shadow trace icon"})],-1)),(0,l.Lk)("div",null,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pointSundial",value:"pointSundial","onUpdate:modelValue":v[9]||(v[9]=e=>(0,o.i9)(E)?E.value=e:E=e)},null,512),[[n.XL,(0,o.R1)(E)]]),v[57]||(v[57]=(0,l.Lk)("label",{for:"pointSundial",class:"fieldOption"}," Point shadow trace ",-1))])])]),v[89]||(v[89]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",at,[(0,l.Lk)("div",nt,[v[59]||(v[59]=(0,l.Lk)("label",{class:"fieldTitle"},"Slant/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":v[10]||(v[10]=e=>(0,o.R1)(re).slant.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).slant.$model]]),(0,o.R1)(re).slant.$dirty&&(0,o.R1)(re).slant.$invalid?((0,l.uX)(),(0,l.CE)("div",lt,(0,i.v_)((0,o.R1)(re).slant.$errors[0].$message),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{type:"range",min:-180,max:180,step:"1",class:"slider","onUpdate:modelValue":v[11]||(v[11]=e=>(0,o.R1)(re).slant.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).slant.$model]])]),(0,l.Lk)("div",ot,[v[60]||(v[60]=(0,l.Lk)("label",{class:"fieldTitle"},"Rotation/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":v[12]||(v[12]=e=>(0,o.R1)(re).rotation.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).rotation.$model]]),(0,o.R1)(re).rotation.$dirty&&(0,o.R1)(re).rotation.$invalid?((0,l.uX)(),(0,l.CE)("div",it,(0,i.v_)((0,o.R1)(re).rotation.$errors[0].$message),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{type:"range",min:-180,max:180,step:"1",class:"slider","onUpdate:modelValue":v[13]||(v[13]=e=>(0,o.R1)(re).rotation.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).rotation.$model]])]),(0,l.Lk)("div",rt,[(0,l.Lk)("label",st,(0,i.v_)("dialAndGnomon"==(0,o.R1)(E)?"Gnomon":"Nodus")+" height",1),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":v[14]||(v[14]=e=>(0,o.R1)(re).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).gnomonHeight.$model]]),(0,o.R1)(re).gnomonHeight.$dirty&&(0,o.R1)(re).gnomonHeight.$invalid?((0,l.uX)(),(0,l.CE)("div",ut,(0,i.v_)((0,o.R1)(re).gnomonHeight.$errors[0].$message),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{type:"range",min:.5,max:3,step:"0.05",class:"slider","onUpdate:modelValue":v[15]||(v[15]=e=>(0,o.R1)(re).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,o.R1)(re).gnomonHeight.$model]])])]),(0,l.Lk)("div",dt,[v[71]||(v[71]=(0,l.Lk)("label",{class:"fieldTitle"},"Hour lines",-1)),"dialAndGnomon"==(0,o.R1)(E)?((0,l.uX)(),(0,l.CE)("div",ct,[(0,l.Lk)("div",vt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"standardLines",value:"standard","onUpdate:modelValue":v[16]||(v[16]=e=>(0,o.i9)(R)?R.value=e:R=e)},null,512),[[n.XL,(0,o.R1)(R)]]),v[61]||(v[61]=(0,l.Lk)("label",{for:"standardLines",class:"fieldOption"},"Adjusted for time zone and longitude",-1))]),(0,l.Lk)("div",pt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"solarLines",value:"solar","onUpdate:modelValue":v[17]||(v[17]=e=>(0,o.i9)(R)?R.value=e:R=e)},null,512),[[n.XL,(0,o.R1)(R)]]),v[62]||(v[62]=(0,l.Lk)("label",{for:"solarLines",class:"fieldOption"},"Apparent solar time",-1))])])):"pointSundial"==(0,o.R1)(E)?((0,l.uX)(),(0,l.CE)("div",ht,[v[69]||(v[69]=(0,l.Lk)("label",{class:"fieldTitle"},"Modern hours",-1)),(0,l.Lk)("div",mt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstModernLocal",value:"modern-local","onUpdate:modelValue":v[18]||(v[18]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),v[63]||(v[63]=(0,l.Lk)("label",{for:"pstModernLocal",class:"fieldOption"},"Local standard time",-1))]),(0,l.Lk)("div",gt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstModernMeanSolar",value:"modern-mean-solar","onUpdate:modelValue":v[19]||(v[19]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),v[64]||(v[64]=(0,l.Lk)("label",{for:"pstModernMeanSolar",class:"fieldOption"},"Mean solar time",-1))]),(0,l.Lk)("div",ft,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstModernApparentSolar",value:"modern-apparent-solar","onUpdate:modelValue":v[20]||(v[20]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),v[65]||(v[65]=(0,l.Lk)("label",{for:"pstModernApparentSolar",class:"fieldOption"},"Apparent solar time",-1))]),v[70]||(v[70]=(0,l.Lk)("label",{class:"fieldTitle",style:{"margin-top":"4px"}},[(0,l.eW)(" Other "),(0,l.Lk)("a",{class:"sidebar_link",href:"https://www.bcgnomonics.com/types-of-hours",title:"Explanation on bcgnomonics.com",target:"_blank"},"(?)")],-1)),(0,l.Lk)("div",bt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstBabylonian",value:"babylonian","onUpdate:modelValue":v[21]||(v[21]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),v[66]||(v[66]=(0,l.Lk)("label",{for:"pstBabylonian",class:"fieldOption"},"Babylonian hours – hours from sunrise",-1))]),(0,l.Lk)("div",yt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstItalian",value:"italian","onUpdate:modelValue":v[22]||(v[22]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),v[67]||(v[67]=(0,l.Lk)("label",{for:"pstItalian",class:"fieldOption"},"Italian hours – hours from sunset",-1))]),(0,l.Lk)("div",wt,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstSeasonal",value:"seasonal","onUpdate:modelValue":v[23]||(v[23]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),v[68]||(v[68]=(0,l.Lk)("label",{for:"pstSeasonal",class:"fieldOption"},"Seasonal/unequal hours – sunrise to sunset",-1))])])):(0,l.Q3)("",!0)]),"pointSundial"==(0,o.R1)(E)?((0,l.uX)(),(0,l.CE)("div",kt,[v[80]||(v[80]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",Lt,[v[79]||(v[79]=(0,l.Lk)("label",{class:"fieldTitle"},"Constant-declination curves",-1)),(0,l.Lk)("div",Pt,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showJuneSolsticeLine","onUpdate:modelValue":v[24]||(v[24]=e=>(0,o.i9)(A)?A.value=e:A=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(A)]]),v[72]||(v[72]=(0,l.Lk)("label",{for:"showJuneSolsticeLine",class:"fieldOption"},"June solstice (23.44°)",-1))]),(0,l.Lk)("div",xt,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showDecemberSolsticeLine","onUpdate:modelValue":v[25]||(v[25]=e=>(0,o.i9)(z)?z.value=e:z=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(z)]]),v[73]||(v[73]=(0,l.Lk)("label",{for:"showDecemberSolsticeLine",class:"fieldOption"},"December solstice (-23.44°)",-1))]),(0,l.Lk)("div",Mt,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showEquinoxLine","onUpdate:modelValue":v[26]||(v[26]=e=>(0,o.i9)(C)?C.value=e:C=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(C)]]),v[74]||(v[74]=(0,l.Lk)("label",{for:"showEquinoxLine",class:"fieldOption"},"Equinox (0°)",-1))]),(0,l.Lk)("div",Rt,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showPolarDayLine","onUpdate:modelValue":v[27]||(v[27]=e=>(0,o.i9)(I)?I.value=e:I=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(I)]]),(0,l.Lk)("label",St,[v[75]||(v[75]=(0,l.eW)("Polar day boundary (",-1)),(0,l.Lk)("div",Et,(0,i.v_)(ma.value),1),v[76]||(v[76]=(0,l.eW)(")",-1))])]),(0,l.Lk)("div",qt,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showPolarNightLine","onUpdate:modelValue":v[28]||(v[28]=e=>(0,o.i9)(X)?X.value=e:X=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(X)]]),(0,l.Lk)("label",Wt,[v[77]||(v[77]=(0,l.eW)("Polar night boundary (",-1)),(0,l.Lk)("div",_t,(0,i.v_)(ga.value),1),v[78]||(v[78]=(0,l.eW)(")",-1))])])])])):(0,l.Q3)("",!0),v[90]||(v[90]=(0,l.Lk)("br",null,null,-1)),v[91]||(v[91]=(0,l.Lk)("h2",null,"Misc",-1)),(0,l.Lk)("div",Ft,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showSundialFaceGrid","onUpdate:modelValue":v[29]||(v[29]=e=>(0,o.i9)(G)?G.value=e:G=e)},null,512),[[n.lH,(0,o.R1)(G)]]),v[81]||(v[81]=(0,l.Lk)("label",{for:"showSundialFaceGrid",class:"fieldOption"},"Sundial grid overlay",-1))]),(0,l.Lk)("div",Tt,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"sunRaysPassThroughEarth","onUpdate:modelValue":v[30]||(v[30]=e=>(0,o.i9)(M)?M.value=e:M=e)},null,512),[[n.lH,(0,o.R1)(M)]]),v[82]||(v[82]=(0,l.Lk)("label",{for:"sunRaysPassThroughEarth",class:"fieldOption"},"Light can reach the sundial at night",-1))]),(0,l.Lk)("div",Ct,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"alwaysDaySkyColor","onUpdate:modelValue":v[31]||(v[31]=e=>(0,o.i9)(D)?D.value=e:D=e)},null,512),[[n.lH,(0,o.R1)(D)]]),v[83]||(v[83]=(0,l.Lk)("label",{for:"alwaysDaySkyColor",class:"fieldOption"},"Disable night-time dark sky color",-1))]),v[92]||(v[92]=(0,l.Lk)("br",null,null,-1)),v[93]||(v[93]=(0,l.Lk)("footer",null,[(0,l.Lk)("p",{id:"copyrightText"},[(0,l.eW)("© Thomas Peach 2025. "),(0,l.Lk)("a",{class:"sidebar_link",href:"mailto:thomas.peach546@gmail.com"},"Contact")])],-1))])],512),(0,l.Lk)("div",At,[(0,l.Lk)("div",Ot,[(0,l.bF)((0,o.R1)(c.rs),{"render-mode":"on-demand"},{default:(0,l.k6)(()=>[(0,l.bF)(L,{color:"#FFFFFF",intensity:2}),(0,l.bF)(W,{position:xa,lookAt:Ma,zoom:15}),(0,l.bF)(Ie,{rotation:va.value},null,8,["rotation"])]),_:1}),v[94]||(v[94]=(0,l.Lk)("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0"},title:"North"},null,-1))]),(0,l.Lk)("button",{class:"zoomControl",onKeydown:v[32]||(v[32]=(0,n.jR)(()=>{(0,o.i9)(F)?F.value=1/Ht:F=1/Ht},["enter"])),onKeyup:v[33]||(v[33]=(0,n.jR)(()=>{(0,o.i9)(F)?F.value=1:F=1},["enter"])),onMousedown:v[34]||(v[34]=()=>{(0,o.i9)(F)?F.value=1/Ht:F=1/Ht}),onMouseup:v[35]||(v[35]=()=>{(0,o.i9)(F)?F.value=1:F=1}),onPointerleave:v[36]||(v[36]=()=>{(0,o.i9)(F)?F.value=1:F=1}),onTouchstart:v[37]||(v[37]=()=>{(0,o.i9)(F)?F.value=1/Ht:F=1/Ht}),onTouchend:v[38]||(v[38]=()=>{(0,o.i9)(F)?F.value=1:F=1})}," + ",32),(0,l.Lk)("button",{class:"zoomControl",onKeydown:v[39]||(v[39]=(0,n.jR)(()=>{(0,o.i9)(F)?F.value=Ht:F=Ht},["enter"])),onKeyup:v[40]||(v[40]=(0,n.jR)(()=>{(0,o.i9)(F)?F.value=1:F=1},["enter"])),onMousedown:v[41]||(v[41]=()=>{(0,o.i9)(F)?F.value=Ht:F=Ht}),onMouseup:v[42]||(v[42]=()=>{(0,o.i9)(F)?F.value=1:F=1}),onPointerleave:v[43]||(v[43]=()=>{(0,o.i9)(F)?F.value=1:F=1}),onTouchstart:v[44]||(v[44]=()=>{(0,o.i9)(F)?F.value=Ht:F=Ht}),onTouchend:v[45]||(v[45]=()=>{(0,o.i9)(F)?F.value=1:F=1})}," - ",32)]),(0,l.Lk)("div",zt,[(0,l.Lk)("div",It,[(0,l.bo)((0,l.Lk)("div",{class:"time_display",onClick:ee,onKeydown:(0,n.jR)(ee,["space"]),tabindex:"0"},(0,i.v_)(ta.value),545),[[n.aG,!(0,o.R1)(H)]]),(0,l.bo)((0,l.Lk)("input",{ref_key:"timeEntryBox",ref:Y,class:"timeEntryBox",onBlur:ae,onKeydown:[(0,n.jR)(ae,["enter"]),(0,n.jR)(ae,["esc"])],onInput:te,"onUpdate:modelValue":v[46]||(v[46]=e=>(0,o.i9)(Q)?Q.value=e:Q=e)},null,544),[[n.aG,(0,o.R1)(H)],[n.Jo,(0,o.R1)(Q)]]),(0,l.bo)((0,l.Lk)("div",$t,[v[95]||(v[95]=(0,l.Lk)("div",{class:"subtitle"},"local standard time",-1)),(0,l.Lk)("div",jt,"(UTC "+(0,i.v_)(ra.value)+") "+(0,i.v_)(Yt.value?"☀️":"🌙"),1)],512),[[n.aG,!(0,o.R1)(H)]])]),(0,l.Lk)("div",Vt,(0,i.v_)(la.value)+" mean solar time",1),(0,l.Lk)("div",Ut,(0,i.v_)(ia.value)+" apparent solar time",1),(0,l.Lk)("div",Kt,[(0,l.bo)((0,l.Lk)("input",{type:"range",min:"0",max:"1440",step:"10",class:"slider",id:"time","onUpdate:modelValue":v[47]||(v[47]=e=>(0,o.i9)(p)?p.value=e:p=e)},null,512),[[n.Jo,(0,o.R1)(p),void 0,{number:!0}]]),(0,l.Lk)("button",{type:"button",onClick:_e,id:"time_advance_button",title:"Auto-advance time"},(0,i.v_)(pa.value),1)]),(0,l.bF)((0,o.R1)(Pe.A),{arrow:"",placement:"left",show:(0,o.R1)(ce),ref_key:"threeTimesExplanationPopper",ref:fe},{content:(0,l.k6)(()=>[(0,l.Lk)("div",Xt,[(0,l.Lk)("div",Nt,[(0,l.bF)(ke)]),(0,l.Lk)("button",{class:"v-step__button",onClick:v[48]||(v[48]=()=>ge(!1))},"Close")])]),default:(0,l.k6)(()=>[(0,l.Lk)("a",{class:"overlay_link",href:"javascript:void(0)",onClick:v[49]||(v[49]=()=>ge(!(0,o.R1)(ce)))},"Why are there 3 times?")]),_:1},8,["show"]),v[96]||(v[96]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",Bt,(0,i.v_)(aa.value),1),(0,l.bo)((0,l.Lk)("input",{type:"range",min:"0",max:"364",step:"1",class:"slider",id:"day","onUpdate:modelValue":v[50]||(v[50]=e=>(0,o.i9)(m)?m.value=e:m=e)},null,512),[[n.Jo,(0,o.R1)(m),void 0,{number:!0}]])])])],64)}}});const Qt=(0,be.A)(Jt,[["__scopeId","data-v-16e40c51"]]);var Yt=Qt,ea=a(2972),ta=a.n(ea);const aa=(0,n.Ef)(Yt);aa.use(ta()),aa.mount("#app")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,o){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every(function(e){return a.O[e](n[s])})?n.splice(s--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var u=l();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,l,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/sundials/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,o,i=n[0],r=n[1],s=n[2],u=0;if(i.some(function(t){return 0!==e[t]})){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(s)var d=s(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self["webpackChunksundials"]=self["webpackChunksundials"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(5093)});n=a.O(n)})();
//# sourceMappingURL=app.b2e1ccf9.js.map