(function(){"use strict";var e={6402:function(e,t,a){var n=a(5130),o=a(6768),i=a(144),l=a(4232),r=a.p+"img/github-mark-white.fd5c0afd.svg",s=a.p+"img/world-map-coordinates-correct.be5765fb.png",u=a.p+"img/sundialicon.4d548112.svg",d=a.p+"img/pointshadowtraceicon.a0286b3e.svg",c=a(9691),h=a(7383),p=a(3911),m=a.n(p);function v(e,t,a,n,i,l){const r=(0,o.g2)("TresSphereGeometry"),s=(0,o.g2)("TresMeshBasicMaterial"),u=(0,o.g2)("TresMesh"),d=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.Wv)(d,{position:e.position},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{args:[.5,20,16]}),(0,o.bF)(s,{color:"#ffffff"})])),_:1})])),_:1},8,["position"])}var g=(0,o.pM)({name:"SunObject",props:{position:{required:!0,type:Array}}}),f=a(1241);const b=(0,f.A)(g,[["render",v]]);var w=b,y=a(9428),k=a(7760),R=a(8776);a(4114);function M(e){return e*Math.PI/180}function L(e,t,a,n){const o=n*Math.PI/180,i=a*Math.PI/180,l=8400.5+e+t/1440,r=l+37/86400,s=r+32.184/86400,u=(M(280.46)+M(.9856474)*s)%(2*Math.PI),d=(M(357.528)+M(.9856003)*s)%(2*Math.PI),c=u+M(1.915)*Math.sin(d)+M(.02)*Math.sin(2*d),h=M(23.4393)-M(4e-7)*s,p=Math.atan2(Math.cos(h)*Math.sin(c),Math.cos(c)),m=Math.asin(Math.sin(h)*Math.sin(c)),v=Math.trunc(l+.5)-.5,g=24*(l-v),f=s/36525,b=(6.697375+.065707485828*v+1.0027379*g+.0854103*f+258e-7*Math.pow(f,2))*Math.PI/12,w=M(125.04)-M(.052954)*s,y=(-319e-6*Math.sin(w)-24e-6*Math.sin(2*u))*Math.PI/12,k=y*Math.cos(h),R=b+k,L=R+o,x=L-p,S=-Math.atan2(Math.cos(m)*Math.sin(x),-Math.sin(i)*Math.cos(m)*Math.cos(x)+Math.cos(i)*Math.sin(m)),E=Math.asin(Math.sin(i)*Math.sin(m)+Math.cos(i)*Math.cos(m)*Math.cos(x));return{azimuth:S,altitude:E}}function x(e,t,a=15){return{x:a*Math.sin(e)*Math.cos(t),y:a*Math.sin(t),z:a*-Math.cos(e)*Math.cos(t)}}function S(e,t){return new R.Vector3(Math.sin(e),-Math.cos(e)*Math.cos(t),-Math.cos(e)*Math.sin(t))}function E(e,t,a){const n=S(e,t),o=new R.Vector3(0,Math.sin(t),-Math.cos(t)),i=n.clone().cross(o),l=i.clone().cross(a);return l}function _(e){const t=Math.floor((e/60%24+24)%24).toString().padStart(2,"0"),a=Math.floor((e%60+60)%60).toString().padStart(2,"0");return`${t}:${a}`}function P(e){const t=e.match(/^\s*([0-9]+)(?::([0-9]*))?\s*$/);if(!t)return NaN;const a=Number.parseInt(t[1]);if(a<0||a>23)return NaN;let n=0;return t[2]&&""!=t[2]&&(n=Number.parseInt(t[2]),n<0||n>59)?NaN:60*a+n}function F(e){const t=new Date(Date.parse("2001")+24*e*60*60*1e3);return t.toLocaleDateString(void 0,{month:"long",day:"numeric"})}function V(e){const t=e>0?"+":e<0?"-":"Â±",a=Math.abs(Math.trunc(e/60)),n=Math.abs(e%60);let o=t+a.toString();return 0!=n&&(o+=":"+n.toString()),o}function T(e,t,a){const n=new R.Ray(t,a);let o=n.intersectPlane(e,new R.Vector3);if(o)return{dir:1,point:o};const i=new R.Ray(t,a.clone().multiplyScalar(-1));return o=i.intersectPlane(e,new R.Vector3),o?{dir:-1,point:o}:null}function W(e,t,a,n){const o=e.distanceToSquared(a)-Math.pow(t,2),i=-2*e.clone().sub(a).multiply(n).dot(new R.Vector3(1,1,1)),l=Math.pow(n.length(),2),r=Math.pow(i,2)-4*l*o;return r<0?[]:[(-i-Math.sqrt(r))/(2*l),(-i+Math.sqrt(r))/(2*l)]}function C(e){return 60*Math.round(e/360*24)}function A(e,t,a){const n=e.normal,o=t.normal,i=a.normal,l=e.coplanarPoint(new R.Vector3),r=t.coplanarPoint(new R.Vector3),s=a.coplanarPoint(new R.Vector3),u=(new R.Vector3).crossVectors(o,i).multiplyScalar(l.dot(n)),d=(new R.Vector3).crossVectors(i,n).multiplyScalar(r.dot(o)),c=(new R.Vector3).crossVectors(n,o).multiplyScalar(s.dot(i)),h=(new R.Matrix3).set(n.x,n.y,n.z,o.x,o.y,o.z,i.x,i.y,i.z).determinant();if(0==h)return null;const p=(new R.Vector3).add(u).add(d).add(c),m=new R.Vector3(p.x/h,p.y/h,p.z/h);return m}function z(e){if(0==e.filter((e=>null!=e)).length)return[];const t=[],a=e.indexOf(null);if(-1==a)return[...e];for(let n=a;n<a+e.length;n++){const a=e[n%e.length];if(a)t.push(a);else if(0!=t.length)break}return t}function $(e,t){const a=t-e.length,n=e[e.length-1];for(let o=0;o<a;o++)e.push(n)}function O(e,t,a,n,i,r){const s=(0,o.g2)("TresMeshPhongMaterial"),u=(0,o.g2)("Text3D"),d=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.Wv)(d,{position:e.position,rotation:[-Math.PI/2,0,0],visible:""!=e.text},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)(o.tY,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{font:"./fonts/PTSerif_Regular_Only_Numerals.json",size:e.size,"bevel-enabled":!1,height:.03*e.size/.2,"cast-shadow":e.castShadow,"receive-shadow":e.receiveShadow,"need-updates":"",center:""},{default:(0,o.k6)((()=>[(0,o.eW)((0,l.v_)(e.text)+" ",1),(0,o.bF)(s,{color:"#737373"})])),_:1},8,["size","height","cast-shadow","receive-shadow"])])),_:1}))])),_:1},8,["position","rotation","visible"])}var I=a(6702),q=(0,o.pM)({name:"SundialLetter",props:{text:{required:!0,type:String},position:{required:!0,type:Object},castShadow:{required:!1,default:!1,type:Boolean},receiveShadow:{required:!1,default:!1,type:Boolean},size:{required:!1,default:.2,type:Number}},components:{Text3D:I.xg}});const j=(0,f.A)(q,[["render",O]]);var N=j;const U=(0,o.pM)({name:"DialAndGnomonSundial",components:{SundialLetter:N}});var X=(0,o.pM)({...U,props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,default:()=>new R.Vector3(0,1,0),type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number},numeralDistanceFromSundialOrigin:{required:!0,type:Number}},setup(e){const t=e,a=(0,o.EW)((()=>(90-t.latitude)*Math.PI/180)),n=(0,o.EW)((()=>{const e=(new R.Matrix4).makeRotationFromEuler(t.rotation).invert().multiply((new R.Matrix4).makeRotationFromEuler(new R.Euler(-a.value,0,0)));return(new R.Euler).setFromRotationMatrix(e)}));let l=(0,o.EW)((()=>new R.Vector3(0,1,0).applyEuler(t.rotation))),r=(0,o.EW)((()=>new R.Vector3(...t.gnomonPosition).applyEuler(t.rotation).add(new R.Vector3(...t.origin)))),s=(0,o.EW)((()=>{const e=new R.Plane(l.value,0).translate(new R.Vector3(...t.origin)),a=new R.Vector3(0,-Math.sin(t.latitude*Math.PI/180),Math.cos(t.latitude*Math.PI/180));return T(e,r.value,a)})),u=(0,o.EW)((()=>s.value?.point??null)),d=(0,o.EW)((()=>s.value?.dir??null));const c=[...Array(24).keys()],h=(0,o.EW)((()=>c.map((e=>{let a;return a="standard"==t.hourLineStyle?e-t.timeZone/60+24*t.longitude/360:e,(60*a%1440+1440)%1440*Math.PI*2/1440})))),p=(0,o.EW)((()=>h.value.map((e=>E(e,t.latitude*Math.PI/180,new R.Vector3(...l.value)).multiplyScalar(d.value??1))))),m=(0,o.EW)((()=>u.value&&u.value.distanceTo(t.origin)<1e3?"stylePlateIntersection":"otherIntersection")),v=(0,o.EW)((()=>{switch(m.value){case"stylePlateIntersection":return c.map((()=>u.value));case"otherIntersection":{const e=t.latitude*Math.PI/180,a=r.value,n=new R.Vector3(0,Math.sin(e),-Math.cos(e)),o=n.clone().add(a),i=n.clone().projectOnPlane(l.value).normalize().multiplyScalar((t.radius+1)*-(d.value??1)).add(t.origin),s=(new R.Plane).setFromNormalAndCoplanarPoint(l.value,t.origin),u=(new R.Plane).setFromNormalAndCoplanarPoint(n,i);return h.value.map((t=>{const n=S(t,e),l=(new R.Plane).setFromCoplanarPoints(n.clone().add(a),a,o),r=A(l,s,u)??i;return r}))}default:return[]}}));let g=(0,o.EW)((()=>c.map(((e,a)=>{const n=v.value[a],o=p.value[a],i=W(new R.Vector3(...t.origin),t.radius,n,o);return 0==i.length||i[0]<0&&i[1]<0?[]:(i[0]<0&&(i[0]=0),i)})))),f=(0,o.EW)((()=>l.value.clone().normalize().multiplyScalar(.007))),b=(0,o.EW)((()=>c.map(((e,a)=>{const n=v.value[a],o=p.value[a],i=g.value[a];return{hour:e,label:e.toString(),points:0==i.length?null:[o.clone().multiplyScalar(i[0]).add(n).add(f.value),o.clone().multiplyScalar(i[1]).add(n).add(f.value)],labelPoint:(()=>{const e=W(new R.Vector3(...t.origin),t.numeralDistanceFromSundialOrigin,n,o);if(0==e.length)return null;if(e[1]<0)return null;const a=o.clone().multiplyScalar(e[1]).add(n);return"stylePlateIntersection"==m.value&&n.distanceTo(a)<3?null:(a.sub(t.origin).applyMatrix4((new R.Matrix4).makeRotationFromEuler(t.rotation).invert()),a.toArray())})()}}))));return(a,l)=>{const r=(0,o.g2)("TresCylinderGeometry"),s=(0,o.g2)("TresMeshPhongMaterial"),u=(0,o.g2)("TresMesh"),d=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,i.R1)(b),(e=>((0,o.uX)(),(0,o.Wv)((0,i.R1)(I.Xk),{key:e.hour,"line-width":1,points:t.show&&e.points?e.points:[[0,0,0],[0,0,0]],color:"#FFFFFF"},null,8,["points"])))),128)),(0,o.bF)(d,{visible:t.show,position:e.origin,rotation:new((0,i.R1)(R.Euler))(...e.rotation.toArray())},{default:(0,o.k6)((()=>[(0,o.bF)(u,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(r,{args:[e.radius,e.radius,.1]},null,8,["args"]),(0,o.bF)(s,{color:"#f9ecec"})])),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,i.R1)(b),(({hour:e,label:t,labelPoint:a})=>((0,o.uX)(),(0,o.Wv)(N,{key:e,text:a?t:"",position:a??[0,0,0],"receive-shadow":""},null,8,["text","position"])))),128)),(0,o.bF)(u,{position:e.gnomonPosition,rotation:n.value,"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(r,{args:[.05,.05,2]}),(0,o.bF)(s,{color:"#b7b7b7"})])),_:1},8,["position","rotation"])])),_:1},8,["visible","position","rotation"])],64)}}});const K=X;var B=K,G=a(4239),Z=(0,o.pM)({__name:"CameraHelper",props:{xOffset:{required:!0,type:Number},zoomPerSecond:{required:!1,default:1,type:Number}},emits:["cameraPosChange"],setup(e,{emit:t}){(0,c.X$)({OrbitControls:G.N});const{camera:a,sizes:n,renderer:l}=(0,c.lG)(),r=e,s=t;(0,o.wB)((()=>[n.width.value,n.height.value,r.xOffset]),(()=>{const e=(n.width.value+2*Math.abs(r.xOffset))/n.width.value;a.value?.isPerspectiveCamera&&a.value.setViewOffset(n.width.value*e,n.height.value*e,r.xOffset>0?2*r.xOffset:0,n.height.value*(e-1)/2,n.width.value,n.height.value)}),{immediate:!0});const{onBeforeRender:u}=(0,c._N)();return u((({delta:e})=>{if(a.value){const t=Math.pow(r.zoomPerSecond,e);a.value.position.x*=t,a.value.position.y*=t,a.value.position.z*=t}})),(0,o.wB)((()=>[a.value?.position.x,a.value?.position.y,a.value?.position.z]),(()=>{a.value&&s("cameraPosChange",a.value.position.clone())}),{immediate:!0}),(e,t)=>{const n=(0,o.g2)("TresOrbitControls");return(0,i.R1)(l)?((0,o.uX)(),(0,o.Wv)(n,{key:0,args:[(0,i.R1)(a),(0,i.R1)(l)?.domElement],"enable-damping":!1,"rotate-speed":.5,"enable-pan":!1,target:[0,0,0]},null,8,["args"])):(0,o.Q3)("",!0)}}});const H=Z;var D=H,J=(0,o.pM)({__name:"RendererHelper",setup(e){const{renderer:t}=(0,c.lG)();return t.value.setPixelRatio(window.devicePixelRatio),t.value.localClippingEnabled=!0,()=>{}}});const Y=J;var Q=Y,ee=a.p+"img/Equation_of_time.fb12789b.svg";function te(e,t){return t[0]||(t[0]=(0,o.Fv)('<p style="margin-top:0;" data-v-53974f78><b data-v-53974f78>Apparent solar time</b> is the time based on the observed local position of the sun. 12 noon is the exact time at which the sun is highest in the sky.</p><p data-v-53974f78>However, if you measure the length of time between two consecutive solar noons, the measurement could differ from 24 hours by -21 to +30 seconds. (see the <a href="https://en.wikipedia.org/wiki/Solar_time" target="_blank" data-v-53974f78>Wikipedia article on Solar Time</a> for an explanation).</p><p data-v-53974f78>Instead, in <b data-v-53974f78>Mean solar time</b>, every day is exactly<b data-v-53974f78>*</b> 24 hours long. This is more useful, but due to those small deviations in the length of the solar day adding up, the mean solar time can differ from the apparent solar time by up to 16 minutes. The relationship between the apparent and mean solar time can be seen in the <b data-v-53974f78>Equation of Time</b>.</p><div style="text-align:center;" data-v-53974f78><img src="'+ee+'" alt="Equation of time graph" style="max-height:200px;background-color:white;" data-v-53974f78><br data-v-53974f78></div><i data-v-53974f78>Attribution: By <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-53974f78>Equation of time.png</a>: <a href="//commons.wikimedia.org/wiki/User:Drini" title="User:Drini" target="_blank" data-v-53974f78>User:Drini</a> derivative work: <a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-53974f78>Zazou</a> (<a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-53974f78><span class="signature-talk" data-v-53974f78>talk</span></a>) - <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-53974f78>Equation of time.png</a>, <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-Share Alike 3.0" target="_blank" data-v-53974f78>CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=6961998" target="_blank" data-v-53974f78>Link</a></i><p data-v-53974f78>In order to standardize time for different longitudes, <b data-v-53974f78>Coordinated Universal Time (UTC)</b> is used, which represents the mean solar time at 0 degrees longitude (or, within 1 second of it). <b data-v-53974f78>Local standard time</b> is UTC adjusted by the time zone.</p><p data-v-53974f78><i data-v-53974f78><b data-v-53974f78>*</b>Well, almost exactly. The length of the mean solar day actually varies a tiny bit each year compared to International Atomic Time. This sometimes requires a <b data-v-53974f78>leap second</b> be added to or subtracted from UTC.</i></p>',7))}const ae={},ne=(0,f.A)(ae,[["render",te],["__scopeId","data-v-53974f78"]]);var oe=ne;const ie=[{target:"#app",content:"Click and drag on the sundial to look around, and use the mouse wheel to adjust the zoom.\nZoom out to see the sun's position!",params:{placement:"bottom",enableScrolling:!1}},{target:'[data-v-walkthrough="status"]',content:"Use the sliders to change the <b>Time</b> and <b>Date</b>.\nYou can also click on the digital clock to set the time manually.",params:{placement:"auto",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="map"]',content:"Sundials work differently depending on the location on Earth.\nSet the location by clicking on the map, or by typing the <b>Latitude</b> and <b>Longitude</b>.",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="time-zone"]',content:"The <b>Time Zone</b> is set automatically based on the longitude. Instead, to manually input the time zone, uncheck <b>Automatically set time zone</b> and type in the <b>Time Zone</b> box.\n",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="sundial-type"]',content:"Choose between 2 types of sundial. <b>Traditional sundial</b> uses a <i>gnomon</i> to cast a shadow, and <b>Point shadow trace</b> uses a <i>nodus</i>, showing where the shadow of a single point falls throughout the day and year.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="slant-and-rotation"]',content:"The <b>Slant</b> and <b>Rotation</b> of the sundial can be changed. \nE.g. to simulate a wall-mounted sundial, set the <b>Slant</b> to 90Â° and the <b>Rotation</b> to the direction the wall is facing.<br>\nAdditionally, the <b>Gnomon height</b> (or Nodus height in Point shadow trace mode) adjusts the distance from the center of the shadow-casting object to the plate. The unit is arbitrary, because it's only the scale that matters.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="hour-lines"]',content:'Sundials often measure <b>Solar time</b>, where solar noon is the time at which the sun is highest in the sky.\nHowever, you may want the sundial to measure an approximation of standard time, taking the longitude and time zone into account. To do this, select <b>Adjusted for time zone and longitude</b>. Note that depending on the time of year the reading can be inaccurate by up to 16 min 33 s due to the varying length of the solar day (see <a href="https://en.wikipedia.org/wiki/Equation_of_time" target="_blank">https://en.wikipedia.org/wiki/Equation_of_time</a>).',params:{placement:"right",highlight:!0}}];var le=a(6778),re=a(9438),se=a(1950),ue=a(3667),de=(0,o.pM)({__name:"Line2FromCientosPackageAndItsTheSameButYouCanAlsoUseClippingPlanesSoItsNot",props:{points:{},vertexColors:{default:null},color:{default:"white"},lineWidth:{default:1},worldUnits:{type:Boolean,default:!1},alphaToCoverage:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},dashSize:{default:1},gapSize:{default:1},dashScale:{default:1},dashOffset:{default:0},clippingPlanes:{default:null}},setup(e,{expose:t}){const a=e;function n(e,t){if(!e||0===e.length)return Array.from({length:t}).fill((0,c.$2)(a.color));if(1===e.length)return Array.from({length:t}).fill((0,c.$2)(e[0]));if(e.length===t)return e.map(c.$2);const n=t-1,o=e.map(c.$2);closed&&o.push(o[0].clone());const i=[o[0]],l=n/(o.length-1);for(let a=1;a<n;a++){const e=a%l/l,t=Math.floor(a/l);i.push(o[t].clone().lerp(o[t+1],e))}return i.push(o[o.length-1]),i}const l=new ue.G,r=new se.v,s=new re.X(r,l),{sizes:u,invalidate:d}=(0,c.lG)(),h=(0,o.EW)((()=>Array.isArray(a.vertexColors)));function p(e,t){e.color=(0,c.$2)(t.color),e.linewidth=t.lineWidth,e.alphaToCoverage=t.alphaToCoverage,e.worldUnits=t.worldUnits,e.vertexColors=Array.isArray(t.vertexColors),e.dashed=t.dashed,e.dashScale=t.dashScale,e.dashSize=t.dashSize,e.dashOffset=t.dashOffset,e.gapSize=t.gapSize,e.needsUpdate=!0,e.clippingPlanes=t.clippingPlanes}function m(e,t,a){const o=t.map((e=>e instanceof R.Vector3?[e.x,e.y,e.z]:e instanceof R.Vector2?[e.x,e.y,0]:Array.isArray(e)&&2===e.length?[e[0],e[1],0]:e)).flat();e.setPositions(o.flat());const i=n(a,t.length).map((e=>e.toArray())).flat();e.setColors(i),s.computeLineDistances()}p(l,a),m(r,a.points,a.vertexColors),s.computeLineDistances(),(0,o.wB)((()=>[a.color,a.lineWidth,a.alphaToCoverage,a.worldUnits,h,a.dashed,a.dashScale,a.dashSize,a.dashOffset,a.clippingPlanes]),(()=>{p(l,a),d()})),(0,o.wB)((()=>[a.points,a.vertexColors]),(()=>{m(r,a.points,a.vertexColors),d()})),(0,o.wB)((()=>[u.height,u.width]),(()=>{l.resolution=new R.Vector2(u.width.value,u.height.value),d()})),(0,o.hi)((()=>{r.dispose(),l.dispose()}));const v=(0,i.IJ)();return t({instance:v}),(e,t)=>{const a=(0,o.g2)("primitive");return(0,o.uX)(),(0,o.Wv)(a,{ref:v.value,object:(0,i.R1)(s)},null,8,["object"])}}});const ce=de;var he=ce;const pe=(0,o.pM)({name:"PointSundial",components:{}});var me=(0,o.pM)({...pe,props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,default:()=>new R.Vector3(0,1,0),type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number}},setup(e){const t=e,a=(0,o.EW)((()=>new R.Vector3(...t.gnomonPosition).applyEuler(t.rotation).add(new R.Vector3(...t.origin))));let n=(0,o.EW)((()=>new R.Vector3(0,1,0).applyEuler(t.rotation)));const l=(0,o.EW)((()=>new R.Plane(n.value,0).translate(new R.Vector3(...t.origin)))),r=(0,o.EW)((()=>n.value.clone().normalize().multiplyScalar(.007)));function s(e,n){const o=(()=>{switch(t.hourLineStyle){case"solar":return 0;case"standard":return t.longitude}})(),{azimuth:i,altitude:s}=L(n,60*e,t.latitude,o),u=x(i,s),d=new R.Ray(a.value,new R.Vector3(-u.x,-u.y,-u.z)),c=d.intersectPlane(l.value,new R.Vector3);return c?.add(r.value)??null}const u=[...Array(24).keys()],d=[...Array(37).keys()].map((e=>10*e)),c=(0,o.EW)((()=>u.map((e=>d.map((t=>s(e,t))))))),h=(0,o.EW)((()=>{let e=[];for(const[t,a]of c.value.entries()){let n=z(a);0==n.length?n.push(new R.Vector3(0,0,0)):n.length==d.length&&n.push(n[0]),$(n,d.length+1),e.push({hour:u[t],line:n})}return e})),p=[171,354],m=[...Array(48).keys()].map((e=>e/2)),v=(0,o.EW)((()=>p.map((e=>m.map((t=>s(t,e))))))),g=(0,o.EW)((()=>[...v.value.entries()].map((([e,t])=>{let a=z(t);return 0==a.length?a.push(new R.Vector3(0,0,0)):a.length==m.length&&a.push(a[0]),$(a,m.length+1),{date:p[e],line:a}})))),f=(0,o.EW)((()=>[{normal:new R.Vector3(1,0,0),coplanarPoint:new R.Vector3(-t.radius,0,0).add(t.origin)},{normal:new R.Vector3(-1,0,0),coplanarPoint:new R.Vector3(t.radius,0,0).add(t.origin)},{normal:new R.Vector3(0,0,1),coplanarPoint:new R.Vector3(0,0,-t.radius).add(t.origin)},{normal:new R.Vector3(0,0,-1),coplanarPoint:new R.Vector3(0,0,t.radius).add(t.origin)}])),b=(0,o.EW)((()=>{const e=[];for(let{normal:a,coplanarPoint:n}of f.value)e.push((new R.Plane).setFromNormalAndCoplanarPoint(a.clone().applyEuler(t.rotation),n.clone().add(t.origin.clone().multiplyScalar(-1)).applyEuler(t.rotation).add(t.origin)));return e})),w=(0,o.EW)((()=>u.map((e=>{let a;return a="standard"==t.hourLineStyle?e-t.timeZone/60+24*t.longitude/360:e,(60*a%1440+1440)%1440*Math.PI*2/1440})))),y=(0,o.EW)((()=>{const e=new R.Ray(a.value,new R.Vector3(0,Math.cos(M(90-t.latitude)),-Math.sin(M(90-t.latitude)))),n=e.intersectsPlane(l.value);return n?"winter":"summer"})),k=(0,o.EW)((()=>w.value.map((e=>E(e,t.latitude*Math.PI/180,n.value).normalize().multiplyScalar(.2*("winter"==y.value?1:-1)))))),S=.15,_=(0,o.EW)((()=>{const e=(()=>{switch(y.value){case"winter":return 354;case"summer":return 171}})();return u.map(((a,n)=>{let o;if(o="standard"==t.hourLineStyle?s(((u[n]-t.timeZone/60)%24+24)%24,e)?.add(k.value[n]):s(12*w.value[n]/Math.PI,e)?.add(k.value[n]),!o)return null;for(let e of b.value){const t=e.clone();if(t.constant-=S,t.distanceToPoint(o)<0)return null}return o}))})),P=(0,o.EW)((()=>u.map(((e,a)=>({hour:e,label:_.value[a]?e.toString():"",pos:_.value[a]?.sub(t.origin).applyMatrix4((new R.Matrix4).makeRotationFromEuler(t.rotation).invert())??new R.Vector3(0,0,0)}))))),F=(0,o.EW)((()=>{if(!t.show)return.12;const e=new R.Vector3(0,0,0).distanceTo(t.gnomonPosition);return e<1?.055:.12}));return(a,n)=>{const l=(0,o.g2)("TresObject3D"),r=(0,o.g2)("TresBoxGeometry"),s=(0,o.g2)("TresMeshPhongMaterial"),u=(0,o.g2)("TresMesh"),d=(0,o.g2)("TresSphereGeometry");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(l,{visible:t.show},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(h.value,(e=>((0,o.uX)(),(0,o.Wv)(he,{key:e.hour,"line-width":1,points:e.line,color:"#ffffff","clipping-planes":b.value},null,8,["points","clipping-planes"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.value,(e=>((0,o.uX)(),(0,o.Wv)(he,{key:e.date,"line-width":1,points:e.line,color:"#ffffff","clipping-planes":b.value},null,8,["points","clipping-planes"])))),128))])),_:1},8,["visible"]),(0,o.bF)(l,{visible:t.show,position:e.origin,rotation:new((0,i.R1)(R.Euler))(...e.rotation.toArray())},{default:(0,o.k6)((()=>[(0,o.bF)(u,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(r,{args:[2*e.radius,.1,2*e.radius]},null,8,["args"]),(0,o.bF)(s,{color:"#f9ecec"})])),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(P.value,(e=>((0,o.uX)(),(0,o.Wv)(l,{key:e.hour,visible:""!=e.label},{default:(0,o.k6)((()=>[(0,o.bF)(N,{"receive-shadow":"",position:e.pos,text:e.label,size:F.value},null,8,["position","text","size"])])),_:2},1032,["visible"])))),128)),(0,o.bF)(u,{position:new((0,i.R1)(R.Vector3))(...t.gnomonPosition),"cast-shadow":"","receive-shadow":""},{default:(0,o.k6)((()=>[(0,o.bF)(d,{args:[.08,20,16]}),(0,o.bF)(s,{color:"#b7b7b7"})])),_:1},8,["position"]),(0,o.bF)((0,i.R1)(I.Xk),{"line-width":2,points:[[0,0,0],t.gnomonPosition.toArray()],color:"#ffffff"},null,8,["points"])])),_:1},8,["visible","position","rotation"])],64)}}});const ve=me;var ge=ve,fe=(0,o.pM)({__name:"CompassObject",props:{rotation:{required:!0,type:Object}},setup(e){const t=e;return(e,a)=>{const n=(0,o.g2)("TresObject3D");return(0,o.uX)(),(0,o.Wv)(n,{rotation:t.rotation.clone()},{default:(0,o.k6)((()=>[(0,o.bF)(n,{rotation:[0,Math.PI,0]},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)(o.tY,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,i.R1)(I.FW),{path:"./objects3d/compass.glb"})])),_:1}))])),_:1},8,["rotation"])])),_:1},8,["rotation"])}}});const be=fe;var we=be;const ye={style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},ke={id:"overlay"},Re={id:"sidebarContent"},Me={"data-v-walkthrough":"map"},Le={class:"horizontal_settings"},xe={class:"setting"},Se={key:0,class:"error"},Ee={class:"setting"},_e={key:0,class:"error"},Pe={class:"setting"},Fe={key:0,class:"error"},Ve={style:{display:"grid","grid-template-columns":"min-content auto","grid-template-rows":"min-content auto"}},Te={style:{position:"relative","aspect-ratio":"2 / 1"}},We={class:"setting","data-v-walkthrough":"time-zone"},Ce={class:"setting","data-v-walkthrough":"sundial-type"},Ae={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},ze={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},$e={"data-v-walkthrough":"slant-and-rotation"},Oe={class:"setting"},Ie={key:0,class:"error"},qe={class:"setting"},je={key:0,class:"error"},Ne={class:"setting"},Ue={class:"fieldTitle"},Xe={key:0,class:"error"},Ke={class:"setting","data-v-walkthrough":"hour-lines"},Be={class:"checkboxSetting"},Ge={class:"checkboxSetting"},Ze={class:"checkboxSetting"},He={id:"topRightControls"},De={id:"compassContainer",title:"North"},Je={id:"status","data-v-walkthrough":"status"},Ye={style:{display:"flex","flex-direction":"row","align-items":"center"}},Qe={style:{display:"flex","margin-left":"10px","justify-content":"end","flex-direction":"column","align-items":"stretch","padding-block":"9px"}},et={class:"subtitle"},tt={class:"subtitle"},at={class:"subtitle"},nt={class:"popper_content"},ot={style:{"text-align":"left"}},it={class:"subtitle",style:{"margin-top":"13px"}},lt=(0,o.pM)({name:"App",components:{DialAndGnomonSundial:B,SunObject:w}});var rt=(0,o.pM)({...lt,setup(e){(0,n.$9)((e=>({"3925aae1":ht.value})));const t=new R.Vector3(0,-.5,0),a=5,p=4,v=4,g=3;let f=(0,i.KR)(720),b=(0,i.KR)(162),M=(0,i.KR)(0),S=(0,i.KR)(0),E=(0,i.KR)(!0),T=(0,i.KR)(0),W=(0,i.KR)(!1),A=(0,i.KR)("standard"),z=(0,i.KR)("dialAndGnomon"),$=(0,i.KR)(1),O=(0,i.KR)(new R.Euler(0,0,0,"YXZ")),I=(0,i.KR)(1),q=(0,i.KR)(),j=(0,i.KR)(!1),N=(0,i.KR)("");const U=(0,i.KR)(null);function X(){0==j.value&&(j.value=!0,N.value=_(f.value),(0,o.dY)((()=>U.value?.focus())))}function K(){if(!U.value)return;const e=P(U.value.value);isNaN(e)||(f.value=e)}function G(){1==j.value&&(j.value=!1,K())}(0,h.X2F)(U,G);const Z={latitude:"45.00",longitude:"0.00",timeZone:"+0:00",slant:"0",rotation:"0",gnomonHeight:"1"},H=/^\s*([+-Â±]?)\s*((?:0?[0-9])|1[0-9])(?::((?:0[0-9])|[1-5][0-9]))?\s*$/;let J=(0,i.Kh)(Z);const Y=(0,o.EW)((()=>({latitude:{required:y.mw,decimal:y._,minValue:(0,y.Ww)(-90),maxValue:(0,y.cG)(90)},longitude:{required:y.mw,decimal:y._,minValue:(0,y.Ww)(-180),maxValue:(0,y.cG)(180)},timeZone:{isATimeZone:y._$.withMessage("Your time zone should look like +/-HH(:MM)",y._$.regex(H))},slant:{required:y.mw,decimal:y._,minValue:(0,y.Ww)(0),maxValue:(0,y.cG)(180)},rotation:{required:y.mw,decimal:y._,minValue:(0,y.Ww)(-180),maxValue:(0,y.cG)(180)},gnomonHeight:{required:y.mw,decimal:y._,minValue:(0,y.Ww)(.5),maxValue:(0,y.cG)(3)}}))),ee=(0,k.Ay)(Y,J);(0,o.wB)((()=>J.longitude),(e=>{ee.value.longitude.$invalid||(M.value=Number.parseFloat(e),E.value&&(J.timeZone=V(C(M.value))))}),{immediate:!0}),(0,o.wB)((()=>J.latitude),(e=>{ee.value.latitude.$invalid||(S.value=Number.parseFloat(e))}),{immediate:!0}),(0,o.wB)((()=>J.timeZone),(e=>{const t=e.match(H);if(t){const e=("-"==t[1]?-1:1)*(60*Number.parseInt(t[2])+Number.parseInt(t[3]??0));f.value=((f.value+e-T.value)%1440+1440)%1440,T.value=e}}),{immediate:!0}),(0,o.wB)((()=>J.slant),(e=>{ee.value.slant.$invalid||(O.value.x=Number.parseFloat(e)*Math.PI/180)}),{immediate:!0}),(0,o.wB)((()=>J.rotation),(e=>{ee.value.rotation.$invalid||(O.value.y=-Number.parseFloat(e)*Math.PI/180)}),{immediate:!0}),(0,o.wB)((()=>J.gnomonHeight),(e=>{ee.value.gnomonHeight.$invalid||(I.value=Number.parseFloat(e))}),{immediate:!0});const te=(0,o.nI)();let ae=(0,i.KR)(!1);function ne(){const e=te?.appContext.config.globalProperties.$tours["walkthrough"];e&&(e.isRunning.value?e.stop():(re(),e.start()))}function re(){te?.appContext.config.globalProperties.$tours["walkthrough"].finish(),ae.value=!1}function se(e){e&&re(),ae.value=e}let ue=(0,i.KR)(),de=(0,i.KR)(!1);function ce(e){if(ue.value){const t=e.offsetX/ue.value.width*360-180,a=90-e.offsetY/ue.value.height*180;J.longitude=t.toFixed(1),J.latitude=a.toFixed(1)}}function he(e){de.value&&ce(e)}function pe(){de.value=!0}function me(e){ce(e)}(0,o.sV)((()=>{window.addEventListener("mouseup",(()=>{de.value=!1}))}));let ve=(0,i.KR)({clientWidth:0,clientHeight:0});const fe=(0,i.KR)(),be=new ResizeObserver((()=>{const e=fe.value?.clientWidth??0,t=fe.value?.clientHeight??0;ve.value={clientWidth:e,clientHeight:t}}));(0,o.sV)((()=>{be.observe(fe.value)})),(0,o.wB)((()=>E.value),(e=>{e&&(J.timeZone=V(C(M.value)))}));const lt=(0,o.EW)((()=>new R.Vector3(0,I.value,0))),rt=(0,o.EW)((()=>new R.Vector3(0,I.value,0))),st=(0,o.EW)((()=>((f.value-T.value)%1440+1440)%1440)),ut=(0,o.EW)((()=>L(b.value,st.value,S.value,M.value))),dt=(0,o.EW)((()=>x(ut.value.azimuth,ut.value.altitude))),ct=(0,o.EW)((()=>ut.value.altitude>=0)),ht=(0,o.EW)((()=>ct.value?"black":"white")),pt=(0,o.EW)((()=>_(f.value))),mt=(0,o.EW)((()=>F(b.value))),vt=(0,o.EW)((()=>st.value+M.value/360*24*60)),gt=(0,o.EW)((()=>_(vt.value))),ft=(0,o.EW)((()=>{const e=S.value*Math.PI/180,t=12*Math.atan2(dt.value.y*Math.cos(e)+dt.value.z*Math.sin(e),dt.value.x)/Math.PI+6,a=(t%24+24)%24*60;return a})),bt=(0,o.EW)((()=>_(ft.value))),wt=(0,o.EW)((()=>V(T.value))),yt=(0,o.EW)((()=>ut.value.altitude>.1?1:ut.value.altitude>-.1?(ut.value.altitude+.1)/.2:0)),kt=(0,o.EW)((()=>m()(["#02407a","#87CEEB"])(yt.value))),Rt=(0,o.EW)((()=>{if(!q.value)return new R.Euler;const e=q.value.distanceTo(new R.Vector3(0,0,0)),t=Math.asin(q.value.y/e),a=Math.atan2(q.value.z,q.value.x);return new R.Euler(t-Math.PI/2,a-Math.PI/2,0,"XYZ")}));return(e,h)=>{const m=(0,o.g2)("v-tour"),y=(0,o.g2)("TresPerspectiveCamera"),k=(0,o.g2)("TresDirectionalLight"),L=(0,o.g2)("TresAmbientLight"),x=(0,o.g2)("TresGridHelper"),_=(0,o.g2)("TresOrthographicCamera");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(m,{name:"walkthrough",steps:(0,i.R1)(ie),options:{labels:{buttonSkip:"Close",buttonPrevious:"Previous",buttonNext:"Next",buttonStop:"Finish"}}},null,8,["steps"]),(0,o.Lk)("div",ye,[(0,o.bF)((0,i.R1)(c.rs),{"clear-color":kt.value,shadows:"",shadowMapType:(0,i.R1)(R.BasicShadowMap)},{default:(0,o.k6)((()=>[(0,o.bF)(y),(0,o.bF)(B,{show:"dialAndGnomon"==(0,i.R1)(z),latitude:(0,i.R1)(S),longitude:(0,i.R1)(M),origin:(0,i.R1)(t),rotation:(0,i.R1)(O),"gnomon-position":lt.value,radius:a,hourLineStyle:(0,i.R1)(A),"time-zone":(0,i.R1)(T),numeralDistanceFromSundialOrigin:v},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone"]),(0,o.bF)(ge,{show:"pointSundial"==(0,i.R1)(z),latitude:(0,i.R1)(S),longitude:(0,i.R1)(M),origin:(0,i.R1)(t),rotation:(0,i.R1)(O),"gnomon-position":rt.value,radius:p,hourLineStyle:(0,i.R1)(A),"time-zone":(0,i.R1)(T)},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone"]),(0,o.bF)(w,{position:[dt.value.x,dt.value.y,dt.value.z]},null,8,["position"]),(0,o.bF)(k,{position:[dt.value.x,dt.value.y,dt.value.z],intensity:(0,i.R1)(W)?1:yt.value,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"cast-shadow":""},null,8,["position","intensity"]),(0,o.bF)(L,{color:"#AAAAAA"}),(0,o.bF)(x,{args:[50,50,"#AAAAAA","#AAAAAA"],position:[0,-8,0]}),(0,o.bF)(D,{"x-offset":-(0,i.R1)(ve).clientWidth/2,"zoom-per-second":(0,i.R1)($),onCameraPosChange:h[0]||(h[0]=e=>(0,i.i9)(q)?q.value=e:q=e)},null,8,["x-offset","zoom-per-second"]),(0,o.bF)(Q)])),_:1},8,["clear-color","shadowMapType"])]),(0,o.Lk)("div",ke,[(0,o.Lk)("div",{id:"sidebar",ref_key:"sidebar",ref:fe},[(0,o.Lk)("div",Re,[(0,o.Lk)("a",{class:"sidebar_link",onClick:h[1]||(h[1]=e=>{e.preventDefault(),ne()}),href:"javascript:void(0)"},"walkthrough"),h[53]||(h[53]=(0,o.eW)(" Â· ")),h[54]||(h[54]=(0,o.Lk)("a",{class:"sidebar_link",href:"https://github.com/tpeach90/sundials/",style:{"text-decoration":"none"},target:"_blank",title:"Source code on github.com"},[(0,o.Lk)("span",{style:{"text-decoration":"underline"}},"code"),(0,o.Lk)("img",{src:r,style:{height:"1em","margin-left":"0.2em"},alt:"GitHub logo"})],-1)),h[55]||(h[55]=(0,o.Lk)("h2",null,"Coordinates",-1)),(0,o.Lk)("div",Me,[(0,o.Lk)("div",Le,[(0,o.Lk)("div",xe,[h[39]||(h[39]=(0,o.Lk)("label",{class:"fieldTitle"},"Latitude/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[2]||(h[2]=e=>(0,i.R1)(ee).latitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).latitude.$model]]),(0,i.R1)(ee).latitude.$dirty&&(0,i.R1)(ee).latitude.$invalid?((0,o.uX)(),(0,o.CE)("div",Se,(0,l.v_)((0,i.R1)(ee).latitude.$errors[0].$message),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ee,[h[40]||(h[40]=(0,o.Lk)("label",{class:"fieldTitle"},"Longitude/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[3]||(h[3]=e=>(0,i.R1)(ee).longitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).longitude.$model]]),(0,i.R1)(ee).longitude.$dirty&&(0,i.R1)(ee).longitude.$invalid?((0,o.uX)(),(0,o.CE)("div",_e,(0,l.v_)((0,i.R1)(ee).longitude.$errors[0].$message),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Pe,[h[41]||(h[41]=(0,o.Lk)("label",{class:"fieldTitle"},"Time Zone/Â±UTC",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[4]||(h[4]=e=>(0,i.R1)(ee).timeZone.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).timeZone.$model]]),(0,i.R1)(ee).timeZone.$dirty&&(0,i.R1)(ee).timeZone.$invalid?((0,o.uX)(),(0,o.CE)("div",Fe,(0,l.v_)((0,i.R1)(ee).timeZone.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Ve,[(0,o.bo)((0,o.Lk)("input",{style:{"grid-row":"1","grid-column":"1","margin-right":"10px",height:"100%","margin-top":"0px","margin-bottom":"0px"},type:"range",min:"-90",max:"90",step:"-0.1",class:"slider",orient:"vertical","onUpdate:modelValue":h[5]||(h[5]=e=>(0,i.R1)(ee).latitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).latitude.$model]]),(0,o.Lk)("div",Te,[(0,o.Lk)("img",{src:s,id:"mapImage",alt:"An outline world map, on which the user can click to set the latitude and longitude.",style:{"grid-row":"1","grid-column":"2","object-fit":"contain",display:"block",margin:"0px"},draggable:"false",onMousemove:he,onMousedown:pe,onClick:me,ref_key:"mapImage",ref:ue},null,544),(0,o.Lk)("div",{id:"markerPoint",style:(0,l.Tr)(`top:${100*(90-(0,i.R1)(S))/180}%; left:${100*((0,i.R1)(M)+180)/360}%`)},null,4)]),(0,o.bo)((0,o.Lk)("input",{style:{"grid-row":"2","grid-column":"2","margin-top":"10px","margin-left":"0px","margin-right":"0px"},type:"range",min:"-180",max:"180",step:"1",class:"slider","onUpdate:modelValue":h[6]||(h[6]=e=>(0,i.R1)(ee).longitude.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).longitude.$model]])])]),(0,o.Lk)("div",We,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"autoSelectTimeZone","onUpdate:modelValue":h[7]||(h[7]=e=>(0,i.i9)(E)?E.value=e:E=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,i.R1)(E)]]),h[42]||(h[42]=(0,o.Lk)("label",{for:"autoSelectTimeZone",class:"fieldOption"},"Automatically set time zone",-1))]),h[56]||(h[56]=(0,o.Lk)("br",null,null,-1)),h[57]||(h[57]=(0,o.Lk)("h2",null,"Sundial Settings",-1)),(0,o.Lk)("div",Ce,[(0,o.Lk)("div",Ae,[h[44]||(h[44]=(0,o.Lk)("label",{for:"dialAndGnomon",style:{"margin-right":"10px"}},[(0,o.Lk)("img",{src:u,style:{"max-width":"50px"},alt:"Traditional sundial icon"})],-1)),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"dialAndGnomon",value:"dialAndGnomon","onUpdate:modelValue":h[8]||(h[8]=e=>(0,i.i9)(z)?z.value=e:z=e)},null,512),[[n.XL,(0,i.R1)(z)]]),h[43]||(h[43]=(0,o.Lk)("label",{for:"dialAndGnomon",class:"fieldOption"}," Traditional sundial ",-1))])]),(0,o.Lk)("div",ze,[h[46]||(h[46]=(0,o.Lk)("label",{for:"pointSundial",style:{"margin-right":"10px"}},[(0,o.Lk)("img",{src:d,style:{"max-width":"50px"},alt:"Point shadow trace icon"})],-1)),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"pointSundial",value:"pointSundial","onUpdate:modelValue":h[9]||(h[9]=e=>(0,i.i9)(z)?z.value=e:z=e)},null,512),[[n.XL,(0,i.R1)(z)]]),h[45]||(h[45]=(0,o.Lk)("label",{for:"pointSundial",class:"fieldOption"}," Point shadow trace ",-1))])])]),h[58]||(h[58]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("div",$e,[(0,o.Lk)("div",Oe,[h[47]||(h[47]=(0,o.Lk)("label",{class:"fieldTitle"},"Slant/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[10]||(h[10]=e=>(0,i.R1)(ee).slant.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).slant.$model]]),(0,i.R1)(ee).slant.$dirty&&(0,i.R1)(ee).slant.$invalid?((0,o.uX)(),(0,o.CE)("div",Ie,(0,l.v_)((0,i.R1)(ee).slant.$errors[0].$message),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"range",min:0,max:180,step:"1",class:"slider","onUpdate:modelValue":h[11]||(h[11]=e=>(0,i.R1)(ee).slant.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).slant.$model]])]),(0,o.Lk)("div",qe,[h[48]||(h[48]=(0,o.Lk)("label",{class:"fieldTitle"},"Rotation/Â°",-1)),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[12]||(h[12]=e=>(0,i.R1)(ee).rotation.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).rotation.$model]]),(0,i.R1)(ee).rotation.$dirty&&(0,i.R1)(ee).rotation.$invalid?((0,o.uX)(),(0,o.CE)("div",je,(0,l.v_)((0,i.R1)(ee).rotation.$errors[0].$message),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"range",min:-180,max:180,step:"1",class:"slider","onUpdate:modelValue":h[13]||(h[13]=e=>(0,i.R1)(ee).rotation.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).rotation.$model]])]),(0,o.Lk)("div",Ne,[(0,o.Lk)("label",Ue,(0,l.v_)("dialAndGnomon"==(0,i.R1)(z)?"Gnomon":"Nodus")+" height",1),(0,o.bo)((0,o.Lk)("input",{class:"small_input","onUpdate:modelValue":h[14]||(h[14]=e=>(0,i.R1)(ee).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).gnomonHeight.$model]]),(0,i.R1)(ee).gnomonHeight.$dirty&&(0,i.R1)(ee).gnomonHeight.$invalid?((0,o.uX)(),(0,o.CE)("div",Xe,(0,l.v_)((0,i.R1)(ee).gnomonHeight.$errors[0].$message),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"range",min:.5,max:3,step:"0.05",class:"slider","onUpdate:modelValue":h[15]||(h[15]=e=>(0,i.R1)(ee).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,i.R1)(ee).gnomonHeight.$model]])])]),(0,o.Lk)("div",Ke,[h[51]||(h[51]=(0,o.Lk)("label",{class:"fieldTitle"},"Hour lines",-1)),(0,o.Lk)("div",Be,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"standardLines",value:"standard","onUpdate:modelValue":h[16]||(h[16]=e=>(0,i.i9)(A)?A.value=e:A=e)},null,512),[[n.XL,(0,i.R1)(A)]]),h[49]||(h[49]=(0,o.Lk)("label",{for:"standardLines",class:"fieldOption"},"Adjusted for time zone and longitude",-1))]),(0,o.Lk)("div",Ge,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"solarLines",value:"solar","onUpdate:modelValue":h[17]||(h[17]=e=>(0,i.i9)(A)?A.value=e:A=e)},null,512),[[n.XL,(0,i.R1)(A)]]),h[50]||(h[50]=(0,o.Lk)("label",{for:"solarLines",class:"fieldOption"},"Solar time",-1))])]),h[59]||(h[59]=(0,o.Lk)("br",null,null,-1)),h[60]||(h[60]=(0,o.Lk)("h2",null,"Misc",-1)),(0,o.Lk)("div",Ze,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"sunRaysPassThroughEarth","onUpdate:modelValue":h[18]||(h[18]=e=>(0,i.i9)(W)?W.value=e:W=e)},null,512),[[n.lH,(0,i.R1)(W)]]),h[52]||(h[52]=(0,o.Lk)("label",{for:"sunRaysPassThroughEarth",class:"fieldOption"},"Sundial remains illuminated at night",-1))]),h[61]||(h[61]=(0,o.Lk)("br",null,null,-1))])],512),(0,o.Lk)("div",He,[(0,o.Lk)("div",De,[(0,o.bF)((0,i.R1)(c.rs),null,{default:(0,o.k6)((()=>[(0,o.bF)(L,{color:"#FFFFFF",intensity:2}),(0,o.bF)(_,{position:[0,10,0],lookAt:[0,0,0],zoom:15}),(0,o.bF)(we,{rotation:Rt.value},null,8,["rotation"])])),_:1}),h[62]||(h[62]=(0,o.Lk)("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0"},title:"North"},null,-1))]),(0,o.Lk)("button",{class:"zoomControl",onKeydown:h[19]||(h[19]=(0,n.jR)((()=>{(0,i.i9)($)?$.value=1/g:$=1/g}),["enter"])),onKeyup:h[20]||(h[20]=(0,n.jR)((()=>{(0,i.i9)($)?$.value=1:$=1}),["enter"])),onMousedown:h[21]||(h[21]=()=>{(0,i.i9)($)?$.value=1/g:$=1/g}),onMouseup:h[22]||(h[22]=()=>{(0,i.i9)($)?$.value=1:$=1}),onPointerleave:h[23]||(h[23]=()=>{(0,i.i9)($)?$.value=1:$=1}),onTouchstart:h[24]||(h[24]=()=>{(0,i.i9)($)?$.value=1/g:$=1/g}),onTouchend:h[25]||(h[25]=()=>{(0,i.i9)($)?$.value=1:$=1})}," + ",32),(0,o.Lk)("button",{class:"zoomControl",onKeydown:h[26]||(h[26]=(0,n.jR)((()=>{(0,i.i9)($)?$.value=g:$=g}),["enter"])),onKeyup:h[27]||(h[27]=(0,n.jR)((()=>{(0,i.i9)($)?$.value=1:$=1}),["enter"])),onMousedown:h[28]||(h[28]=()=>{(0,i.i9)($)?$.value=g:$=g}),onMouseup:h[29]||(h[29]=()=>{(0,i.i9)($)?$.value=1:$=1}),onPointerleave:h[30]||(h[30]=()=>{(0,i.i9)($)?$.value=1:$=1}),onTouchstart:h[31]||(h[31]=()=>{(0,i.i9)($)?$.value=g:$=g}),onTouchend:h[32]||(h[32]=()=>{(0,i.i9)($)?$.value=1:$=1})}," - ",32)]),(0,o.Lk)("div",Je,[(0,o.Lk)("div",Ye,[(0,o.bo)((0,o.Lk)("div",{class:"time_display",onClick:X,onKeydown:(0,n.jR)(X,["space"]),tabindex:"0"},(0,l.v_)(pt.value),545),[[n.aG,!(0,i.R1)(j)]]),(0,o.bo)((0,o.Lk)("input",{ref_key:"timeEntryBox",ref:U,class:"timeEntryBox",onBlur:G,onKeydown:[(0,n.jR)(G,["enter"]),(0,n.jR)(G,["esc"])],onInput:K,"onUpdate:modelValue":h[33]||(h[33]=e=>(0,i.i9)(N)?N.value=e:N=e)},null,544),[[n.aG,(0,i.R1)(j)],[n.Jo,(0,i.R1)(N)]]),(0,o.bo)((0,o.Lk)("div",Qe,[h[63]||(h[63]=(0,o.Lk)("div",{class:"subtitle"},"local standard time",-1)),(0,o.Lk)("div",et,"(UTC "+(0,l.v_)(wt.value)+") "+(0,l.v_)(ct.value?"â˜€ï¸":"ðŸŒ™"),1)],512),[[n.aG,!(0,i.R1)(j)]])]),(0,o.Lk)("div",tt,(0,l.v_)(gt.value)+" mean solar time",1),(0,o.Lk)("div",at,(0,l.v_)(bt.value)+" apparent solar time",1),(0,o.bo)((0,o.Lk)("input",{type:"range",min:"0",max:"1440",step:"10",class:"slider",id:"time","onUpdate:modelValue":h[34]||(h[34]=e=>(0,i.i9)(f)?f.value=e:f=e)},null,512),[[n.Jo,(0,i.R1)(f),void 0,{number:!0}]]),(0,o.bF)((0,i.R1)(le.A),{arrow:"",placement:"left","disable-click-away":"",show:(0,i.R1)(ae),onKeydown:h[37]||(h[37]=(0,n.jR)((()=>se(!1)),["escape"]))},{content:(0,o.k6)((()=>[(0,o.Lk)("div",nt,[(0,o.Lk)("div",ot,[(0,o.bF)(oe)]),(0,o.Lk)("button",{class:"v-step__button",onClick:h[35]||(h[35]=()=>se(!1))},"Close")])])),default:(0,o.k6)((()=>[(0,o.Lk)("a",{class:"overlay_link",href:"javascript:void(0)",onClick:h[36]||(h[36]=()=>se(!(0,i.R1)(ae)))},"Why are there 3 times?")])),_:1},8,["show"]),h[64]||(h[64]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",it,(0,l.v_)(mt.value),1),(0,o.bo)((0,o.Lk)("input",{type:"range",min:"0",max:"364",step:"1",class:"slider",id:"day","onUpdate:modelValue":h[38]||(h[38]=e=>(0,i.i9)(b)?b.value=e:b=e)},null,512),[[n.Jo,(0,i.R1)(b),void 0,{number:!0}]])])])],64)}}});const st=(0,f.A)(rt,[["__scopeId","data-v-6b9dbea4"]]);var ut=st,dt=a(1852);const ct=(0,n.Ef)(ut);ct.use(dt.A),ct.mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,i){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],i=e[d][2];for(var r=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/sundials/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,l=n[0],r=n[1],s=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var d=s(a)}for(t&&t(n);u<l.length;u++)i=l[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=self["webpackChunksundials"]=self["webpackChunksundials"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(6402)}));n=a.O(n)})();
//# sourceMappingURL=app.cbf21362.js.map