(function(){"use strict";var e=[,function(e,a,t){var n=t(5130),l=(t(4114),t(6768)),o=t(144),i=t(4232),r=t.p+"img/github-mark-white.fd5c0afd.svg",s=t.p+"img/world-map-coordinates-correct.be5765fb.png",u=t.p+"img/sundialicon.4d548112.svg",d=t.p+"img/pointshadowtraceicon.a0286b3e.svg",c=t.p+"img/snapmode.a1bd9ffa.svg",p=t.p+"img/orbitmode.cfb43a35.svg",v=t(9691),h=t(1737),m=t(3911),g=t.n(m),b=(0,l.pM)({__name:"SunObject",props:{position:{required:!0,type:Object},transparent:{required:!1,type:Boolean,default:!1}},setup(e){const a=e,t=(0,l.EW)(()=>[a.position.x,a.position.y,a.position.z]);return(e,n)=>{const o=(0,l.g2)("TresSphereGeometry"),i=(0,l.g2)("TresMeshBasicMaterial"),r=(0,l.g2)("TresMesh"),s=(0,l.g2)("TresObject3D");return(0,l.uX)(),(0,l.Wv)(s,{position:t.value},{default:(0,l.k6)(()=>[(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)(o,{args:[.5,20,16]}),a.transparent?((0,l.uX)(),(0,l.Wv)(i,{key:0,color:"#ffffff",transparent:!0,opacity:.3})):((0,l.uX)(),(0,l.Wv)(i,{key:1,color:"#ffffff"}))]),_:1})]),_:1},8,["position"])}}});const f=b;var y=f,w=t(9428),k=t(7760),L=t(8371);t(8111),t(2489);function P(e){return e*Math.PI/180}function R(e,a,t,n){const l=8400.5+e+a/1440,{rightAsc:o,declination:i}=A(l),r=_(l),s=C(r),u=F(r),d=Math.trunc(l+.5)-.5,c=24*(l-d),p=r/36525,v=(6.697375+.065707485828*d+1.0027379*c+.0854103*p+258e-7*Math.pow(p,2))*Math.PI/12,h=P(125.04)-P(.052954)*r,m=(-319e-6*Math.sin(h)-24e-6*Math.sin(2*u))*Math.PI/12,g=m*Math.cos(s),b=v+g,f=n*Math.PI/180,y=t*Math.PI/180,w=b+f,k=w-o;return T(i,k,y)}function M(e,a,t,n){const{declination:l}=A(8400.5+a/1440-n/360+e),o=(a-720)/1440*Math.PI*2;return T(l,o,t*Math.PI/180)}function x(e,a,t,n,l){if(90==Math.abs(t))return null;const o={min:l?.minDeclination,max:l?.maxDeclination},i=ee(A(8401.25-n/360+e).declination,o),r=-z(i,t),s=r+a/1440*2*Math.PI,u=ee(A(8401-n/360+e+s/(2*Math.PI)).declination,o);return T(u,s,t*Math.PI/180)}function S(e,a,t,n,l){if(90==Math.abs(t))return null;const o={min:l?.minDeclination,max:l?.maxDeclination},i=ee(A(8400.75-n/360+e).declination,o),r=z(i,t),s=r-2*Math.PI+a/1440*2*Math.PI,u=ee(A(8401-n/360+e+s/(2*Math.PI)).declination,o);return T(u,s,t*Math.PI/180)}function E(e,a,t,n,l){if(90==Math.abs(t))return null;const o={min:l?.minDeclination,max:l?.maxDeclination},i=ee(A(8401-n/360+e).declination,o),r=z(i,t),s=-r,u=s+(r-s)*a/720,d=ee(A(8401-n/360+e+u/(2*Math.PI)).declination,o);return T(d,u,t*Math.PI/180)}function q(e){return e+37/86400}function W(e){return e+32.184/86400}function _(e){return W(q(e))}function C(e){return P(23.4393)-P(36e-8)*e}function F(e){return(P(280.459)+P(.98564736)*e)%(2*Math.PI)}function T(e,a,t){const n=-Math.atan2(Math.cos(e)*Math.sin(a),-Math.sin(t)*Math.cos(e)*Math.cos(a)+Math.cos(t)*Math.sin(e)),l=Math.asin(Math.sin(t)*Math.sin(e)+Math.cos(t)*Math.cos(e)*Math.cos(a));return{azimuth:n,altitude:l}}function A(e){const a=q(e),t=W(a),n=F(t),l=(P(357.529)+P(.98560028)*t)%(2*Math.PI),o=n+P(1.915)*Math.sin(l)+P(.02)*Math.sin(2*l),i=C(t),r=Math.atan2(Math.cos(i)*Math.sin(o),Math.cos(o)),s=Math.asin(Math.sin(i)*Math.sin(o));return{rightAsc:r,declination:s}}function O(e,a){const t=0,n=Math.sin(t)-Math.sin(a)*Math.sin(e),l=Math.cos(a)*Math.cos(e);return 0==l||Math.abs(n)>Math.abs(l)?null:Math.acos(n/l)}function z(e,a){const t=a/180*Math.PI,n=Math.abs(t+e)>Math.abs(t-e)?Math.PI:0;return O(e,t)??n}function I(e,a,t=15){return{x:t*Math.sin(e)*Math.cos(a),y:t*Math.sin(a),z:t*-Math.cos(e)*Math.cos(a)}}function $(e,a){return new L.Pq0(Math.sin(e),-Math.cos(e)*Math.cos(a),-Math.cos(e)*Math.sin(a))}function j(e,a,t){const n=$(e,a),l=new L.Pq0(0,Math.sin(a),-Math.cos(a)),o=n.clone().cross(l),i=o.clone().cross(t);return i}function V(e){return e>=0?90-e:-90-e}function K(e){const a=Math.floor((e/60%24+24)%24).toString().padStart(2,"0"),t=Math.floor((e%60+60)%60).toString().padStart(2,"0");return`${a}:${t}`}function U(e){const a=e.match(/^\s*([0-9]+)(?::([0-9]*))?\s*$/);if(!a)return NaN;const t=Number.parseInt(a[1]);if(t<0||t>23)return NaN;let n=0;return a[2]&&""!=a[2]&&(n=Number.parseInt(a[2]),n<0||n>59)?NaN:60*t+n}function X(e){const a=new Date(Date.parse("2001")+24*e*60*60*1e3);return a.toLocaleDateString("en",{month:"long",day:"numeric"})}function N(e){const a=e>0?"+":e<0?"-":"±",t=Math.abs(Math.trunc(e/60)),n=Math.abs(e%60);let l=a+t.toString();return 0!=n&&(l+=":"+n.toString()),l}function B(e,a,t){const n=new L.RlV(a,t);let l=n.intersectPlane(e,new L.Pq0);if(l)return{dir:1,point:l};const o=new L.RlV(a,t.clone().multiplyScalar(-1));return l=o.intersectPlane(e,new L.Pq0),l?{dir:-1,point:l}:null}function D(e,a,t){const n=B(e,a,t);return n?n.point:null}function G(e,a,t,n){const l=e.distanceToSquared(t)-Math.pow(a,2),o=-2*e.clone().sub(t).multiply(n).dot(new L.Pq0(1,1,1)),i=Math.pow(n.length(),2),r=Math.pow(o,2)-4*i*l;return r<0?[]:[(-o-Math.sqrt(r))/(2*i),(-o+Math.sqrt(r))/(2*i)]}function Z(e){return 60*Math.round(e/360*24)}function H(e,a,t){const n=e.normal,l=a.normal,o=t.normal,i=e.coplanarPoint(new L.Pq0),r=a.coplanarPoint(new L.Pq0),s=t.coplanarPoint(new L.Pq0),u=(new L.Pq0).crossVectors(l,o).multiplyScalar(i.dot(n)),d=(new L.Pq0).crossVectors(o,n).multiplyScalar(r.dot(l)),c=(new L.Pq0).crossVectors(n,l).multiplyScalar(s.dot(o)),p=(new L.dwI).set(n.x,n.y,n.z,l.x,l.y,l.z,o.x,o.y,o.z).determinant();if(0==p)return null;const v=(new L.Pq0).add(u).add(d).add(c),h=new L.Pq0(v.x/p,v.y/p,v.z/p);return h}function Q(e){if(0==e.filter(e=>null!=e).length)return[];const a=[],t=e.indexOf(null);if(-1==t)return[...e];for(let n=t;n<t+e.length;n++){const t=e[n%e.length];if(t)a.push(t);else if(0!=a.length)break}return a}function J(e,a){const t=a-e.length,n=e[e.length-1];for(let l=0;l<t;l++)e.push(n)}function Y(e,a,t,n){const l=Q(e);return 0==l.length?l.push(t):l.length==a-1&&(n||l.push(l[0])),J(l,a),l}function ee(e,a){return a.min&&e<a.min&&(e=a.min),a.max&&e>a.max&&(e=a.max),e}function ae(e){throw new Error("Didn't expect to get here")}t(1701),t(1806);var te=t(6702),ne=(0,l.pM)({__name:"SundialLetter",props:{text:{required:!0,type:String},position:{required:!0,type:Object},castShadow:{required:!1,default:!1,type:Boolean},receiveShadow:{required:!1,default:!1,type:Boolean},size:{required:!1,default:.2,type:Number}},setup(e){const a=e,t=(0,l.EW)(()=>""!=a.text),n=(0,l.EW)(()=>.03*a.size/.2),r=[-Math.PI/2,0,0];return(a,s)=>{const u=(0,l.g2)("TresMeshPhongMaterial"),d=(0,l.g2)("TresObject3D");return(0,l.uX)(),(0,l.Wv)(d,{position:e.position,rotation:r,visible:t.value},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.Wv)(l.tY,null,{default:(0,l.k6)(()=>[(0,l.bF)((0,o.R1)(te.xg),{font:"./fonts/PTSerif_Regular_Only_Numerals.json",size:e.size,"bevel-enabled":!1,height:n.value,"cast-shadow":e.castShadow,"receive-shadow":e.receiveShadow,"need-updates":"",center:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,i.v_)(e.text)+" ",1),(0,l.bF)(u,{color:"#737373"})]),_:1},8,["size","height","cast-shadow","receive-shadow"])]),_:1}))]),_:1},8,["position","visible"])}}});const le=ne;var oe=le,ie=(0,l.pM)({__name:"SundialFaceGrid",props:{sundialRotation:{required:!0,type:Object},show:{required:!0,type:Boolean},origin:{required:!0,type:Object},radius:{required:!0,type:Number},colorPalette:{required:!0,type:String}},setup(e){const a=e,t=(0,l.EW)(()=>2*a.radius),n=(0,l.EW)(()=>10*t.value),o=(0,l.EW)(()=>t.value),i=(0,l.EW)(()=>[t.value,n.value,new L.Q1f("#909090"),new L.Q1f("#909090")]),r=(0,l.EW)(()=>[t.value,o.value,new L.Q1f("#666666"),new L.Q1f("#666666")]),s=(0,l.EW)(()=>[t.value,n.value,new L.Q1f("#909090"),new L.Q1f("#909090")]),u=(0,l.EW)(()=>[t.value,o.value,new L.Q1f("#ffffff"),new L.Q1f("#ffffff")]),d=(0,l.EW)(()=>"light"==a.colorPalette&&a.show),c=(0,l.EW)(()=>"dark"==a.colorPalette&&a.show);return(e,t)=>{const n=(0,l.g2)("TresGridHelper");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(n,{visible:d.value,args:i.value,position:a.origin,rotation:a.sundialRotation},null,8,["visible","args","position","rotation"]),(0,l.bF)(n,{visible:d.value,args:r.value,position:a.origin,rotation:a.sundialRotation},null,8,["visible","args","position","rotation"]),(0,l.bF)(n,{visible:c.value,args:s.value,position:a.origin,rotation:a.sundialRotation},null,8,["visible","args","position","rotation"]),(0,l.bF)(n,{visible:c.value,args:u.value,position:a.origin,rotation:a.sundialRotation},null,8,["visible","args","position","rotation"])],64)}}});const re=ie;var se=re,ue=(0,l.pM)({__name:"DialAndGnomonSundial",props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number},numeralDistanceFromSundialOrigin:{required:!0,type:Number},showGrid:{required:!0,type:Boolean},gridColorPalette:{required:!0,type:String}},setup(e){const a=e,t=(0,o.KR)({...a});(0,l.wB)(a,e=>{e.show&&(t.value={...e})},{immediate:!0});const n=(0,l.EW)(()=>(90-t.value.latitude)*Math.PI/180),i=(0,l.EW)(()=>{const e=(new L.kn4).makeRotationFromEuler(t.value.rotation).invert().multiply((new L.kn4).makeRotationFromEuler(new L.O9p(-n.value,0,0)));return(new L.O9p).setFromRotationMatrix(e)});let r=(0,l.EW)(()=>new L.Pq0(0,1,0).applyEuler(t.value.rotation)),s=(0,l.EW)(()=>new L.Pq0(...t.value.gnomonPosition).applyEuler(t.value.rotation).add(new L.Pq0(...t.value.origin))),u=(0,l.EW)(()=>{const e=new L.Zcv(r.value,0).translate(new L.Pq0(...t.value.origin)),a=new L.Pq0(0,-Math.sin(t.value.latitude*Math.PI/180),Math.cos(t.value.latitude*Math.PI/180));return B(e,s.value,a)}),d=(0,l.EW)(()=>u.value?.point??null),c=(0,l.EW)(()=>u.value?.dir??null);const p=[...Array(24).keys()],v=(0,l.EW)(()=>p.map(e=>{let a;return a="standard"==t.value.hourLineStyle?e-t.value.timeZone/60+24*t.value.longitude/360:e,(60*a%1440+1440)%1440*Math.PI*2/1440})),h=(0,l.EW)(()=>v.value.map(e=>j(e,t.value.latitude*Math.PI/180,new L.Pq0(...r.value)).multiplyScalar(c.value??1))),m=(0,l.EW)(()=>d.value&&d.value.distanceTo(t.value.origin)<1e3?"stylePlateIntersection":"otherIntersection"),g=(0,l.EW)(()=>{switch(m.value){case"stylePlateIntersection":return p.map(()=>d.value);case"otherIntersection":{const e=t.value.latitude*Math.PI/180,a=s.value,n=new L.Pq0(0,Math.sin(e),-Math.cos(e)),l=n.clone().add(a),o=n.clone().projectOnPlane(r.value).normalize().multiplyScalar((t.value.radius+1)*-(c.value??1)).add(t.value.origin),i=(new L.Zcv).setFromNormalAndCoplanarPoint(r.value,t.value.origin),u=(new L.Zcv).setFromNormalAndCoplanarPoint(n,o);return v.value.map(t=>{const n=$(t,e),r=(new L.Zcv).setFromCoplanarPoints(n.clone().add(a),a,l),s=H(r,i,u)??o;return s})}}return ae(m.value),[]});let b=(0,l.EW)(()=>p.map((e,a)=>{const n=g.value[a],l=h.value[a],o=G(new L.Pq0(...t.value.origin),t.value.radius,n,l);return 0==o.length||o[0]<0&&o[1]<0?[]:(o[0]<0&&(o[0]=0),o)})),f=(0,l.EW)(()=>r.value.clone().normalize().multiplyScalar(.007)),y=(0,l.EW)(()=>p.map((e,a)=>{const n=g.value[a],l=h.value[a],o=b.value[a],i=(()=>{const e=G(new L.Pq0(...t.value.origin),t.value.numeralDistanceFromSundialOrigin,n,l);if(0==e.length)return null;if(e[1]<0)return null;const a=l.clone().multiplyScalar(e[1]).add(n);return"stylePlateIntersection"==m.value&&n.distanceTo(a)<2.5?null:(a.sub(t.value.origin).applyMatrix4((new L.kn4).makeRotationFromEuler(t.value.rotation).invert()),a.toArray())})();return{hour:e,label:i?e.toString():"",points:0==o.length?[new L.Pq0(0,0,0),new L.Pq0(0,0,0)]:[l.clone().multiplyScalar(o[0]).add(n).add(f.value),l.clone().multiplyScalar(o[1]).add(n).add(f.value)],labelPoint:i??[0,0,0]}}));const w=(0,l.EW)(()=>t.value.rotation.clone()),k=(0,l.EW)(()=>[t.value.radius,t.value.radius,.1]),P=(0,l.EW)(()=>t.value.origin.clone().add(f.value));return(a,n)=>{const r=(0,l.g2)("TresObject3D"),s=(0,l.g2)("TresCylinderGeometry"),u=(0,l.g2)("TresMeshPhongMaterial"),d=(0,l.g2)("TresMesh");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(r,{visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(se,{sundialRotation:t.value.rotation,show:t.value.showGrid,origin:P.value,radius:t.value.radius,colorPalette:t.value.gridColorPalette},null,8,["sundialRotation","show","origin","radius","colorPalette"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(y),({points:e,hour:a})=>((0,l.uX)(),(0,l.Wv)((0,o.R1)(te.Xk),{key:a,"line-width":1,points:e,color:"#FFFFFF"},null,8,["points"]))),128))]),_:1},8,["visible"]),(0,l.bF)(r,{visible:e.show,position:t.value.origin,rotation:w.value},{default:(0,l.k6)(()=>[(0,l.bF)(d,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{args:k.value},null,8,["args"]),(0,l.bF)(u,{color:"#f9ecec"})]),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(y),e=>((0,l.uX)(),(0,l.Wv)(oe,{key:e.hour,text:e.label,position:e.labelPoint,"receive-shadow":""},null,8,["text","position"]))),128)),(0,l.bF)(d,{position:t.value.gnomonPosition,rotation:i.value,"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{args:[.05,.05,2]}),(0,l.bF)(u,{color:"#b7b7b7"})]),_:1},8,["position","rotation"])]),_:1},8,["visible","position","rotation"])],64)}}});const de=ue;var ce=de,pe=t(2493);const ve=5;var he=(0,l.pM)({__name:"CameraHelper",props:{xOffset:{required:!0,type:Number},zoomPerSecond:{required:!1,default:1,type:Number},timeAdvanceSpeed:{required:!0,type:Number},target:{required:!0,type:Object},sundialRotation:{required:!0,type:Object},sundialOrigin:{required:!0,type:Object},snapCamera:{required:!0,type:Boolean}},emits:["cameraQuaternionChange","onAdvanceTime"],setup(e,{emit:a}){const{camera:t,sizes:n,renderer:i,invalidate:r,cameras:s,setCameraActive:u}=(0,v.lG)(),d=e,c=a;(0,l.wB)(()=>[n.width.value,n.height.value,d.xOffset,t.value],()=>{const e=(n.width.value+2*Math.abs(d.xOffset))/n.width.value;t.value&&t.value.setViewOffset(n.width.value*e,n.height.value*e,d.xOffset>0?2*d.xOffset:0,n.height.value*(e-1)/2,n.width.value,n.height.value)},{immediate:!0});const{onBeforeRender:p,pause:h,resume:m}=(0,v._N)();(0,l.wB)(()=>[d.zoomPerSecond,d.timeAdvanceSpeed],()=>{1!=d.zoomPerSecond||0!=d.timeAdvanceSpeed?m():h()},{immediate:!0});let g=(0,o.KR)(0);p(({delta:e})=>{if(t.value&&1!=d.zoomPerSecond){const a=Math.pow(d.zoomPerSecond,e);if(d.snapCamera){let e=t.value;e.isOrthographicCamera&&(e.zoom/=a,y.update())}else t.value.position.multiplyScalar(a)}if(0!=d.timeAdvanceSpeed){const a=e*d.timeAdvanceSpeed/70*1e3+g.value,t=Math.floor(a);g.value=a%1,t>0&&c("onAdvanceTime",t)}}),(0,l.wB)(()=>[t.value?.position.x,t.value?.position.y,t.value?.position.z],()=>{t.value&&r()},{immediate:!0}),(0,l.wB)(()=>[t.value?.quaternion.w,t.value?.quaternion.x,t.value?.quaternion.y,t.value?.quaternion.z],()=>{t.value&&c("cameraQuaternionChange",t.value.quaternion.clone())},{immediate:!0});const b=(0,o.KR)();let f,y;return(0,l.wB)(()=>[d.snapCamera,s],()=>{y&&(y.enabled=d.snapCamera),f&&(f.enabled=!d.snapCamera);for(let e of s.value)if(d.snapCamera&&e.isOrthographicCamera||!d.snapCamera&&e.isPerspectiveCamera)return void u(e.uuid)},{immediate:!0}),(0,l.wB)(()=>[i.value,t.value,d.snapCamera],()=>{if(!f&&i.value&&t.value&&!d.snapCamera&&(t.value?.position.set(7,7,7),f=new pe.N(t.value,i.value.domElement),f.target=d.target,f.enableDamping=!1,f.rotateSpeed=.5,f.enablePan=!1,f.enabled=!d.snapCamera,f.update()),!y&&i.value&&t.value&&d.snapCamera){const e=new L.Pq0(0,1,0).applyEuler(d.sundialRotation),a=d.sundialOrigin.clone().add(e.clone().multiplyScalar(ve));t.value.position.set(a.x,a.y,a.z),t.value.up.set(...new L.Pq0(0,0,-1).applyEuler(d.sundialRotation).toArray());let n=t.value;n.zoom=.07*window.innerHeight,y=new pe.r(t.value,i.value.domElement),y.target.set(...d.sundialOrigin.toArray()),y.enableDamping=!1,y.panSpeed=.79,y.screenSpacePanning=!0,y.zoomToCursor=!0,y.rotateSpeed=0,y.enabled=d.snapCamera,y.update(),b.value=d.sundialRotation.clone()}},{immediate:!0}),(0,l.wB)(()=>[d.sundialRotation,d.snapCamera],()=>{if(y&&t.value&&b.value&&d.snapCamera){const e=new L.Pq0(0,1,0).applyEuler(b.value),a=new L.Zcv(e,0).translate(d.sundialOrigin),n=D(a,t.value.position,t.value.getWorldDirection(new L.Pq0))?.sub(d.sundialOrigin).applyQuaternion((new L.PTz).setFromEuler(b.value).invert()).setComponent(1,0).applyEuler(d.sundialRotation).add(d.sundialOrigin);if(!n)return;const l=new L.Pq0(0,1,0).applyEuler(d.sundialRotation),o=n.clone().add(l.clone().multiplyScalar(ve));y.target.set(...n.toArray()),t.value.position.set(...o.toArray()),t.value.up.set(...new L.Pq0(0,0,-1).applyEuler(d.sundialRotation).toArray()),y.update(),b.value=d.sundialRotation.clone()}}),()=>{}}});const me=he;var ge=me,be=(0,l.pM)({__name:"RendererHelper",setup(e){const{renderer:a}=(0,v.lG)();return a.value.setPixelRatio(window.devicePixelRatio),a.value.localClippingEnabled=!0,()=>{}}});const fe=be;var ye=fe,we=t.p+"img/Equation_of_time.fb12789b.svg";function ke(e,a){return a[0]||(a[0]=(0,l.Fv)('<p style="margin-top:0;" data-v-35ba8230><strong data-v-35ba8230>Apparent solar time</strong> is the time based on the observed local position of the sun. 12 noon is the exact time at which the sun is highest in the sky.</p><p data-v-35ba8230>However, if you measure the length of time between two consecutive solar noons, the measurement could differ from 24 hours by -21 to +30 seconds. (see the <a href="https://en.wikipedia.org/wiki/Solar_time" target="_blank" data-v-35ba8230>Wikipedia article on Solar Time</a> for an explanation).</p><p data-v-35ba8230>Instead, in <strong data-v-35ba8230>Mean solar time</strong>, every day is exactly<strong data-v-35ba8230>*</strong> 24 hours long. This is more useful, but due to those small deviations in the length of the solar day adding up, the mean solar time can differ from the apparent solar time by up to 16 minutes. The relationship between the apparent and mean solar time can be seen in the <strong data-v-35ba8230>Equation of Time</strong>.</p><div style="text-align:center;" data-v-35ba8230><img src="'+we+'" alt="Equation of time graph" style="max-height:200px;background-color:white;" data-v-35ba8230><br data-v-35ba8230></div><i data-v-35ba8230>Attribution: By <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-35ba8230>Equation of time.png</a>: <a href="//commons.wikimedia.org/wiki/User:Drini" title="User:Drini" target="_blank" data-v-35ba8230>User:Drini</a> derivative work: <a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-35ba8230>Zazou</a> (<a href="//commons.wikimedia.org/wiki/User_talk:Zazou" title="User talk:Zazou" target="_blank" data-v-35ba8230><span class="signature-talk" data-v-35ba8230>talk</span></a>) - <a href="//commons.wikimedia.org/wiki/File:Equation_of_time.png" title="File:Equation of time.png" target="_blank" data-v-35ba8230>Equation of time.png</a>, <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-Share Alike 3.0" target="_blank" data-v-35ba8230>CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=6961998" target="_blank" data-v-35ba8230>Link</a></i><p data-v-35ba8230>In order to standardize time for different longitudes, <strong data-v-35ba8230>Coordinated Universal Time (UTC)</strong> is used, which represents the mean solar time at 0 degrees longitude (or, within 1 second of it). <strong data-v-35ba8230>Local standard time</strong> is UTC adjusted by the time zone.</p><p data-v-35ba8230><i data-v-35ba8230><strong data-v-35ba8230>*</strong>Well, almost exactly. The length of the mean solar day actually varies a tiny bit each year compared to International Atomic Time. This sometimes requires a <strong data-v-35ba8230>leap second</strong> be added to or subtracted from UTC.</i></p>',7))}var Le=t(1241);const Pe={},Re=(0,Le.A)(Pe,[["render",ke],["__scopeId","data-v-35ba8230"]]);var Me=Re;const xe=[{target:"#app",content:"Click and drag on the sundial to look around, and use the mouse wheel to adjust the zoom.\nZoom out to see the sun's position!",params:{placement:"bottom",enableScrolling:!1}},{target:'[data-v-walkthrough="status"]',content:"Use the sliders to change the <strong>Time</strong> and <strong>Date</strong>.\nYou can also click on the digital clock to set the time manually.",params:{placement:"auto",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="map"]',content:"Sundials work differently depending on the location on Earth.\nSet the location by clicking on the map, or by typing the <strong>Latitude</strong> and <strong>Longitude</strong>.",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="time-zone"]',content:"The <strong>Time Zone</strong> is set automatically based on the longitude. Instead, to manually input the time zone, uncheck <strong>Automatically set time zone</strong> and type in the <strong>Time Zone</strong> box.\n",params:{placement:"right",enableScrolling:!1,highlight:!0}},{target:'[data-v-walkthrough="sundial-type"]',content:"Choose between 2 types of sundial. <strong>Traditional sundial</strong> uses a <i>gnomon</i> to cast a shadow, and <strong>Point shadow trace</strong> uses a <i>nodus</i>, showing where the shadow of a single point falls throughout the day and year.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="slant-and-rotation"]',content:"The <strong>Slant</strong> and <strong>Rotation</strong> of the sundial can be changed. \nE.g. to simulate a wall-mounted sundial, set the <strong>Slant</strong> to 90° and the <strong>Rotation</strong> to the direction the wall is facing.<br>\nAdditionally, the <strong>Gnomon height</strong> (or Nodus height in Point shadow trace mode) adjusts the distance from the center of the shadow-casting object to the plate. The unit is arbitrary, because it's only the scale that matters.",params:{placement:"right",highlight:!0}},{target:'[data-v-walkthrough="hour-lines"]',content:'Sundials often measure <strong>Apparent solar time</strong>, where solar noon is the time at which the sun is highest in the sky.\nHowever, you may want the sundial to measure an approximation of standard time, taking the longitude and time zone into account. To do this, select <strong>Adjusted for time zone and longitude</strong>. Note that depending on the time of year the reading can be inaccurate by up to 16 min 33 s due to the varying length of the solar day (see <a href="https://en.wikipedia.org/wiki/Equation_of_time" target="_blank">https://en.wikipedia.org/wiki/Equation_of_time</a>).',params:{placement:"right",highlight:!0}}];var Se=t(6778),Ee=t(9438),qe=t(1950),We=t(3667),_e=(0,l.pM)({__name:"Line2FromCientosPackageAndItsTheSameButYouCanAlsoUseClippingPlanesSoItsNot",props:{points:{},vertexColors:{default:null},color:{default:"white"},lineWidth:{default:1},worldUnits:{type:Boolean,default:!1},alphaToCoverage:{type:Boolean,default:!1},dashed:{type:Boolean,default:!1},dashSize:{default:1},gapSize:{default:1},dashScale:{default:1},dashOffset:{default:0},clippingPlanes:{default:null}},setup(e,{expose:a}){const t=e;function n(e,a){if(!e||0===e.length)return Array.from({length:a}).fill((0,v.$2)(t.color));if(1===e.length)return Array.from({length:a}).fill((0,v.$2)(e[0]));if(e.length===a)return e.map(v.$2);const n=a-1,l=e.map(v.$2);closed&&l.push(l[0].clone());const o=[l[0]],i=n/(l.length-1);for(let t=1;t<n;t++){const e=t%i/i,a=Math.floor(t/i);o.push(l[a].clone().lerp(l[a+1],e))}return o.push(l[l.length-1]),o}const i=new We.G,r=new qe.v,s=new Ee.X(r,i),{sizes:u,invalidate:d}=(0,v.lG)(),c=(0,l.EW)(()=>Array.isArray(t.vertexColors));function p(e,a){e.color=(0,v.$2)(a.color),e.linewidth=a.lineWidth,e.alphaToCoverage=a.alphaToCoverage,e.worldUnits=a.worldUnits,e.vertexColors=Array.isArray(a.vertexColors),e.dashed=a.dashed,e.dashScale=a.dashScale,e.dashSize=a.dashSize,e.dashOffset=a.dashOffset,e.gapSize=a.gapSize,e.needsUpdate=!0,e.clippingPlanes=a.clippingPlanes}function h(e,a,t){const l=a.map(e=>e instanceof L.Pq0?[e.x,e.y,e.z]:e instanceof L.I9Y?[e.x,e.y,0]:Array.isArray(e)&&2===e.length?[e[0],e[1],0]:e).flat();e.setPositions(l.flat());const o=n(t,a.length).map(e=>e.toArray()).flat();e.setColors(o),s.computeLineDistances()}p(i,t),h(r,t.points,t.vertexColors),s.computeLineDistances(),(0,l.wB)(()=>[t.color,t.lineWidth,t.alphaToCoverage,t.worldUnits,c,t.dashed,t.dashScale,t.dashSize,t.dashOffset,t.clippingPlanes],()=>{p(i,t),d()}),(0,l.wB)(()=>[t.points,t.vertexColors],()=>{h(r,t.points,t.vertexColors),d()}),(0,l.wB)(()=>[u.height,u.width],()=>{i.resolution=new L.I9Y(u.width.value,u.height.value),d()}),(0,l.hi)(()=>{r.dispose(),i.dispose()});const m=(0,o.IJ)();return a({instance:m}),(e,a)=>{const t=(0,l.g2)("primitive");return(0,l.uX)(),(0,l.Wv)(t,{ref:m.value,object:(0,o.R1)(s)},null,8,["object"])}}});const Ce=_e;var Fe=Ce;const Te=.2,Ae=.15,Oe=.1;var ze=(0,l.pM)({__name:"PointSundial",props:{show:{required:!0,type:Boolean},latitude:{required:!0,type:Number},longitude:{required:!0,type:Number},radius:{required:!0,type:Number},gnomonPosition:{required:!0,type:Object},origin:{required:!0,type:Object},rotation:{required:!0,type:Object},hourLineStyle:{required:!0,type:String},timeZone:{required:!0,type:Number},declinationPlots:{required:!0,type:Array},localTime:{required:!0,type:Number},day:{required:!0,type:Number},showGrid:{required:!0,type:Boolean},gridColorPalette:{required:!0,type:String}},setup(e){const a=e,t=(0,o.KR)({...a});(0,l.wB)(a,e=>{e.show&&(t.value={...e})},{immediate:!0});const n=(0,l.EW)(()=>new L.Pq0(...t.value.gnomonPosition).applyEuler(t.value.rotation).add(new L.Pq0(...t.value.origin)));let i=(0,l.EW)(()=>new L.Pq0(0,1,0).applyEuler(t.value.rotation));const r=(0,l.EW)(()=>new L.Zcv(i.value,0).translate(new L.Pq0(...t.value.origin))),s=(0,l.EW)(()=>i.value.clone().normalize().multiplyScalar(.007));function u(e,a,l){let o;switch(l){case"modern-local":o=R(a,60*e-t.value.timeZone,t.value.latitude,t.value.longitude);break;case"modern-mean-solar":o=R(a,60*e,t.value.latitude,0);break;case"modern-apparent-solar":o=M(a,60*e,t.value.latitude,t.value.longitude);break;case"babylonian":{const n=x(a,60*e,t.value.latitude,t.value.longitude,{maxDeclination:Math.max(f.value,y.value),minDeclination:Math.min(f.value,y.value)});if(!n)return null;o=n;break}case"italian":{const n=S(a,60*e,t.value.latitude,t.value.longitude,{maxDeclination:Math.max(f.value,y.value),minDeclination:Math.min(f.value,y.value)});if(!n)return null;o=n;break}case"seasonal":{const n=E(a,60*e,t.value.latitude,t.value.longitude,{maxDeclination:Math.max(f.value,y.value),minDeclination:Math.min(f.value,y.value)});if(!n)return null;o=n;break}}const i=I(o.azimuth,o.altitude),u=new L.RlV(n.value,new L.Pq0(-i.x,-i.y,-i.z)),d=u.intersectPlane(r.value,new L.Pq0);return d?.add(s.value)??null}const d=(0,l.EW)(()=>["modern-local","modern-mean-solar"].includes(t.value.hourLineStyle)?"full-year":"half-year"),c=[...Array(24).keys()],p=(0,l.EW)(()=>"full-year"==d.value?[...Array(37).keys()].map(e=>10*e):[...Array(37).keys()].map(e=>171+Math.round(e/36*183))),v=(0,l.EW)(()=>c.map(e=>p.value.map(a=>u(e,a,t.value.hourLineStyle)))),h=(0,l.EW)(()=>[...v.value.entries()].map(([e,a])=>({hour:c[e],line:(()=>{const e=Y(a,p.value.length+1,new L.Pq0(0,0,0),"half-year"==d.value);return e})(),show:!("seasonal"==t.value.hourLineStyle&&e>12)}))),m=[...Array(48).keys()].map(e=>e/2),g=C(8532.5),b=(0,l.EW)(()=>Math.abs(t.value.latitude)>90-180*g/Math.PI),f=(0,l.EW)(()=>P(V(t.value.latitude))),y=(0,l.EW)(()=>-f.value),w=(0,l.EW)(()=>[{label:"december-solstice",declination:-g,color:"#ffffff",show:t.value.declinationPlots.includes("december-solstice")},{label:"june-solstice",declination:g,color:"#ffffff",show:t.value.declinationPlots.includes("june-solstice")},{label:"equinox",declination:0,color:"#ffffff",show:t.value.declinationPlots.includes("equinox")},{label:"polar-day",declination:f.value,color:"#EE442F",show:b.value&&t.value.declinationPlots.includes("polar-day")},{label:"polar-night",declination:y.value,color:"#601A4A",show:b.value&&t.value.declinationPlots.includes("polar-night")}]),k=(0,l.EW)(()=>w.value.map(e=>{const a=m.map(a=>{const l=(a-12)/24*Math.PI*2,{azimuth:o,altitude:i}=T(e.declination,l,t.value.latitude*Math.PI/180),{x:u,y:d,z:c}=I(o,i),p=new L.RlV(n.value,new L.Pq0(-u,-d,-c)).intersectPlane(r.value,new L.Pq0);return p?.add(s.value)??null}),l=Y(a,m.length+1,new L.Pq0(0,0,0));return{...e,line:l}})),q=(0,l.EW)(()=>[{normal:new L.Pq0(1,0,0),coplanarPoint:new L.Pq0(-t.value.radius,0,0).add(t.value.origin)},{normal:new L.Pq0(-1,0,0),coplanarPoint:new L.Pq0(t.value.radius,0,0).add(t.value.origin)},{normal:new L.Pq0(0,0,1),coplanarPoint:new L.Pq0(0,0,-t.value.radius).add(t.value.origin)},{normal:new L.Pq0(0,0,-1),coplanarPoint:new L.Pq0(0,0,t.value.radius).add(t.value.origin)}]),W=(0,l.EW)(()=>{const e=[];for(let{normal:a,coplanarPoint:n}of q.value)e.push((new L.Zcv).setFromNormalAndCoplanarPoint(a.clone().applyEuler(t.value.rotation),n.clone().add(t.value.origin.clone().multiplyScalar(-1)).applyEuler(t.value.rotation).add(t.value.origin)));return e}),_=(0,l.EW)(()=>{const e=new L.RlV(n.value,new L.Pq0(0,Math.cos(P(90-t.value.latitude)),-Math.sin(P(90-t.value.latitude)))),a=e.intersectsPlane(r.value);switch(t.value.hourLineStyle){case"modern-local":case"modern-mean-solar":case"modern-apparent-solar":return a?"december-solstice":"june-solstice";case"babylonian":case"italian":return b.value?a!=t.value.latitude<0?"polar-night":"polar-day":a?"december-solstice":"june-solstice";case"seasonal":return b.value?"polar-day":a?"december-solstice":"june-solstice";default:return ae(t.value.hourLineStyle)}}),F=(0,l.EW)(()=>{switch(t.value.hourLineStyle){case"modern-local":case"modern-mean-solar":case"modern-apparent-solar":{const e=c.map(e=>{let a;return a="modern-local"==t.value.hourLineStyle?e+24*t.value.longitude/360:e,(60*a%1440+1440)%1440*Math.PI*2/1440});return e.map(e=>j(e-("modern-local"==t.value.hourLineStyle?t.value.timeZone/1440*Math.PI*2:0),t.value.latitude*Math.PI/180,i.value).normalize().multiplyScalar("december-solstice"==_.value?1:-1))}case"babylonian":case"italian":case"seasonal":{const e=(()=>{switch(_.value){case"december-solstice":return-1;case"june-solstice":case"equinox":return 1;case"polar-day":return t.value.latitude>0?1:-1;case"polar-night":return t.value.latitude>0?-1:1}})();return h.value.map(({line:a})=>(new L.Pq0).subVectors(a[a.length-1],a[0]).normalize().multiplyScalar(e))}default:return ae(t.value.hourLineStyle)}}),A=(0,l.EW)(()=>{switch(_.value){case"december-solstice":return 354;case"june-solstice":return 171;case"polar-day":return t.value.latitude>0?171:354;case"polar-night":return t.value.latitude>0?354:171;case"equinox":return 78;default:return ae(_.value)}}),O=(0,l.EW)(()=>c.map((e,a)=>{const n=u(e,A.value,t.value.hourLineStyle)?.add(F.value[a].clone().multiplyScalar(Te));if(!n)return null;for(let t of W.value){const e=t.clone();if(e.constant-=Ae,e.distanceToPoint(n)<0)return null}return n})),z=(0,l.EW)(()=>{switch(t.value.hourLineStyle){case"modern-local":case"modern-mean-solar":case"modern-apparent-solar":case"italian":case"seasonal":case"babylonian":return 0;default:return ae(t.value.hourLineStyle)}}),$=(0,l.EW)(()=>c.map((e,a)=>({hour:e,label:O.value[a]?(e+z.value).toString():"",pos:O.value[a]?.sub(t.value.origin).applyMatrix4((new L.kn4).makeRotationFromEuler(t.value.rotation).invert())??new L.Pq0(0,0,0),show:!("seasonal"==t.value.hourLineStyle&&a>12)}))),K=(0,l.EW)(()=>{if(!t.value.show)return.12;const e=new L.Pq0(0,0,0).distanceTo(t.value.gnomonPosition);return e<1?.055:.12}),U=(0,l.EW)(()=>u(t.value.localTime/60,t.value.day,"modern-local")),X=(0,l.EW)(()=>[2*t.value.radius,.1,2*t.value.radius]),N=(0,l.EW)(()=>t.value.rotation.clone()),B=(0,l.EW)(()=>[[0,0,0],t.value.gnomonPosition.toArray()]),D=(0,l.EW)(()=>t.value.gnomonPosition.clone()),G=(0,l.EW)(()=>U.value??new L.Pq0(0,0,0)),Z=(0,l.EW)(()=>!!U.value),H=[new L.Pq0(-Oe/4*Math.sqrt(2),0,-Oe/4*Math.sqrt(2)),new L.Pq0(Oe/4*Math.sqrt(2),0,Oe/4*Math.sqrt(2))],Q=[new L.Pq0(-Oe/4*Math.sqrt(2),0,Oe/4*Math.sqrt(2)),new L.Pq0(Oe/4*Math.sqrt(2),0,-Oe/4*Math.sqrt(2))],J=(0,l.EW)(()=>t.value.origin.clone().add(s.value));return(e,n)=>{const i=(0,l.g2)("TresObject3D"),r=(0,l.g2)("TresBoxGeometry"),s=(0,l.g2)("TresMeshPhongMaterial"),u=(0,l.g2)("TresMesh"),d=(0,l.g2)("TresSphereGeometry");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(i,{visible:a.show},{default:(0,l.k6)(()=>[(0,l.bF)(se,{sundialRotation:t.value.rotation,show:a.showGrid,origin:J.value,radius:t.value.radius,colorPalette:t.value.gridColorPalette},null,8,["sundialRotation","show","origin","radius","colorPalette"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.value,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.hour,visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(Fe,{"line-width":1,points:e.line,color:"#ffffff","clipping-planes":W.value},null,8,["points","clipping-planes"])]),_:2},1032,["visible"]))),128)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(k.value,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.label,visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(Fe,{"line-width":1,points:e.line,color:e.color,"clipping-planes":W.value},null,8,["points","color","clipping-planes"])]),_:2},1032,["visible"]))),128)),(0,l.bF)(i,{position:G.value,visible:Z.value,rotation:N.value},{default:(0,l.k6)(()=>[(0,l.bF)(Fe,{"line-width":1,points:H,color:"#000000","clipping-planes":W.value},null,8,["clipping-planes"]),(0,l.bF)(Fe,{"line-width":1,points:Q,color:"#000000","clipping-planes":W.value},null,8,["clipping-planes"])]),_:1},8,["position","visible","rotation"])]),_:1},8,["visible"]),(0,l.bF)(i,{visible:a.show,position:t.value.origin,rotation:N.value},{default:(0,l.k6)(()=>[(0,l.bF)(u,{position:[0,-.05,0],"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(r,{args:X.value},null,8,["args"]),(0,l.bF)(s,{color:"#f9ecec"})]),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)($.value,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.hour,visible:e.show},{default:(0,l.k6)(()=>[(0,l.bF)(oe,{"receive-shadow":"",position:e.pos,text:e.label,size:K.value},null,8,["position","text","size"])]),_:2},1032,["visible"]))),128)),(0,l.bF)(u,{position:D.value,"cast-shadow":"","receive-shadow":""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{args:[.08,20,16]}),(0,l.bF)(s,{color:"#b7b7b7"})]),_:1},8,["position"]),(0,l.bF)((0,o.R1)(te.Xk),{"line-width":2,points:B.value,color:"#ffffff"},null,8,["points"])]),_:1},8,["visible","position","rotation"])],64)}}});const Ie=ze;var $e=Ie,je=(0,l.pM)({__name:"CompassObject",props:{sundialCameraQuaternion:{required:!1,type:Object}},setup(e){const a=e,t=(new L.PTz).setFromEuler(new L.O9p(0,Math.PI,0,"XYZ")),n=(0,l.EW)(()=>a.sundialCameraQuaternion?a.sundialCameraQuaternion.clone().invert().multiply(t):new L.PTz);return(e,a)=>{const t=(0,l.g2)("TresObject3D");return(0,l.uX)(),(0,l.Wv)(t,{quaternion:n.value},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.Wv)(l.tY,null,{default:(0,l.k6)(()=>[(0,l.bF)((0,o.R1)(te.FW),{path:"./objects3d/compass.glb"})]),_:1}))]),_:1},8,["quaternion"])}}});const Ve=je;var Ke=Ve;const Ue={style:{width:"100%",height:"100%",position:"fixed",left:"0",top:"0"}},Xe={id:"overlay"},Ne={id:"sidebarContent"},Be={"data-v-walkthrough":"map"},De={class:"horizontal_settings"},Ge={class:"setting"},Ze={key:0,class:"error"},He={class:"setting"},Qe={key:0,class:"error"},Je={class:"setting"},Ye={key:0,class:"error"},ea={style:{display:"grid","grid-template-columns":"min-content auto","grid-template-rows":"min-content auto"}},aa={style:{position:"relative","aspect-ratio":"2 / 1"}},ta={class:"setting","data-v-walkthrough":"time-zone"},na={class:"setting","data-v-walkthrough":"sundial-type"},la={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},oa={class:"checkboxSetting",style:{display:"flex","flex-direction":"row","align-items":"center"}},ia={"data-v-walkthrough":"slant-and-rotation"},ra={class:"setting"},sa={key:0,class:"error"},ua={class:"setting"},da={key:0,class:"error"},ca={class:"setting"},pa={class:"fieldTitle"},va={key:0,class:"error"},ha={class:"setting","data-v-walkthrough":"hour-lines"},ma={key:0},ga={class:"checkboxSetting"},ba={class:"checkboxSetting"},fa={key:1,style:{"margin-left":"10px"}},ya={class:"checkboxSetting"},wa={class:"checkboxSetting"},ka={class:"checkboxSetting"},La={class:"checkboxSetting"},Pa={class:"checkboxSetting"},Ra={class:"checkboxSetting"},Ma={key:0},xa={class:"setting"},Sa={class:"checkboxSetting"},Ea={class:"checkboxSetting"},qa={class:"checkboxSetting"},Wa={class:"checkboxSetting"},_a={for:"showPolarDayLine",class:"fieldOption"},Ca={class:"variable-readout"},Fa={class:"checkboxSetting"},Ta={for:"showPolarNightLine",class:"fieldOption"},Aa={class:"variable-readout"},Oa={class:"checkboxSetting"},za={class:"checkboxSetting"},Ia={class:"checkboxSetting"},$a={id:"topRightControls"},ja={id:"compassContainer",title:"North direction"},Va=["title"],Ka={src:c,height:"100%",alt:"Snap-to-top camera mode"},Ua={src:p,height:"100%",alt:"Orbit camera mode"},Xa={id:"status","data-v-walkthrough":"status"},Na={style:{display:"flex","flex-direction":"row","align-items":"center"}},Ba={style:{display:"flex","margin-left":"10px","justify-content":"end","flex-direction":"column","align-items":"stretch","padding-block":"9px"}},Da={class:"subtitle"},Ga={class:"subtitle"},Za={class:"subtitle"},Ha={style:{display:"flex","flex-direction":"row"}},Qa={class:"popper_content"},Ja={style:{"text-align":"left"}},Ya={class:"subtitle",style:{"margin-top":"13px"}},et=5,at=4,tt=4,nt=3;var lt=(0,l.pM)({__name:"App",setup(e){(0,n.$9)(e=>({"1221a6a2":lt.value}));const a=new L.Pq0(0,-.5,0),t=new L.Pq0(0,-1,0);let c=(0,o.KR)(720),p=(0,o.KR)(162),m=(0,o.KR)(0),b=(0,o.KR)(0),f=(0,o.KR)(!0),P=(0,o.KR)(0),M=(0,o.KR)(!1),x=(0,o.KR)("standard"),S=(0,o.KR)("modern-local"),E=(0,o.KR)("dialAndGnomon"),q=(0,o.KR)(0),W=(0,o.KR)(0),_=(0,o.KR)(1),F=(0,o.KR)(1),T=(0,o.KR)(!1),A=(0,o.KR)(!0),O=(0,o.KR)(!0),z=(0,o.KR)(!0),$=(0,o.KR)(!0),j=(0,o.KR)(0),B=(0,o.KR)(!1),D=(0,o.KR)(!1),G=(0,o.KR)(!1),H=(0,o.KR)(),Q=(0,o.KR)(!1),J=(0,o.KR)("");const Y=(0,o.KR)(null);function ae(){0==Q.value&&(Q.value=!0,J.value=K(c.value),(0,l.dY)(()=>Y.value?.focus()))}function te(){if(!Y.value)return;const e=U(Y.value.value);isNaN(e)||(c.value=e)}function ne(){1==Q.value&&(Q.value=!1,te())}(0,h.X2F)(Y,ne),(0,l.sV)(()=>{document.addEventListener("keydown",e=>{"Escape"==e.key&&me(!1)})});const le={latitude:"45.00",longitude:"0.00",timeZone:"+0:00",slant:"0",rotation:"0",gnomonHeight:"1"},oe=/^\s*([+-±]?)\s*((?:0?[0-9])|1[0-9])(?::((?:0[0-9])|[1-5][0-9]))?\s*$/;let ie=(0,o.Kh)(le);const re=(0,l.EW)(()=>({latitude:{required:w.mw,decimal:w._,minValue:(0,w.Ww)(-90),maxValue:(0,w.cG)(90)},longitude:{required:w.mw,decimal:w._,minValue:(0,w.Ww)(-180),maxValue:(0,w.cG)(180)},timeZone:{isATimeZone:w._$.withMessage("Your time zone should look like +/-HH(:MM)",w._$.regex(oe))},slant:{required:w.mw,decimal:w._,minValue:(0,w.Ww)(-180),maxValue:(0,w.cG)(180)},rotation:{required:w.mw,decimal:w._,minValue:(0,w.Ww)(-180),maxValue:(0,w.cG)(180)},gnomonHeight:{required:w.mw,decimal:w._,minValue:(0,w.Ww)(.5),maxValue:(0,w.cG)(3)}})),se=(0,k.Ay)(re,ie);(0,l.wB)(()=>ie.longitude,e=>{se.value.longitude.$invalid||(m.value=Number.parseFloat(e),f.value&&(ie.timeZone=N(Z(m.value))))},{immediate:!0}),(0,l.wB)(()=>ie.latitude,e=>{se.value.latitude.$invalid||(b.value=Number.parseFloat(e))},{immediate:!0}),(0,l.wB)(()=>ie.timeZone,e=>{const a=e.match(oe);if(a){const e=("-"==a[1]?-1:1)*(60*Number.parseInt(a[2])+Number.parseInt(a[3]??0));c.value=((c.value+e-P.value)%1440+1440)%1440,P.value=e}},{immediate:!0}),(0,l.wB)(()=>ie.slant,e=>{se.value.slant.$invalid||(q.value=Number.parseFloat(e)*Math.PI/180)},{immediate:!0}),(0,l.wB)(()=>ie.rotation,e=>{se.value.rotation.$invalid||(W.value=-Number.parseFloat(e)*Math.PI/180)},{immediate:!0}),(0,l.wB)(()=>ie.gnomonHeight,e=>{se.value.gnomonHeight.$invalid||(F.value=Number.parseFloat(e))},{immediate:!0});const ue=(0,l.EW)(()=>{const e=[];return T.value&&e.push("equinox"),O.value&&e.push("december-solstice"),A.value&&e.push("june-solstice"),z.value&&e.push("polar-day"),$.value&&e.push("polar-night"),e}),de=(0,l.nI)();let pe=(0,o.KR)(!1);function ve(){const e=de?.appContext.config.globalProperties.$tours["walkthrough"];e&&(e.isRunning.value?e.stop():(he(),e.start()))}function he(){de?.appContext.config.globalProperties.$tours["walkthrough"].finish(),pe.value=!1}function me(e){e&&he(),pe.value=e}const be=(0,o.KR)();(0,h.X2F)(be,()=>me(!1));let fe=(0,o.KR)(),we=(0,o.KR)(!1);function ke(e,a){if(fe.value){const t=ee(e/fe.value.width*360-180,{min:-180,max:180}),n=ee(90-a/fe.value.height*180,{min:-90,max:90});ie.longitude=t.toFixed(1),ie.latitude=n.toFixed(1)}}function Le(e){we.value&&ke(e.offsetX,e.offsetY)}function Pe(e){const a=fe.value?.getBoundingClientRect();if(!a)return;const t=e.touches[0];ke(t.clientX-a.left,t.clientY-a.top)}function Re(){we.value=!0}function Ee(e){ke(e.offsetX,e.offsetY)}(0,l.sV)(()=>{window.addEventListener("mouseup",()=>{we.value=!1})});let qe=(0,o.KR)({clientWidth:0,clientHeight:0});const We=(0,o.KR)(),_e=new ResizeObserver(()=>{const e=We.value?.clientWidth??0,a=We.value?.clientHeight??0;qe.value={clientWidth:e,clientHeight:a}});function Ce(){0==j.value?j.value=1:(j.value*=4,j.value>16&&(j.value=0))}function Fe(e){c.value+=e,c.value>=1440&&(c.value%=1440,p.value=(p.value+1)%365)}(0,l.sV)(()=>{_e.observe(We.value)}),(0,l.wB)(()=>f.value,e=>{e&&(ie.timeZone=N(Z(m.value)))});const Te=(0,l.EW)(()=>new L.O9p(Math.abs(q.value),W.value+(q.value<0?Math.PI:0),0,"YXZ")),Ae=(0,l.EW)(()=>new L.Pq0(0,F.value,0)),Oe=(0,l.EW)(()=>new L.Pq0(0,F.value,0)),ze=(0,l.EW)(()=>((c.value-P.value)%1440+1440)%1440),Ie=(0,l.EW)(()=>R(p.value,ze.value,b.value,m.value)),je=(0,l.EW)(()=>I(Ie.value.azimuth,Ie.value.altitude)),Ve=(0,l.EW)(()=>Ie.value.altitude>=0),lt=(0,l.EW)(()=>Ve.value||B.value?"black":"white"),ot=(0,l.EW)(()=>K(c.value)),it=(0,l.EW)(()=>X(p.value)),rt=(0,l.EW)(()=>ze.value+m.value/360*24*60),st=(0,l.EW)(()=>K(rt.value)),ut=(0,l.EW)(()=>{const e=b.value*Math.PI/180,a=12*Math.atan2(je.value.y*Math.cos(e)+je.value.z*Math.sin(e),je.value.x)/Math.PI+6,t=(a%24+24)%24*60;return t}),dt=(0,l.EW)(()=>K(ut.value)),ct=(0,l.EW)(()=>N(P.value)),pt=(0,l.EW)(()=>Ie.value.altitude>.1?1:Ie.value.altitude>0?Ie.value.altitude/.1:0),vt=(0,l.EW)(()=>{if(B.value)return"#87CEEB";let e=0;return Ie.value.altitude>.1?e=1:Ie.value.altitude>-.1&&(e=(Ie.value.altitude+.1)/.2),g()(["#02407a","#87CEEB"])(e)}),ht=(0,l.EW)(()=>{const e=new L.Pq0(0,1,0).applyEuler(Te.value),a=new L.Pq0(je.value.x,je.value.y,je.value.z),t=e.dot(a)/(e.length()*a.length());return t<=0?0:t*pt.value}),mt=(0,l.EW)(()=>ht.value>=.5?"light":"dark"),gt=(0,l.EW)(()=>0==j.value?"▶":j.value+"x"),bt=(0,l.EW)(()=>{const e=V(b.value);return Math.abs(e)*Math.PI/180>C(8532.5)?null:e}),ft=(0,l.EW)(()=>bt.value?bt.value.toFixed(1)+"°":"n/a"),yt=(0,l.EW)(()=>bt.value?(-bt.value).toFixed(1)+"°":"n/a"),wt=(0,l.EW)(()=>"dialAndGnomon"===E.value),kt=(0,l.EW)(()=>"pointSundial"===E.value),Lt=(0,l.EW)(()=>[je.value.x,je.value.y,je.value.z]),Pt=(0,l.EW)(()=>M.value?1:pt.value),Rt=(0,l.EW)(()=>-qe.value.clientWidth/2),Mt=[50,50,"#AAAAAA","#AAAAAA"],xt=[0,-8,0],St=[0,0,10],Et=[0,0,0];return(e,h)=>{const g=(0,l.g2)("v-tour"),w=(0,l.g2)("TresPerspectiveCamera"),k=(0,l.g2)("TresOrthographicCamera"),R=(0,l.g2)("TresDirectionalLight"),q=(0,l.g2)("TresAmbientLight"),W=(0,l.g2)("TresGridHelper");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(g,{name:"walkthrough",steps:(0,o.R1)(xe),options:{labels:{buttonSkip:"Close",buttonPrevious:"Previous",buttonNext:"Next",buttonStop:"Finish"}}},null,8,["steps"]),(0,l.Lk)("div",Ue,[(0,l.bF)((0,o.R1)(v.rs),{"clear-color":vt.value,shadows:"",shadowMapType:(0,o.R1)(L.bTm),"render-mode":"on-demand",id:"sundial"},{default:(0,l.k6)(()=>[(0,l.bF)(w),(0,l.bF)(k),(0,l.bF)(ce,{show:wt.value,latitude:(0,o.R1)(b),longitude:(0,o.R1)(m),origin:(0,o.R1)(a),rotation:Te.value,"gnomon-position":Ae.value,radius:et,hourLineStyle:(0,o.R1)(x),"time-zone":(0,o.R1)(P),numeralDistanceFromSundialOrigin:tt,showGrid:(0,o.R1)(D),gridColorPalette:mt.value},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone","showGrid","gridColorPalette"]),(0,l.bF)($e,{show:kt.value,latitude:(0,o.R1)(b),longitude:(0,o.R1)(m),origin:(0,o.R1)(a),rotation:Te.value,"gnomon-position":Oe.value,radius:at,hourLineStyle:(0,o.R1)(S),"time-zone":(0,o.R1)(P),declinationPlots:ue.value,localTime:(0,o.R1)(c),day:(0,o.R1)(p),showGrid:(0,o.R1)(D),gridColorPalette:mt.value},null,8,["show","latitude","longitude","origin","rotation","gnomon-position","hourLineStyle","time-zone","declinationPlots","localTime","day","showGrid","gridColorPalette"]),(0,l.bF)(y,{position:je.value},null,8,["position"]),(0,l.bF)(R,{position:Lt.value,intensity:Pt.value,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"cast-shadow":""},null,8,["position","intensity"]),(0,l.bF)(q,{color:"#AAAAAA"}),(0,l.bF)(W,{args:Mt,position:xt}),(0,l.bF)(ge,{"x-offset":Rt.value,"zoom-per-second":(0,o.R1)(_),onCameraQuaternionChange:h[0]||(h[0]=e=>(0,o.i9)(H)?H.value=e.clone():H=e.clone()),onOnAdvanceTime:Fe,"time-advance-speed":(0,o.R1)(j),target:(0,o.R1)(t),sundialOrigin:(0,o.R1)(a),sundialRotation:Te.value,snapCamera:(0,o.R1)(G)},null,8,["x-offset","zoom-per-second","time-advance-speed","target","sundialOrigin","sundialRotation","snapCamera"]),(0,l.bF)(ye)]),_:1},8,["clear-color","shadowMapType"])]),(0,l.Lk)("div",Xe,[(0,l.Lk)("div",{id:"sidebar",ref_key:"sidebar",ref:We},[(0,l.Lk)("div",Ne,[(0,l.Lk)("a",{class:"sidebar_link",onClick:h[1]||(h[1]=e=>{e.preventDefault(),ve()}),href:"javascript:void(0)"},"walkthrough"),h[85]||(h[85]=(0,l.eW)(" · ",-1)),h[86]||(h[86]=(0,l.Lk)("a",{class:"sidebar_link",href:"https://github.com/tpeach90/sundials/",style:{"text-decoration":"none"},target:"_blank",title:"Source code on github.com"},[(0,l.Lk)("span",{style:{"text-decoration":"underline"}},"code"),(0,l.Lk)("img",{src:r,style:{height:"1em","margin-left":"0.2em"},alt:"GitHub logo"})],-1)),h[87]||(h[87]=(0,l.Lk)("h2",null,"Coordinates",-1)),(0,l.Lk)("div",Be,[(0,l.Lk)("div",De,[(0,l.Lk)("div",Ge,[h[52]||(h[52]=(0,l.Lk)("label",{class:"fieldTitle"},"Latitude/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":h[2]||(h[2]=e=>(0,o.R1)(se).latitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).latitude.$model]]),(0,o.R1)(se).latitude.$dirty&&(0,o.R1)(se).latitude.$invalid?((0,l.uX)(),(0,l.CE)("div",Ze,(0,i.v_)((0,o.R1)(se).latitude.$errors[0].$message),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",He,[h[53]||(h[53]=(0,l.Lk)("label",{class:"fieldTitle"},"Longitude/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":h[3]||(h[3]=e=>(0,o.R1)(se).longitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).longitude.$model]]),(0,o.R1)(se).longitude.$dirty&&(0,o.R1)(se).longitude.$invalid?((0,l.uX)(),(0,l.CE)("div",Qe,(0,i.v_)((0,o.R1)(se).longitude.$errors[0].$message),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Je,[h[54]||(h[54]=(0,l.Lk)("label",{class:"fieldTitle"},"Time Zone/±UTC",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":h[4]||(h[4]=e=>(0,o.R1)(se).timeZone.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).timeZone.$model]]),(0,o.R1)(se).timeZone.$dirty&&(0,o.R1)(se).timeZone.$invalid?((0,l.uX)(),(0,l.CE)("div",Ye,(0,i.v_)((0,o.R1)(se).timeZone.$errors[0].$message),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",ea,[(0,l.bo)((0,l.Lk)("input",{style:{"grid-row":"1","grid-column":"1","margin-right":"10px",height:"100%","margin-top":"0px","margin-bottom":"0px","touch-action":"none"},type:"range",min:"-90",max:"90",step:"-0.1",class:"slider",orient:"vertical","onUpdate:modelValue":h[5]||(h[5]=e=>(0,o.R1)(se).latitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).latitude.$model]]),(0,l.Lk)("div",aa,[(0,l.Lk)("img",{src:s,id:"mapImage",alt:"A world map",style:{"grid-row":"1","grid-column":"2","object-fit":"contain",display:"block",margin:"0px","touch-action":"none"},draggable:"false",onMousemove:Le,onMousedown:Re,onTouchstart:Re,onTouchmove:Pe,onClick:Ee,ref_key:"mapImage",ref:fe},null,544),(0,l.Lk)("div",{id:"markerPoint",style:(0,i.Tr)(`top:${100*(90-(0,o.R1)(b))/180}%; left:${100*((0,o.R1)(m)+180)/360}%`)},null,4)]),(0,l.bo)((0,l.Lk)("input",{style:{"grid-row":"2","grid-column":"2","margin-top":"10px","margin-left":"0px","margin-right":"0px"},type:"range",min:"-180",max:"180",step:"1",class:"slider","onUpdate:modelValue":h[6]||(h[6]=e=>(0,o.R1)(se).longitude.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).longitude.$model]])])]),(0,l.Lk)("div",ta,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"autoSelectTimeZone","onUpdate:modelValue":h[7]||(h[7]=e=>(0,o.i9)(f)?f.value=e:f=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(f)]]),h[55]||(h[55]=(0,l.Lk)("label",{for:"autoSelectTimeZone",class:"fieldOption"},"Automatically set time zone",-1))]),h[88]||(h[88]=(0,l.Lk)("br",null,null,-1)),h[89]||(h[89]=(0,l.Lk)("h2",null,"Sundial Settings",-1)),(0,l.Lk)("div",na,[(0,l.Lk)("div",la,[h[57]||(h[57]=(0,l.Lk)("label",{for:"dialAndGnomon",style:{"margin-right":"10px"}},[(0,l.Lk)("img",{src:u,style:{"max-width":"50px"},alt:"Traditional sundial icon"})],-1)),(0,l.Lk)("div",null,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"dialAndGnomon",value:"dialAndGnomon","onUpdate:modelValue":h[8]||(h[8]=e=>(0,o.i9)(E)?E.value=e:E=e)},null,512),[[n.XL,(0,o.R1)(E)]]),h[56]||(h[56]=(0,l.Lk)("label",{for:"dialAndGnomon",class:"fieldOption"}," Traditional sundial ",-1))])]),(0,l.Lk)("div",oa,[h[59]||(h[59]=(0,l.Lk)("label",{for:"pointSundial",style:{"margin-right":"10px"}},[(0,l.Lk)("img",{src:d,style:{"max-width":"50px"},alt:"Point shadow trace icon"})],-1)),(0,l.Lk)("div",null,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pointSundial",value:"pointSundial","onUpdate:modelValue":h[9]||(h[9]=e=>(0,o.i9)(E)?E.value=e:E=e)},null,512),[[n.XL,(0,o.R1)(E)]]),h[58]||(h[58]=(0,l.Lk)("label",{for:"pointSundial",class:"fieldOption"}," Point shadow trace ",-1))])])]),h[90]||(h[90]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",ia,[(0,l.Lk)("div",ra,[h[60]||(h[60]=(0,l.Lk)("label",{class:"fieldTitle"},"Slant/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":h[10]||(h[10]=e=>(0,o.R1)(se).slant.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).slant.$model]]),(0,o.R1)(se).slant.$dirty&&(0,o.R1)(se).slant.$invalid?((0,l.uX)(),(0,l.CE)("div",sa,(0,i.v_)((0,o.R1)(se).slant.$errors[0].$message),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{type:"range",min:-180,max:180,step:"1",class:"slider","onUpdate:modelValue":h[11]||(h[11]=e=>(0,o.R1)(se).slant.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).slant.$model]])]),(0,l.Lk)("div",ua,[h[61]||(h[61]=(0,l.Lk)("label",{class:"fieldTitle"},"Rotation/°",-1)),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":h[12]||(h[12]=e=>(0,o.R1)(se).rotation.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).rotation.$model]]),(0,o.R1)(se).rotation.$dirty&&(0,o.R1)(se).rotation.$invalid?((0,l.uX)(),(0,l.CE)("div",da,(0,i.v_)((0,o.R1)(se).rotation.$errors[0].$message),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{type:"range",min:-180,max:180,step:"1",class:"slider","onUpdate:modelValue":h[13]||(h[13]=e=>(0,o.R1)(se).rotation.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).rotation.$model]])]),(0,l.Lk)("div",ca,[(0,l.Lk)("label",pa,(0,i.v_)("dialAndGnomon"==(0,o.R1)(E)?"Gnomon":"Nodus")+" height",1),(0,l.bo)((0,l.Lk)("input",{class:"small_input","onUpdate:modelValue":h[14]||(h[14]=e=>(0,o.R1)(se).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).gnomonHeight.$model]]),(0,o.R1)(se).gnomonHeight.$dirty&&(0,o.R1)(se).gnomonHeight.$invalid?((0,l.uX)(),(0,l.CE)("div",va,(0,i.v_)((0,o.R1)(se).gnomonHeight.$errors[0].$message),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{type:"range",min:.5,max:3,step:"0.05",class:"slider","onUpdate:modelValue":h[15]||(h[15]=e=>(0,o.R1)(se).gnomonHeight.$model=e)},null,512),[[n.Jo,(0,o.R1)(se).gnomonHeight.$model]])])]),(0,l.Lk)("div",ha,[h[72]||(h[72]=(0,l.Lk)("label",{class:"fieldTitle"},"Hour lines",-1)),"dialAndGnomon"==(0,o.R1)(E)?((0,l.uX)(),(0,l.CE)("div",ma,[(0,l.Lk)("div",ga,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"standardLines",value:"standard","onUpdate:modelValue":h[16]||(h[16]=e=>(0,o.i9)(x)?x.value=e:x=e)},null,512),[[n.XL,(0,o.R1)(x)]]),h[62]||(h[62]=(0,l.Lk)("label",{for:"standardLines",class:"fieldOption"},"Adjusted for time zone and longitude",-1))]),(0,l.Lk)("div",ba,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"solarLines",value:"solar","onUpdate:modelValue":h[17]||(h[17]=e=>(0,o.i9)(x)?x.value=e:x=e)},null,512),[[n.XL,(0,o.R1)(x)]]),h[63]||(h[63]=(0,l.Lk)("label",{for:"solarLines",class:"fieldOption"},"Apparent solar time",-1))])])):"pointSundial"==(0,o.R1)(E)?((0,l.uX)(),(0,l.CE)("div",fa,[h[70]||(h[70]=(0,l.Lk)("label",{class:"fieldTitle"},"Modern hours",-1)),(0,l.Lk)("div",ya,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstModernLocal",value:"modern-local","onUpdate:modelValue":h[18]||(h[18]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),h[64]||(h[64]=(0,l.Lk)("label",{for:"pstModernLocal",class:"fieldOption"},"Local standard time",-1))]),(0,l.Lk)("div",wa,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstModernMeanSolar",value:"modern-mean-solar","onUpdate:modelValue":h[19]||(h[19]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),h[65]||(h[65]=(0,l.Lk)("label",{for:"pstModernMeanSolar",class:"fieldOption"},"Mean solar time",-1))]),(0,l.Lk)("div",ka,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstModernApparentSolar",value:"modern-apparent-solar","onUpdate:modelValue":h[20]||(h[20]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),h[66]||(h[66]=(0,l.Lk)("label",{for:"pstModernApparentSolar",class:"fieldOption"},"Apparent solar time",-1))]),h[71]||(h[71]=(0,l.Lk)("label",{class:"fieldTitle",style:{"margin-top":"4px"}},[(0,l.eW)(" Other "),(0,l.Lk)("a",{class:"sidebar_link",href:"https://www.bcgnomonics.com/types-of-hours",title:"Explanation on bcgnomonics.com",target:"_blank"},"(? - bcgnomonics.com)")],-1)),(0,l.Lk)("div",La,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstBabylonian",value:"babylonian","onUpdate:modelValue":h[21]||(h[21]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),h[67]||(h[67]=(0,l.Lk)("label",{for:"pstBabylonian",class:"fieldOption"},"Babylonian hours – hours from sunrise",-1))]),(0,l.Lk)("div",Pa,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstItalian",value:"italian","onUpdate:modelValue":h[22]||(h[22]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),h[68]||(h[68]=(0,l.Lk)("label",{for:"pstItalian",class:"fieldOption"},"Italian hours – hours from sunset",-1))]),(0,l.Lk)("div",Ra,[(0,l.bo)((0,l.Lk)("input",{type:"radio",id:"pstSeasonal",value:"seasonal","onUpdate:modelValue":h[23]||(h[23]=e=>(0,o.i9)(S)?S.value=e:S=e)},null,512),[[n.XL,(0,o.R1)(S)]]),h[69]||(h[69]=(0,l.Lk)("label",{for:"pstSeasonal",class:"fieldOption"},"Seasonal/unequal hours – sunrise to sunset",-1))])])):(0,l.Q3)("",!0)]),"pointSundial"==(0,o.R1)(E)?((0,l.uX)(),(0,l.CE)("div",Ma,[h[81]||(h[81]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",xa,[h[80]||(h[80]=(0,l.Lk)("label",{class:"fieldTitle"},"Constant-declination curves",-1)),(0,l.Lk)("div",Sa,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showJuneSolsticeLine","onUpdate:modelValue":h[24]||(h[24]=e=>(0,o.i9)(A)?A.value=e:A=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(A)]]),h[73]||(h[73]=(0,l.Lk)("label",{for:"showJuneSolsticeLine",class:"fieldOption"},"June solstice (23.44°)",-1))]),(0,l.Lk)("div",Ea,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showDecemberSolsticeLine","onUpdate:modelValue":h[25]||(h[25]=e=>(0,o.i9)(O)?O.value=e:O=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(O)]]),h[74]||(h[74]=(0,l.Lk)("label",{for:"showDecemberSolsticeLine",class:"fieldOption"},"December solstice (-23.44°)",-1))]),(0,l.Lk)("div",qa,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showEquinoxLine","onUpdate:modelValue":h[26]||(h[26]=e=>(0,o.i9)(T)?T.value=e:T=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(T)]]),h[75]||(h[75]=(0,l.Lk)("label",{for:"showEquinoxLine",class:"fieldOption"},"Equinox (0°)",-1))]),(0,l.Lk)("div",Wa,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showPolarDayLine","onUpdate:modelValue":h[27]||(h[27]=e=>(0,o.i9)(z)?z.value=e:z=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)(z)]]),(0,l.Lk)("label",_a,[h[76]||(h[76]=(0,l.eW)("Polar day boundary (",-1)),(0,l.Lk)("div",Ca,(0,i.v_)(ft.value),1),h[77]||(h[77]=(0,l.eW)(")",-1))])]),(0,l.Lk)("div",Fa,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showPolarNightLine","onUpdate:modelValue":h[28]||(h[28]=e=>(0,o.i9)($)?$.value=e:$=e),style:{"margin-right":"10px",display:"inline"}},null,512),[[n.lH,(0,o.R1)($)]]),(0,l.Lk)("label",Ta,[h[78]||(h[78]=(0,l.eW)("Polar night boundary (",-1)),(0,l.Lk)("div",Aa,(0,i.v_)(yt.value),1),h[79]||(h[79]=(0,l.eW)(")",-1))])])])])):(0,l.Q3)("",!0),h[91]||(h[91]=(0,l.Lk)("br",null,null,-1)),h[92]||(h[92]=(0,l.Lk)("h2",null,"Misc",-1)),(0,l.Lk)("div",Oa,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"showSundialFaceGrid","onUpdate:modelValue":h[29]||(h[29]=e=>(0,o.i9)(D)?D.value=e:D=e)},null,512),[[n.lH,(0,o.R1)(D)]]),h[82]||(h[82]=(0,l.Lk)("label",{for:"showSundialFaceGrid",class:"fieldOption"},"Sundial grid overlay",-1))]),(0,l.Lk)("div",za,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"sunRaysPassThroughEarth","onUpdate:modelValue":h[30]||(h[30]=e=>(0,o.i9)(M)?M.value=e:M=e)},null,512),[[n.lH,(0,o.R1)(M)]]),h[83]||(h[83]=(0,l.Lk)("label",{for:"sunRaysPassThroughEarth",class:"fieldOption"},"Light can reach the sundial at night",-1))]),(0,l.Lk)("div",Ia,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"alwaysDaySkyColor","onUpdate:modelValue":h[31]||(h[31]=e=>(0,o.i9)(B)?B.value=e:B=e)},null,512),[[n.lH,(0,o.R1)(B)]]),h[84]||(h[84]=(0,l.Lk)("label",{for:"alwaysDaySkyColor",class:"fieldOption"},"Disable night-time dark sky color",-1))]),h[93]||(h[93]=(0,l.Lk)("br",null,null,-1)),h[94]||(h[94]=(0,l.Lk)("footer",null,[(0,l.Lk)("p",{id:"copyrightText"},[(0,l.eW)("© Thomas Peach 2025. "),(0,l.Lk)("a",{class:"sidebar_link",href:"mailto:thomas.peach546@gmail.com"},"Contact")])],-1))])],512),(0,l.Lk)("div",$a,[(0,l.Lk)("div",ja,[(0,l.bF)((0,o.R1)(v.rs),{"render-mode":"on-demand"},{default:(0,l.k6)(()=>[(0,l.bF)(q,{color:"#FFFFFF",intensity:2}),(0,l.bF)(k,{position:St,lookAt:Et,zoom:15}),(0,l.bF)(Ke,{sundialCameraQuaternion:(0,o.R1)(H)},null,8,["sundialCameraQuaternion"])]),_:1}),h[95]||(h[95]=(0,l.Lk)("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0"},title:"North"},null,-1))]),(0,l.Lk)("button",{class:"zoomControl",onKeydown:h[32]||(h[32]=(0,n.jR)(()=>{(0,o.i9)(_)?_.value=1/nt:_=1/nt},["enter"])),onKeyup:h[33]||(h[33]=(0,n.jR)(()=>{(0,o.i9)(_)?_.value=1:_=1},["enter"])),onMousedown:h[34]||(h[34]=()=>{(0,o.i9)(_)?_.value=1/nt:_=1/nt}),onMouseup:h[35]||(h[35]=()=>{(0,o.i9)(_)?_.value=1:_=1}),onPointerleave:h[36]||(h[36]=()=>{(0,o.i9)(_)?_.value=1:_=1}),onTouchstart:h[37]||(h[37]=()=>{(0,o.i9)(_)?_.value=1/nt:_=1/nt}),onTouchend:h[38]||(h[38]=()=>{(0,o.i9)(_)?_.value=1:_=1}),title:"Zoom in"}," + ",32),(0,l.Lk)("button",{class:"zoomControl",onKeydown:h[39]||(h[39]=(0,n.jR)(()=>{(0,o.i9)(_)?_.value=nt:_=nt},["enter"])),onKeyup:h[40]||(h[40]=(0,n.jR)(()=>{(0,o.i9)(_)?_.value=1:_=1},["enter"])),onMousedown:h[41]||(h[41]=()=>{(0,o.i9)(_)?_.value=nt:_=nt}),onMouseup:h[42]||(h[42]=()=>{(0,o.i9)(_)?_.value=1:_=1}),onPointerleave:h[43]||(h[43]=()=>{(0,o.i9)(_)?_.value=1:_=1}),onTouchstart:h[44]||(h[44]=()=>{(0,o.i9)(_)?_.value=nt:_=nt}),onTouchend:h[45]||(h[45]=()=>{(0,o.i9)(_)?_.value=1:_=1}),title:"Zoom out"}," - ",32),(0,l.Lk)("button",{class:"zoomControl",onClick:h[46]||(h[46]=()=>(0,o.i9)(G)?G.value=!(0,o.R1)(G):G=!(0,o.R1)(G)),title:(0,o.R1)(G)?"Switch to orbit camera":"Switch to snap-to-top camera"},[(0,l.bo)((0,l.Lk)("img",Ka,null,512),[[n.aG,(0,o.R1)(G)]]),(0,l.bo)((0,l.Lk)("img",Ua,null,512),[[n.aG,!(0,o.R1)(G)]])],8,Va)]),(0,l.Lk)("div",Xa,[(0,l.Lk)("div",Na,[(0,l.bo)((0,l.Lk)("div",{class:"time_display",onClick:ae,onKeydown:(0,n.jR)(ae,["space"]),tabindex:"0"},(0,i.v_)(ot.value),545),[[n.aG,!(0,o.R1)(Q)]]),(0,l.bo)((0,l.Lk)("input",{ref_key:"timeEntryBox",ref:Y,class:"timeEntryBox",onBlur:ne,onKeydown:[(0,n.jR)(ne,["enter"]),(0,n.jR)(ne,["esc"])],onInput:te,"onUpdate:modelValue":h[47]||(h[47]=e=>(0,o.i9)(J)?J.value=e:J=e)},null,544),[[n.aG,(0,o.R1)(Q)],[n.Jo,(0,o.R1)(J)]]),(0,l.bo)((0,l.Lk)("div",Ba,[h[96]||(h[96]=(0,l.Lk)("div",{class:"subtitle"},"local standard time",-1)),(0,l.Lk)("div",Da,"(UTC "+(0,i.v_)(ct.value)+") "+(0,i.v_)(Ve.value?"☀️":"🌙"),1)],512),[[n.aG,!(0,o.R1)(Q)]])]),(0,l.Lk)("div",Ga,(0,i.v_)(st.value)+" mean solar time",1),(0,l.Lk)("div",Za,(0,i.v_)(dt.value)+" apparent solar time",1),(0,l.Lk)("div",Ha,[(0,l.bo)((0,l.Lk)("input",{type:"range",min:"0",max:"1440",step:"10",class:"slider",id:"time","onUpdate:modelValue":h[48]||(h[48]=e=>(0,o.i9)(c)?c.value=e:c=e)},null,512),[[n.Jo,(0,o.R1)(c),void 0,{number:!0}]]),(0,l.Lk)("button",{type:"button",onClick:Ce,id:"time_advance_button",title:"Auto-advance time"},(0,i.v_)(gt.value),1)]),(0,l.bF)((0,o.R1)(Se.A),{arrow:"",placement:"left",show:(0,o.R1)(pe),ref_key:"threeTimesExplanationPopper",ref:be},{content:(0,l.k6)(()=>[(0,l.Lk)("div",Qa,[(0,l.Lk)("div",Ja,[(0,l.bF)(Me)]),(0,l.Lk)("button",{class:"v-step__button",onClick:h[49]||(h[49]=()=>me(!1))},"Close")])]),default:(0,l.k6)(()=>[(0,l.Lk)("a",{class:"overlay_link",href:"javascript:void(0)",onClick:h[50]||(h[50]=()=>me(!(0,o.R1)(pe)))},"Why are there 3 times?")]),_:1},8,["show"]),h[97]||(h[97]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",Ya,(0,i.v_)(it.value),1),(0,l.bo)((0,l.Lk)("input",{type:"range",min:"0",max:"364",step:"1",class:"slider",id:"day","onUpdate:modelValue":h[51]||(h[51]=e=>(0,o.i9)(p)?p.value=e:p=e)},null,512),[[n.Jo,(0,o.R1)(p),void 0,{number:!0}]])])])],64)}}});const ot=(0,Le.A)(lt,[["__scopeId","data-v-6dda5db4"]]);var it=ot,rt=t(2972),st=t.n(rt);const ut=(0,n.Ef)(it);ut.use(st()),ut.mount("#app")}],a={};function t(n){var l=a[n];if(void 0!==l)return l.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,l,o){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(t.O).every(function(e){return t.O[e](n[s])})?n.splice(s--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var u=l();void 0!==u&&(a=u)}}return a}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,l,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/sundials/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var l,o,i=n[0],r=n[1],s=n[2],u=0;if(i.some(function(a){return 0!==e[a]})){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(s)var d=s(t)}for(a&&a(n);u<i.length;u++)o=i[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},n=self["webpackChunksundials"]=self["webpackChunksundials"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(1)});n=t.O(n)})();
//# sourceMappingURL=app.da6579a9.js.map